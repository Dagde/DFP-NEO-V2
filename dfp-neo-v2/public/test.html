<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
    <style>
        body { background: black; color: white; font-family: Arial; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        .success { color: #4CAF50; font-size: 18px; }
        .info { color: #2196F3; margin: 10px 0; }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <div class="container">
        <h1>DFP-NEO Connectivity Test</h1>
        <p class="success">âœ… This page loaded successfully!</p>
        <p class="info">If you can see this page, the server is working correctly.</p>
        <p class="info">Current URL: <span id="url"></span></p>
        <p class="info">Timestamp: <span id="time"></span></p>
        
        <h2>Test Login Form</h2>
        <form id="testForm">
            <div style="margin: 10px 0;">
                <label>Username:</label><br>
                <input type="text" id="username" value="admin" style="padding: 5px; width: 200px;">
            </div>
            <div style="margin: 10px 0;">
                <label>Password:</label><br>
                <input type="password" id="password" value="admin123" style="padding: 5px; width: 200px;">
            </div>
            <button type="submit" style="padding: 10px 20px; background: #2196F3; color: white; border: none; cursor: pointer;">
                Test Authentication
            </button>
        </form>
        
        <div id="result" style="margin-top: 20px; padding: 10px; background: #333;"></div>
    </div>

    <script>
        document.getElementById('url').textContent = window.location.href;
        document.getElementById('time').textContent = new Date().toLocaleString();
        
        document.getElementById('testForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const result = document.getElementById('result');
            result.innerHTML = 'Testing authentication...';
            
            try {
                const response = await fetch('/api/auth/callback/credentials', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: new URLSearchParams({
                        username: document.getElementById('username').value,
                        password: document.getElementById('password').value,
                        csrfToken: 'test', // We'll need to get this properly
                        redirect: 'false'
                    })
                });
                
                result.innerHTML = `Response status: ${response.status}<br>Response: ${await response.text()}`;
            } catch (error) {
                result.innerHTML = `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
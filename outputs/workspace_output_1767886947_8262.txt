    }


    const scheduleList = (
        list: Trainee[],
        type: 'flight' | 'ftd' | 'cpt' | 'ground',
        isPlusOne: boolean,
        startTimeBoundary: number,
        endTimeBoundary: number,
        standbyPrefix: string | null,
        isNightPass: boolean
    ) => {
        // Time increments for slot hunting:
        // - Flight: 5 minutes (staggered departures to avoid all aircraft taxiing at once)
        // - Ground/CPT: 15 minutes (represents minimum gap between end of one ground school and start of next)
        const timeIncrement = type === 'flight' ? 5 / 60 : 15 / 60;
        const listName = `${isNightPass ? 'BNF' : type.toUpperCase()} ${isPlusOne ? 'Next+1' : 'Next'}`;
        setProgress({ message: `Placing ${listName} events...`, percentage: 40 + (['flight', 'ftd', 'cpt', 'ground'].indexOf(type) * 10) });
        
        let unplacedTrainees = [...list];
        let placedThisPass = true;

        const segments: { start: number, end: number, count: number }[] = [];
        if ((type === 'cpt' || type === 'ground') && !isNightPass) {
            const segmentDuration = 2;
            for (let t = startTimeBoundary; t < endTimeBoundary; t += segmentDuration) {
                segments.push({ start: t, end: t + segmentDuration, count: 0 });
            }
        }

        while(placedThisPass && unplacedTrainees.length > 0) {
            placedThisPass = false;
            const remainingForNextPass: Trainee[] = [];

            for (const trainee of unplacedTrainees) {
                const { next, plusOne } = traineeNextEventMap.get(trainee.fullName)!;
                const syllabusItem = isPlusOne ? plusOne : next;
                if (!syllabusItem) { continue; }

                let searchStartTime = startTimeBoundary;
                

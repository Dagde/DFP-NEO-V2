                console.log('ğŸ“¦ Data received from initializeData:', {
                    instructorsCount: data.instructors.length,
                    traineesCount: data.trainees.length,
                    aircraftCount: data.aircraft.length,
                    scoresCount: Object.keys(data.scores).length,
                    eventsCount: data.events.length,
                });
                
                setInstructorsData(data.instructors);
                setTraineesData(data.trainees);
                setEvents(data.events);
                
                console.log('âœ… State updated successfully');
            } catch (error) {
                console.error('âŒ Failed to load initial data:', error);
            }
        };
        loadInitialData();
    }, []);    
    // User change handler
    const handleUserChange = (userName: string) => {
        setCurrentUserName(userName);
        const newUser = instructorsData.find(inst => inst.name === userName);
        if (newUser) {
            setCurrentUserId(newUser.idNumber);
        }
    };
    // Find the highest permission level - prioritize Super Admin, then Admin, etc.
    const getHighestPermission = (permissions?: string[]): 'Super Admin' | 'Admin' | 'Staff' | 'Trainee' | 'Ops' | 'Scheduler' | 'Course Supervisor' => {
        if (!permissions || permissions.length === 0) return 'Staff';
        if (permissions.includes('Super Admin')) return 'Super Admin';

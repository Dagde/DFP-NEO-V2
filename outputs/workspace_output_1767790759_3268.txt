model Personnel {
  id                       String   @id @default(cuid())
  userId                   String   @unique
  
  // Basic Information
  idNumber                 Int?     // PMKeys/ID (same as userId) - Optional for migration
  name                     String
  rank                     String?  // WGCDR, SQNLDR, FLTLT, FLGOFF, PLTOFF, Mr
  service                  String?  // RAAF, RAN, or ARA
  role                     String?  // QFI, or SIM IP
  callsignNumber           Int?
  
  // Qualifications & Roles (Boolean flags)
  category                 String?  // A2, B1, B2, C1, C2, or INSTRUCTOR
  seatConfig               String?  // Normal, FWD/SHORT, REAR/SHORT, or FWD/LONG
  isTestingOfficer         Boolean  @default(false)
  isExecutive              Boolean  @default(false)
  isFlyingSupervisor       Boolean  @default(false)
  isIRE                    Boolean  @default(false)
  isCommandingOfficer      Boolean  @default(false)
  isCFI                    Boolean  @default(false)
  isDeputyFlightCommander  Boolean  @default(false)
  isContractor             Boolean  @default(false)
  isAdminStaff             Boolean  @default(false)
  isQFI                    Boolean  @default(false)
  isOFI                    Boolean  @default(false)
  
  // Assignment
  location                 String?
  unit                     String?
  flight                   String?
  
  // Contact
  phoneNumber              String?
  email                    String?
  
  // Permissions
  permissions              String[] // Trainee, Staff, Ops, Scheduler, Course Supervisor, Admin, Super Admin
  
  // Unavailability (replaces availability)
  unavailability           Json?    // Array of UnavailabilityPeriod objects
  
  // Logbook Experience
  priorExperience          Json?    // LogbookExperience object
  
  // Legacy fields (kept for migration)
  qualifications           Json?    // Will be migrated to individual fields
  availability             Json?    // Will be migrated to unavailability
  preferences              Json?    // Not currently used in UI
  
  // Metadata
  isActive                 Boolean  @default(true)
  createdAt                DateTime @default(now())
  updatedAt                DateTime @updatedAt
  
  // Relations
  user           User     @relation("Personnel", fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([idNumber])
  @@index([role])

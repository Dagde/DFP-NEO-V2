2971-        return saved !== null ? JSON.parse(saved) : true; // Default to true
2972-    });
2973-
2974:    // Save overlay setting to localStorage when it changes
2975-    useEffect(() => {
2976-        localStorage.setItem('showDepartureDensityOverlay', JSON.stringify(showDepartureDensityOverlay));
2977-    }, [showDepartureDensityOverlay]);
--
3030-    const [date, setDate] = useState<string>(() => getLocalDateString());
3031-    const [events, setEvents] = useState<ScheduleEvent[]>(ESL_DATA.events);
3032-    const [selectedEvent, setSelectedEvent] = useState<ScheduleEvent | null>(null);
3033:    const [isEditingDefault, setIsEditingDefault] = useState(false);
3034-    const [highlightedField, setHighlightedField] = useState<'startTime' | 'instructor' | 'student' | null>(null);
3035-    const [conflict, setConflict] = useState<Conflict | null>(null);
3036-    const [showValidation, setShowValidation] = useState(false);
--
3237-    const [showCurrencySetup, setShowCurrencySetup] = useState(false);
3238-    
3239-    // Unsaved changes state
3240:    const [dirtyCheck, setDirtyCheck] = useState<{ isDirty: () => boolean; onSave: () => void; onDiscard: () => void } | null>(null);

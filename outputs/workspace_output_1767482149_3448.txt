model Aircraft {
  id              String   @id @default(cuid())
  userId          String
  aircraftNumber  String   // e.g., "001", "002"
  type            String   // Aircraft type
  status          String   @default("available") // 'available', 'maintenance', 'unavailable'
  configuration   Json?    // Seat configurations, equipment
  maintenanceLog  Json?    // Maintenance history
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  user            User     @relation("Aircraft", fields: [userId], references: [id], onDelete: Cascade)
  
  @@index([userId])
  @@index([status])
  @@index([isActive])
  @@unique([userId, aircraftNumber])
}

model CancellationHistory {
  id              String   @id @default(cuid())
  userId          String
  scheduleId      String?
  eventId         String
  eventType       String   // 'flight', 'simulator', etc.
  cancellationCode String
  reason          String?
  cancelledBy     String
  cancelledAt     DateTime @default(now())
  originalData    Json     // Original event data before cancellation
  
  user            User     @relation("CancellationHistory", fields: [userId], references: [id], onDelete: Cascade)
  
  @@index([userId])
  @@index([scheduleId])
  @@index([cancelledAt])
  @@index([cancellationCode])
}

model AuditLog {

        if (!event.resourceId || event.resourceId === '') {
            // Determine resource type based on event type
            const resourcePrefix = event.type === 'flight' ? 'PC-21 ' : 
                                 event.type === 'ftd' ? 'FTD ' : 
                                 event.type === 'cpt' ? 'CPT ' : 'Ground ';
            const resourceCount = event.type === 'flight' ? availableAircraftCount : 
                                event.type === 'ftd' ? ftdCount : 
                                event.type === 'cpt' ? cptCount : 6;
            
            // Find first available resource
            let assignedResource: string | null = null;
--
            if (!instructor) return null;
        }
        
        let resourceId: string | null = null;
        const resourcePrefix = type === 'flight' ? 'PC-21 ' : type === 'ftd' ? 'FTD ' : type === 'cpt' ? 'CPT ' : 'Ground ';
        const resourceCount = type === 'flight' ? availableAircraftCount : type === 'ftd' ? ftdCount : type === 'cpt' ? cptCount : 6;
        
        // Debug logging removed to reduce console noise
        
        for (let i = 1; i <= resourceCount; i++) {
            const id = `${resourcePrefix}${i}`;

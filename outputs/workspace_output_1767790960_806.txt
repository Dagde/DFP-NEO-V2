
import React, { useState, useEffect, useMemo, useCallback, useRef } from 'react';
import { v4 as uuidv4 } from 'uuid';
import { initDB, seedDefaultTemplates } from './utils/db';
import LogbookView from './components/LogbookView';
import { AlgoContext } from './components/App';
import CurrencyBuilderView from './components/CurrencyBuilderView';
   import { seedTestAuditLogs } from './utils/seedAuditLogs';
   import { logAudit, setCurrentUser } from './utils/auditLogger';
   import { debouncedAuditLog } from './utils/auditDebounce';
   import DarkMessageModal from './components/DarkMessageModal';


// Import types
import { 
    ScheduleEvent, 
    Instructor, 
    Trainee, 
    SyllabusItemDetail, 
    Conflict, 
    PersonnelConflict, 
    Score, 
    PersonCurrencyStatus, 
    Pt051Assessment, 
    UnavailabilityPeriod, 
    NeoProblemTile, 
    NeoRemedy, 
    NeoInstructorRemedy, 
    NeoTimeShiftRemedy, 
    Course, 
    EventLimits, 
    PhraseBank,
    SctRequest,
    RemedialRequest,
    MasterCurrency,
    CurrencyRequirement,
    CurrencyDefinition,
    OracleAnalysisResult,
    OracleInstructorAnalysis,
    OracleTraineeAnalysis,
    NeoTraineeRemedy,
    EventSegment,
    FormationCallsign,
    CancellationCode,
    CancellationRecord
} from './types';
import { NewCourseData } from './components/AddCourseFlyout';

// Import components
import Sidebar from './components/Sidebar';
import Header from './components/Header';
import ScheduleView from './components/ScheduleView';
import InstructorScheduleView from './components/InstructorScheduleView';
import TraineeScheduleView from './components/TraineeScheduleView';
import CourseRosterView from './components/CourseRosterView';
import HateSheetView from './components/HateSheetView';
import ScoreDetailView from './components/ScoreDetailView';
import { EventDetailModal } from './components/FlightDetailModal';
import ConflictModal from './components/ConflictModal';
import AddGroundEventFlyout from './components/AddGroundEventFlyout';
import CptConflictWarningFlyout from './components/CptConflictWarningFlyout';
import MyDashboard from './components/MyDashboard';
import SupervisorDashboard from './components/SupervisorDashboard';
import NextDayBuildView from './components/NextDayBuildView';
import { PrioritiesViewWithMenu } from './components/PrioritiesViewWithMenu';
import ProgramDataView from './components/ProgramDataView';
import BuildAnalysisView from './components/BuildAnalysisView';
import BuildDfpLoadingFlyout from './components/BuildDfpLoadingFlyout';
import BuildDateWarningFlyout from './components/BuildDateWarningFlyout';
import UnavailabilityConflictFlyout from './components/UnavailabilityConflictFlyout';
import Magnifier from './components/Magnifier';
import SuccessNotification from './components/SuccessNotification';
import InstructorListView from './components/InstructorListView';
import TraineeListView from './components/TraineeListView';
import SyllabusView from './components/SyllabusView';
import { InstructorProfileFlyout } from './components/InstructorProfileFlyout';
import TraineeProfileFlyout from './components/TraineeProfileFlyout';
import PublishConfirmationFlyout from './components/PublishConfirmationFlyout';
import CurrencyView from './components/CurrencyView';
// FIX: Corrected import to be a named import as per module export.
import { CurrencySetupFlyout } from './components/CurrencySetupFlyout';
import UnsavedChangesWarning from './components/UnsavedChangesWarning';
import PT051View from './components/PT051View';
import AuthorisationFlyout from './components/AuthorisationFlyout';
// FIX: Corrected import to be a named import as per module export.
import { SettingsViewWithMenu } from './components/SettingsViewWithMenu';
import AuthorisationView from './components/AuthorisationView';
import LocalityChangeFlyout from './components/LocalityChangeFlyout';
import { PostFlightView } from './components/PostFlightView';
import TraineeLmpView from './components/TraineeLmpView';
import AddRemedialPackageFlyout from './components/AddRemedialPackageFlyout';
import CourseProgressView from './components/CourseProgressView';
import TrainingRecordsView from './components/TrainingRecordsView';
import ArchivedCoursesView from './components/ArchivedCoursesView';
import NightFlyingInfoFlyout from './components/NightFlyingInfoFlyout';
import NeoRemedyFlyout from './components/NeoRemedyFlyout';
import UnavailabilityReportModal from './components/UnavailabilityReportModal';
import InfoNotification from './components/InfoNotification';
import DutyWarningFlyout from './components/DutyWarningFlyout';
import SctRequestFlyout from './components/SctRequestFlyout';

    
    const isGround = type === 'Ground School';
    
    // Determine Day/Night classification
    // BNF events are Night flights, Night SCT is Night, all others are Day by default
    const dayNight: 'Day' | 'Night' | 'Day/Night' = 
        code.startsWith('BNF') || code === 'Night SCT' ? 'Night' : 'Day';

    return {
        id: itemCode,
        code: itemCode,
        dayNight,
        phase,
        module,
        eventDescription: description,
        prerequisites: [],
        prerequisitesGround: [],
        prerequisitesFlying: [],
        eventDetailsCommon: eventDetails,
        eventDetailsSortie: [],
        totalEventHours,
        flightOrSimHours,
        duration: isGround ? totalEventHours : flightOrSimHours,
        preFlightTime,
        postFlightTime,
        type,
        sortieType,
           twrDiReqd: (code === 'BGF11' || code === 'BGF18') ? 'YES' : 'NO',
           cctOnly: (code === 'BGF10') ? 'YES' : 'NO',
        location,
        methodOfDelivery,
        methodOfAssessment: ['Practical Assessment', 'Debrief'],
        resourcesPhysical: methodOfDelivery.includes('Aircraft') ? ['PC-21 Aircraft'] : methodOfDelivery.includes('FTD') ? ['PC-21 FTD'] : ['Classroom'],
        resourcesHuman: ['Qualified Flying Instructor', 'Trainee'],
        courses,
    };
};

const syllabusItems: SyllabusItemDetail[] = [
    // BPC + IPC Items
    createSyllabusItem('BGF MB1', 'Preparation and Pre / Post Flight Admin'),
    createSyllabusItem('BGF MB2', 'Ground Operations and Checklist'),
    createSyllabusItem('BGF CPT1', 'Checklist Procedures - Ground'),
    createSyllabusItem('BGF TUT1A', 'Ejection Seat Strap-in'),
    createSyllabusItem('BGF TUT1B', 'FTD Safety Brief'),
    createSyllabusItem('BGF TUT2', 'Flight Preparation, Checklist and Walkaround'),
    createSyllabusItem('BGF MB3', 'Effects of Controls; Attitude Flying; Straight and Level; Turning'),
    createSyllabusItem('BGF MB4', 'Climbing and Descending and Climbing and Descending Turns'),
    createSyllabusItem('BGF MB5', 'Re-join; Landing; Local Circuit Procedures'),
    createSyllabusItem('BGF MB6', 'Emergency Handling and Procedures'),
    createSyllabusItem('BGF CPT2', 'Airborne Procedures'),
    createSyllabusItem('BGF FTD1', 'Strap in and Ground Procedures'),
    createSyllabusItem('BGF MB7', 'Normal Circuits'),
    createSyllabusItem('BGF1', 'Effects of Controls; Attitude Flying; Straight and Level; Turning; Steep Turn'),
    createSyllabusItem('BGF FTD2', 'Climbing; Descending; Climbing, Turning and Descending'),
    createSyllabusItem('BGF2', 'Basic AP Operation; Climbing; Descending; Climbing, Turning and Descending; Re-join; Landing'),
    createSyllabusItem('BGF MB8', 'Ground and Airborne Emergency Procedures'),
    createSyllabusItem('BGF CPT3', 'Emergency Procedures'),
    createSyllabusItem('BGF MB9', 'Wingover and Stalling'),
    createSyllabusItem('BGF TUT3', 'Stalling; Circuits'),
    createSyllabusItem('BGF FTD3', 'Normal Circuits - Base & Final; Go Around; Wingovers; Clean Stalls; Accelerated Stall'),
    createSyllabusItem('BGF3', 'Normal Circuit - Base and Final Technique; Go Around; Wingovers; Clean Stalls; Accelerated Stall'),
    createSyllabusItem('BGF FTD4', 'Emergency Procedures; Normal Circuit'),
    createSyllabusItem('BGF4', 'Configured Stalls; Normal Circuit'),
    createSyllabusItem('BGF5', 'Consolidate Stalls and Circuits'),
    createSyllabusItem('BGF MB10', 'Abnormal Recovery'),
    createSyllabusItem('BGF MB11', 'Solo Malfunctions'),
    createSyllabusItem('BGF MB12', 'Solo Briefing'),
    createSyllabusItem('BGF CPT4', 'Emergency Procedures'),
    createSyllabusItem('BGF6', 'Consolidate Circuits'),
    createSyllabusItem('BGF MB13', 'HUD Intro - Handling, Stalls, Normal CCT'),
    createSyllabusItem('BGF CPT5', 'HUD Intro'),
    createSyllabusItem('PRE-SOLO QUIZ', 'Pre-Solo Quiz'),
    createSyllabusItem('BGF7', 'HUD Intro - Handling, Stalls, Normal Circuit; Demo Abnormal Landing'),
    createSyllabusItem('BGF FTD5', 'Flapless & AIL PWR OFF S-l app; Circuit Consolidation'),
    createSyllabusItem('BGF8', 'Flapless & AIL PWR OFF S-1 app; Consolidation'),
    createSyllabusItem('PERRT CPT1', 'Hypoxia'),
    createSyllabusItem('BGF9', 'WSL Diversion; Controllability Check; Circuit Consolidation'),
    createSyllabusItem('BGF MB14', 'Low Level Circuit: Glide Circuit; Forced Landings'),
    createSyllabusItem('BGF FTD6', 'Emergency Handling - Solo'),
    createSyllabusItem('BGF10', 'Day Circuit Solo Check'),
    createSyllabusItem('BGF11', 'Day Circuit Solo'),
    createSyllabusItem('BGF MB15', 'G Warm Up; Basic Aerobatics; Unusual Attitude Recovery'),
    createSyllabusItem('BGF MB16', 'Spin Recovery'),
    createSyllabusItem('BGF FTD7', 'Gliding; Glide Circuit; Low Level Circuit'),
    createSyllabusItem('BGF12', 'Glide Circuit'),
    createSyllabusItem('BGF13', 'Low Level Circuit'),
    createSyllabusItem('BGF14', 'Unusual Attitude Recovery; G Warm Up; Wingover; Loop'),
    createSyllabusItem('BGF FTD8', 'Practice Forced Landing'),
    createSyllabusItem('BGF15', 'U/A NH NCR; Aileron Roll, Incipient Spin'),
    createSyllabusItem('AREA SOLO QUIZ', 'Area Solo Quiz'),
    createSyllabusItem('BGF16', 'Spin Recovery; PFL Area'),
    createSyllabusItem('BGF TUT4', 'Glide Circuit; Practice Forced Landing; Spinning; G Stall; G Warm Up; Basic Aerobatics; Unusual Attitude Recovery'),
    createSyllabusItem('BGF FTD9', 'Emergency Handling - Area Solo'),
    createSyllabusItem('BGF17', 'Area Solo Check'),
    createSyllabusItem('BGF18', 'Area Solo'),
    createSyllabusItem('BGF19', 'GF Consolidation'),
    createSyllabusItem('BGF20', 'General Flying Proficiency Test'),
    createSyllabusItem('BIF MB1', 'Basic Instrument Flying'),
    createSyllabusItem('BIF MB2', 'IF UA Recoveries; IF Orientation'),
    createSyllabusItem('BIF TUT1', 'Instrument Flying Basics; Radial Intercepts & Tracking'),
    createSyllabusItem('BIF CPT1', 'Instrument Flying Basics'),
    createSyllabusItem('BIF CPT2', 'Radial Intercept and Tracking'),
    createSyllabusItem('BIF FTD1*', 'IF Take-off; S&L, Climbing, Turning and Descending; Steep Turn; Radar Vectors to Initial'),
    createSyllabusItem('BIF FTD2', 'Radial Intercept and Tracking; A Recovery'),
    createSyllabusItem('BIF FTD3*', 'Basic IF Consolidation'),
    createSyllabusItem('BIF1', 'IF Take-off; S&; Climbing, Turning and Descending; Steep Turn; UA Recovery; Radar Vectors to Straight In Approach'),
    createSyllabusItem('BIF2', 'IF Consol; Radial Intercept and Tracking; RNP Demo'),
    createSyllabusItem('BNF MB1', 'Night Flying'),
    createSyllabusItem('BNF FTD1', 'Night Circuits'),
    createSyllabusItem('BNF1', 'Night Circuits'),

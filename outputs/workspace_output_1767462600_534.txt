components/SyllabusView.tsx:const EditableField: React.FC<{ label: string; value: string | number; onChange: (value: string | number) => void; type?: string; step?: number; }> = ({ label, value, onChange, type = 'text', step }) => (
components/SyllabusView.tsx:const EditableList: React.FC<{ title: string; items: string[]; onChange: (items: string[]) => void; }> = ({ title, items, onChange }) => (
components/SyllabusView.tsx:    isEditing: boolean;
components/SyllabusView.tsx:}> = ({ item, isEditing, editedItem, onItemChange }) => {
components/SyllabusView.tsx:    const currentItem = isEditing ? editedItem : item;
components/SyllabusView.tsx:            {isEditing ? (
components/SyllabusView.tsx:                <EditableField label="Code" value={currentItem.code} onChange={(val) => handleFieldChange('code', val)} />
components/SyllabusView.tsx:             {isEditing ? (
components/SyllabusView.tsx:                    <EditableField label="Event Description" value={currentItem.eventDescription} onChange={(val) => handleFieldChange('eventDescription', val)} />
components/SyllabusView.tsx:                {isEditing ? (
components/SyllabusView.tsx:                        <EditableField label="Code" value={currentItem.code} onChange={(val) => handleFieldChange('code', val)} />
components/SyllabusView.tsx:                        <EditableField label="Phase" value={currentItem.phase} onChange={(val) => handleFieldChange('phase', val)} />
components/SyllabusView.tsx:                        <EditableField label="Module" value={currentItem.module} onChange={(val) => handleFieldChange('module', val)} />
components/SyllabusView.tsx:                        <EditableField label="Total Event Hours" value={currentItem.totalEventHours} onChange={(val) => handleFieldChange('totalEventHours', val)} type="number" step={0.1}/>
components/SyllabusView.tsx:                        <EditableField label="Flight/Sim Hours" value={currentItem.flightOrSimHours} onChange={(val) => handleFieldChange('flightOrSimHours', val)} type="number" step={0.1}/>
components/SyllabusView.tsx:                        <EditableField 
components/SyllabusView.tsx:                        <EditableField 
components/SyllabusView.tsx:                   {isEditing ? (
components/SyllabusView.tsx:                       <EditableField label="Event Description" value={currentItem.eventDescription} onChange={(val) => handleFieldChange('eventDescription', val)} />
components/SyllabusView.tsx:                {isEditing ? (
components/SyllabusView.tsx:                        <EditableList title="Ground School" items={currentItem.prerequisitesGround} onChange={(val) => handleFieldChange('prerequisitesGround', val)} />
components/SyllabusView.tsx:                        <EditableList title="Sim/Flying" items={currentItem.prerequisitesFlying} onChange={(val) => handleFieldChange('prerequisitesFlying', val)} />
components/SyllabusView.tsx:                 {isEditing ? (
components/SyllabusView.tsx:                        <EditableList title="Methods of Delivery" items={currentItem.methodOfDelivery} onChange={(val) => handleFieldChange('methodOfDelivery', val)} />
components/SyllabusView.tsx:                        <EditableList title="Methods of Assessment" items={currentItem.methodOfAssessment} onChange={(val) => handleFieldChange('methodOfAssessment', val)} />
components/SyllabusView.tsx:                        <EditableList title="Event Details (Common)" items={currentItem.eventDetailsCommon} onChange={(val) => handleFieldChange('eventDetailsCommon', val)} />
components/SyllabusView.tsx:                        <EditableList title="Event Details (Sortie)" items={currentItem.eventDetailsSortie} onChange={(val) => handleFieldChange('eventDetailsSortie', val)} />
components/SyllabusView.tsx:                 {isEditing ? (
components/SyllabusView.tsx:                        <EditableList title="Physical Resources" items={currentItem.resourcesPhysical} onChange={(val) => handleFieldChange('resourcesPhysical', val)} />
components/SyllabusView.tsx:                        <EditableList title="Human Resources" items={currentItem.resourcesHuman} onChange={(val) => handleFieldChange('resourcesHuman', val)} />
components/SyllabusView.tsx:  const [isEditing, setIsEditing] = useState(false);
components/SyllabusView.tsx:  const [editedItem, setEditedItem] = useState<SyllabusItemDetail | null>(null);
components/SyllabusView.tsx:  const handleEdit = () => {
components/SyllabusView.tsx:        setEditedItem(JSON.parse(JSON.stringify(selectedItem)));
components/SyllabusView.tsx:        setIsEditing(true);
components/SyllabusView.tsx:  const handleSave = () => {
components/SyllabusView.tsx:                     action: 'Edit',
components/SyllabusView.tsx:      setIsEditing(false);
components/SyllabusView.tsx:      setEditedItem(null);
components/SyllabusView.tsx:      setIsEditing(false);
components/SyllabusView.tsx:      setEditedItem(null);
components/SyllabusView.tsx:            {isEditing ? (
components/SyllabusView.tsx:                    <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold">Save</button>
components/SyllabusView.tsx:                    <button onClick={handleEdit} disabled={!selectedItem} className="px-4 py-2 bg-gray-600 hover:bg-gray-700 shadow-md text-white rounded-md text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed">Edit</button>
components/SyllabusView.tsx:                      if (!isEditing) {
components/SyllabusView.tsx:                  disabled={isEditing}
components/SyllabusView.tsx:                      selectedItem?.id === item.id && !isEditing ? 'bg-sky-700 text-white font-semibold' : 'text-gray-300'
components/SyllabusView.tsx:                  } ${isEditing ? 'cursor-not-allowed text-gray-500' : 'hover:bg-gray-700/50'}`}
components/SyllabusView.tsx:                    isEditing={isEditing}
components/SyllabusView.tsx:                    onItemChange={setEditedItem}
components/InstructorProfileFlyout.tsx:    const [isEditing, setIsEditing] = useState(isCreating);
components/InstructorProfileFlyout.tsx:        setIsEditing(isCreating);
components/InstructorProfileFlyout.tsx:    const handleEdit = () => setIsEditing(true);
components/InstructorProfileFlyout.tsx:        setIsEditing(false);
components/InstructorProfileFlyout.tsx:                'Edit',
components/InstructorProfileFlyout.tsx:                'Edit',
components/InstructorProfileFlyout.tsx:                'Edit',
components/InstructorProfileFlyout.tsx:                'Edit',
components/InstructorProfileFlyout.tsx:    const handleSave = async () => {
components/InstructorProfileFlyout.tsx:                    action: 'Edit',
components/InstructorProfileFlyout.tsx:            setIsEditing(false);
components/InstructorProfileFlyout.tsx:    const handleSaveUnavailability = (periodData: Omit<UnavailabilityPeriod, 'id'>) => {
components/InstructorProfileFlyout.tsx:                            {isEditing ? (
components/InstructorProfileFlyout.tsx:                        {isEditing ? (
components/InstructorProfileFlyout.tsx:                                {isEditing ? (
components/InstructorProfileFlyout.tsx:                        {isEditing ? (
components/InstructorProfileFlyout.tsx:                        {isEditing ? (
components/InstructorProfileFlyout.tsx:                        {isEditing && (
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="P1" value={priorExperience.day.p1} onChange={v => handleExperienceChange('day', 'p1', v)} /> : <ExperienceDisplay label="P1" value={priorExperience.day.p1} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="P2" value={priorExperience.day.p2} onChange={v => handleExperienceChange('day', 'p2', v)} /> : <ExperienceDisplay label="P2" value={priorExperience.day.p2} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Dual" value={priorExperience.day.dual} onChange={v => handleExperienceChange('day', 'dual', v)} /> : <ExperienceDisplay label="Dual" value={priorExperience.day.dual} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="P1" value={priorExperience.night.p1} onChange={v => handleExperienceChange('night', 'p1', v)} /> : <ExperienceDisplay label="P1" value={priorExperience.night.p1} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="P2" value={priorExperience.night.p2} onChange={v => handleExperienceChange('night', 'p2', v)} /> : <ExperienceDisplay label="P2" value={priorExperience.night.p2} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Dual" value={priorExperience.night.dual} onChange={v => handleExperienceChange('night', 'dual', v)} /> : <ExperienceDisplay label="Dual" value={priorExperience.night.dual} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="TOTAL" value={priorExperience.total} onChange={v => handleExperienceChange('total', null, v)} /> : <ExperienceDisplay label="TOTAL" value={priorExperience.total} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Captain" value={priorExperience.captain} onChange={v => handleExperienceChange('captain', null, v)} /> : <ExperienceDisplay label="Captain" value={priorExperience.captain} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Instructor" value={priorExperience.instructor} onChange={v => handleExperienceChange('instructor', null, v)} /> : <ExperienceDisplay label="Instructor" value={priorExperience.instructor} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Sim" value={priorExperience.instrument.sim} onChange={v => handleExperienceChange('instrument', 'sim', v)} /> : <ExperienceDisplay label="Sim" value={priorExperience.instrument.sim} />}
components/InstructorProfileFlyout.tsx:                                            {isEditing ? <ExperienceInput label="Actual" value={priorExperience.instrument.actual} onChange={v => handleExperienceChange('instrument', 'actual', v)} /> : <ExperienceDisplay label="Actual" value={priorExperience.instrument.actual} />}
components/InstructorProfileFlyout.tsx:                                        {isEditing ? <ExperienceInput label="P1" value={priorExperience.simulator.p1} onChange={v => handleExperienceChange('simulator', 'p1', v)} /> : <ExperienceDisplay label="P1" value={priorExperience.simulator.p1} />}
components/InstructorProfileFlyout.tsx:                                        {isEditing ? <ExperienceInput label="P2" value={priorExperience.simulator.p2} onChange={v => handleExperienceChange('simulator', 'p2', v)} /> : <ExperienceDisplay label="P2" value={priorExperience.simulator.p2} />}
components/InstructorProfileFlyout.tsx:                                        {isEditing ? <ExperienceInput label="Dual" value={priorExperience.simulator.dual} onChange={v => handleExperienceChange('simulator', 'dual', v)} /> : <ExperienceDisplay label="Dual" value={priorExperience.simulator.dual} />}
components/InstructorProfileFlyout.tsx:                                        {isEditing ? <ExperienceInput label="Total" value={priorExperience.simulator.total} onChange={v => handleExperienceChange('simulator', 'total', v)} /> : <ExperienceDisplay label="Total" value={priorExperience.simulator.total} />}
components/InstructorProfileFlyout.tsx:                        {!isEditing && !isCreating && (
components/InstructorProfileFlyout.tsx:                        {isEditing ? (
components/InstructorProfileFlyout.tsx:                                <button onClick={handleSave} className={`${buttonClasses} btn-aluminium-brushed`}>Save</button>
components/InstructorProfileFlyout.tsx:                                <button onClick={handleEdit} className={`${buttonClasses} btn-aluminium-brushed`}>Edit</button>
components/InstructorProfileFlyout.tsx:                    onSave={handleSaveUnavailability}
components/TafWeatherWidget.tsx:    const [isEditing, setIsEditing] = useState(false);
components/TafWeatherWidget.tsx:    const [editLocations, setEditLocations] = useState<string[]>([]);
components/TafWeatherWidget.tsx:    // Save locations to localStorage
components/TafWeatherWidget.tsx:    const handleSaveLocations = () => {
components/TafWeatherWidget.tsx:        setIsEditing(false);
components/TafWeatherWidget.tsx:    const handleEditLocations = () => {
components/TafWeatherWidget.tsx:        setEditLocations([...locations]);
components/TafWeatherWidget.tsx:        setIsEditing(true);
components/TafWeatherWidget.tsx:    const handleCancelEdit = () => {
components/TafWeatherWidget.tsx:        setIsEditing(false);
components/TafWeatherWidget.tsx:        setEditLocations(updated);
components/TafWeatherWidget.tsx:                    {!isEditing && (
components/TafWeatherWidget.tsx:                                onClick={handleEditLocations}
components/TafWeatherWidget.tsx:                                Edit
components/TafWeatherWidget.tsx:                    {isEditing && (
components/TafWeatherWidget.tsx:                                onClick={handleSaveLocations}
components/TafWeatherWidget.tsx:                                Save
components/TafWeatherWidget.tsx:                                onClick={handleCancelEdit}
components/TafWeatherWidget.tsx:            {isEditing ? (
components/SettingsView.tsx:    const canEditSettings = ['Super Admin', 'Admin', 'Scheduler'].includes(currentUserPermission);
components/SettingsView.tsx:    const [isEditingLocations, setIsEditingLocations] = useState(false);
components/SettingsView.tsx:    const [isEditingUnits, setIsEditingUnits] = useState(false);
components/SettingsView.tsx:    const [isEditingSctEvents, setIsEditingSctEvents] = useState(false);
components/SettingsView.tsx:    const [isEditingLimits, setIsEditingLimits] = useState(false);
components/SettingsView.tsx:    const handleEditLocations = () => {
components/SettingsView.tsx:        setIsEditingLocations(true);
components/SettingsView.tsx:    const handleSaveLocations = () => {
components/SettingsView.tsx:        setIsEditingLocations(false);
components/SettingsView.tsx:        setIsEditingLocations(false);
components/SettingsView.tsx:    const handleEditUnits = () => {
components/SettingsView.tsx:        setIsEditingUnits(true);
components/SettingsView.tsx:    const handleSaveUnits = () => {
components/SettingsView.tsx:        setIsEditingUnits(false);
components/SettingsView.tsx:        setIsEditingUnits(false);
components/SettingsView.tsx:    const handleEditSctEvents = () => {
components/SettingsView.tsx:        setIsEditingSctEvents(true);
components/SettingsView.tsx:    const handleSaveSctEvents = () => {
components/SettingsView.tsx:        setIsEditingSctEvents(false);
components/SettingsView.tsx:        setIsEditingSctEvents(false);
components/SettingsView.tsx:    const handleEditLimits = () => {
components/SettingsView.tsx:        setIsEditingLimits(true);
components/SettingsView.tsx:    const handleSaveLimits = () => {
components/SettingsView.tsx:        setIsEditingLimits(false);
components/SettingsView.tsx:                            {isEditingLocations ? (
components/SettingsView.tsx:                                    <button onClick={handleSaveLocations} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx:                                   onClick={handleEditLocations} 
components/SettingsView.tsx:                                   disabled={!canEditSettings}
components/SettingsView.tsx:                                       canEditSettings 
components/SettingsView.tsx:                                   Edit
components/SettingsView.tsx:                            {isEditingLocations ? (
components/SettingsView.tsx:                              canEditSettings={canEditSettings}
components/SettingsView.tsx:                            {isEditingUnits ? (
components/SettingsView.tsx:                                    <button onClick={handleSaveUnits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx:                                onClick={handleEditUnits} 
components/SettingsView.tsx:                                disabled={!canEditSettings}
components/SettingsView.tsx:                                    canEditSettings 
components/SettingsView.tsx:                                Edit
components/SettingsView.tsx:                            {isEditingUnits ? (
components/SettingsView.tsx:                               {isEditingSctEvents ? (
components/SettingsView.tsx:                                       <button onClick={handleSaveSctEvents} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx:                                   onClick={handleEditSctEvents} 
components/SettingsView.tsx:                                   disabled={!canEditSettings}
components/SettingsView.tsx:                                       canEditSettings 
components/SettingsView.tsx:                                   Edit
components/SettingsView.tsx:                               {isEditingSctEvents ? (
components/SettingsView.tsx:                                        disabled={!canEditSettings}
components/SettingsView.tsx:                                            canEditSettings 
components/SettingsView.tsx:                                    {canEditSettings && (
components/SettingsView.tsx:                            {isEditingLimits ? (
components/SettingsView.tsx:                                <button onClick={handleSaveLimits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx:                                onClick={handleEditLimits} 
components/SettingsView.tsx:                                disabled={!canEditSettings}
components/SettingsView.tsx:                                    canEditSettings 
components/SettingsView.tsx:                                Edit
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/SettingsView.tsx:                                        {isEditingLimits ? (
components/EventDetailModal.tsx:    onSave: (events: ScheduleEvent[]) => void;
components/EventDetailModal.tsx:    onSave,
components/EventDetailModal.tsx:    const handleSave = () => {
components/EventDetailModal.tsx:            console.log('üî∑ MODAL: Calling onSave...');
components/EventDetailModal.tsx:            onSave([normalEvent]);
components/EventDetailModal.tsx:            console.log('üî∑ MODAL: Calling onSave...');
components/EventDetailModal.tsx:            onSave([sctEvent]);
components/EventDetailModal.tsx:            console.log('üî∑ MODAL: Calling onSave...');
components/EventDetailModal.tsx:            onSave([updatedEvent]);
components/EventDetailModal.tsx:        onSave(events);
components/EventDetailModal.tsx:                        {isAddingTile ? 'Add Event' : 'Edit Event'}
components/EventDetailModal.tsx:                        onClick={handleSave}
components/EventDetailModal.tsx:                        Save
components/CoursesManagementView.tsx:                    onSave={(data) => {
components/ScoringMatrixFlyout.tsx:    onSave: (name: string) => void;
components/ScoringMatrixFlyout.tsx:}> = ({ onClose, onSave }) => {
components/ScoringMatrixFlyout.tsx:    const handleSave = () => {
components/ScoringMatrixFlyout.tsx:            onSave(name.trim());
components/ScoringMatrixFlyout.tsx:                    <button onClick={handleSave} disabled={!name.trim()} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed">
components/ScoringMatrixFlyout.tsx:                        Save
components/ScoringMatrixFlyout.tsx:    const handleSaveNewElement = (newElementName: string) => {
components/ScoringMatrixFlyout.tsx:                    {/* Editable List Area */}
components/ScoringMatrixFlyout.tsx:                        onSave={handleSaveNewElement}
components/ACHistoryPage.tsx:  const canEdit = currentUserRole === 'Super Admin' || currentUserRole === 'Admin';
components/ACHistoryPage.tsx:  // Save codes to localStorage whenever they change
components/ACHistoryPage.tsx:  const handleEditCode = (oldCode: string, newCode: CancellationCode) => {
components/ACHistoryPage.tsx:        onEditCode={handleEditCode}
components/ACHistoryPage.tsx:        canEdit={canEdit}
components/Sidebar.tsx:  const handleSaveCourse = (data: NewCourseData) => {
components/Sidebar.tsx:            onSave={handleSaveCourse}
components/PrioritiesView.tsx:         logAudit('Priorities', 'Edit', 'Updated course priority order', 
components/PrioritiesView.tsx:    logAudit('Priorities', 'Edit', `Updated course percentage for ${courseToChange}`, `${currentPercent}% ‚Üí ${newPercent}%`);
components/PrioritiesView.tsx:                            <input id="aircraft-count" type="number" value={availableAircraftCount} onChange={(e) => { logAudit("Priorities", "Edit", "Updated available aircraft count", `${availableAircraftCount} ‚Üí ${parseInt(e.target.value)}`); onUpdateAircraftCount(parseInt(e.target.value)); }} className="w-full mt-1 bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500"/>
components/PrioritiesView.tsx:                            <input id="ftd-count" type="number" value={availableFtdCount} onChange={(e) => { logAudit("Priorities", "Edit", "Updated available FTD count", `${availableFtdCount} ‚Üí ${parseInt(e.target.value)}`); onUpdateFtdCount(parseInt(e.target.value)); }} className="w-full mt-1 bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500"/>
components/PrioritiesView.tsx:                            <input id="cpt-count" type="number" value={availableCptCount} onChange={(e) => { logAudit("Priorities", "Edit", "Updated available CPT count", `${availableCptCount} ‚Üí ${parseInt(e.target.value)}`); onUpdateCptCount(parseInt(e.target.value)); }} className="w-full mt-1 bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500"/>
components/PrioritiesView.tsx:                                <select value={flyingStartTime} onChange={(e) => { logAudit("Priorities", "Edit", "Updated flying start time", `${flyingStartTime} ‚Üí ${parseFloat(e.target.value)}`); onUpdateFlyingStartTime(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                <select value={flyingEndTime} onChange={(e) => { logAudit("Priorities", "Edit", "Updated flying end time", `${flyingEndTime} ‚Üí ${parseFloat(e.target.value)}`); onUpdateFlyingEndTime(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                   <select value={ftdStartTime} onChange={(e) => { logAudit("Priorities", "Edit", "Updated FTD start time", `${ftdStartTime} ‚Üí ${parseFloat(e.target.value)}`); onUpdateFtdStartTime(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                   <select value={ftdEndTime} onChange={(e) => { logAudit("Priorities", "Edit", "Updated FTD end time", `${ftdEndTime} ‚Üí ${parseFloat(e.target.value)}`); onUpdateFtdEndTime(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                <input type="checkbox" checked={allowNightFlying} onChange={(e) => { logAudit("Priorities", "Edit", "Updated allow night flying", `${allowNightFlying} ‚Üí ${e.target.checked}`); onUpdateAllowNightFlying(e.target.checked); }} className="h-5 w-5 bg-gray-700 rounded accent-sky-500" />
components/PrioritiesView.tsx:                                    <select value={commenceNightFlying} onChange={(e) => { logAudit("Priorities", "Edit", "Updated commence night flying time", `${commenceNightFlying} ‚Üí ${parseFloat(e.target.value)}`); onUpdateCommenceNightFlying(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                    <select value={ceaseNightFlying} onChange={(e) => { logAudit("Priorities", "Edit", "Updated cease night flying time", `${ceaseNightFlying} ‚Üí ${parseFloat(e.target.value)}`); onUpdateCeaseNightFlying(parseFloat(e.target.value)); }} className="w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center">
components/PrioritiesView.tsx:                                <input type="checkbox" checked={programWithPrimaries} onChange={(e) => { logAudit("Priorities", "Edit", "Updated program with primaries", `${programWithPrimaries} ‚Üí ${e.target.checked}`); onUpdateProgramWithPrimaries(e.target.checked); }} className="h-5 w-5 bg-gray-700 rounded accent-sky-500" />
components/TrainingRecordsExportView.tsx:    onSavePT051Assessment: (assessment: Pt051Assessment) => void;
components/TrainingRecordsExportView.tsx:    onSavePT051Assessment
components/TrainingRecordsExportView.tsx:    const [savedTemplates, setSavedTemplates] = useState<ExportTemplate[]>([]);
components/TrainingRecordsExportView.tsx:    const handleSaveTemplate = () => {
components/TrainingRecordsExportView.tsx:        setSavedTemplates([...savedTemplates, template]);
components/TrainingRecordsExportView.tsx:                    onSavePT051Assessment(assessment);
components/TrainingRecordsExportView.tsx:                                <h3 className="text-sm font-medium text-gray-300 mb-2">Save Current Settings as Template</h3>
components/TrainingRecordsExportView.tsx:                                        onClick={handleSaveTemplate}
components/TrainingRecordsExportView.tsx:                                        Save
components/TrainingRecordsExportView.tsx:                                    <h3 className="text-sm font-medium text-gray-300 mb-2">Saved Templates</h3>
components/CurrencyView.tsx:  registerDirtyCheck: (isDirty: () => boolean, onSave: () => void, onDiscard: () => void) => void;
components/CurrencyView.tsx:    const [isEditing, setIsEditing] = useState(false);
components/CurrencyView.tsx:    const [editedStatuses, setEditedStatuses] = useState<Map<string, string>>(new Map());
components/CurrencyView.tsx:        if (!isEditing) return false;
components/CurrencyView.tsx:    }, [isEditing, editedStatuses, person.currencyStatus, visibleCurrencyDefinitions]);
components/CurrencyView.tsx:    const handleEditClick = () => {
components/CurrencyView.tsx:        setEditedStatuses(initialMap);
components/CurrencyView.tsx:        setIsEditing(true);
components/CurrencyView.tsx:        setIsEditing(false);
components/CurrencyView.tsx:        setEditedStatuses(new Map());
components/CurrencyView.tsx:    const handleSaveClick = useCallback(() => {
components/CurrencyView.tsx:        setIsEditing(false);
components/CurrencyView.tsx:            handleSaveClick,
components/CurrencyView.tsx:    }, [registerDirtyCheck, hasUnsavedChanges, handleSaveClick, handleCancelClick]);
components/CurrencyView.tsx:        setEditedStatuses(prev => new Map(prev).set(currencyName, date));
components/CurrencyView.tsx:                             {isEditing ? (
components/CurrencyView.tsx:                                    <button onClick={handleSaveClick} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md">Save</button>
components/CurrencyView.tsx:                                    <button onClick={handleEditClick} className="px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md">Edit</button>
components/CurrencyView.tsx:                                    const statusDateStr = isEditing ? editedStatuses.get(def.name) : getCurrencyStatus(def.name)?.lastEventDate;
components/CurrencyView.tsx:                                                {isEditing ? (
components/PostFlightModal.tsx:  onSave: (data: any) => void;
components/PostFlightModal.tsx:const PostFlightModal: React.FC<PostFlightModalProps> = ({ event, onClose, onSave, school, traineesData }) => {
components/PostFlightModal.tsx:    const handleSave = () => {
components/PostFlightModal.tsx:        onSave(saveData);
components/PostFlightModal.tsx:                    <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold">Save</button>
components/SctRequestFlyout.tsx:  onSave: (request: SctRequest) => void;
components/SctRequestFlyout.tsx:const SctRequestFlyout: React.FC<SctRequestFlyoutProps> = ({ instructor, onClose, onSave, currencyNames, sctEvents: sctEventsProp }) => {
components/SctRequestFlyout.tsx:  const handleSave = () => {
components/SctRequestFlyout.tsx:    onSave(newRequest);
components/SctRequestFlyout.tsx:          <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700">Submit Request</button>
components/CurrencyBuilderView.tsx:    onSave: (allCurrencies: CurrencyDefinition[]) => void;
components/CurrencyBuilderView.tsx:const CurrencyBuilderView: React.FC<CurrencyBuilderViewProps> = ({ onBack, masterCurrencies, currencyRequirements, onSave, onDelete }) => {
components/CurrencyBuilderView.tsx:    const handleSave = () => {
components/CurrencyBuilderView.tsx:        onSave(allCurrencies);
components/CurrencyBuilderView.tsx:                         <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md flex items-center space-x-2">
components/CurrencyBuilderView.tsx:                             <span>Save Changes</span>
components/CurrencyBuilderView.tsx:                {/* Right Pane: Editor */}
components/CurrencyBuilderView.tsx:                                ? <PrimitiveEditor currency={selectedCurrency as CurrencyRequirement} onUpdate={handleUpdateCurrency} />
components/CurrencyBuilderView.tsx:                                : <CompositeEditor currency={selectedCurrency as MasterCurrency} onUpdate={handleUpdateCurrency} allCurrencies={allCurrencies} />
components/CurrencyBuilderView.tsx:const PrimitiveEditor: React.FC<{ currency: CurrencyRequirement; onUpdate: (c: CurrencyRequirement) => void; }> = ({ currency, onUpdate }) => {
components/CurrencyBuilderView.tsx:            <h2 className="text-2xl font-bold text-green-400">Edit Primitive Currency</h2>
components/CurrencyBuilderView.tsx:const CompositeEditor: React.FC<{ currency: MasterCurrency; onUpdate: (c: MasterCurrency) => void; allCurrencies: CurrencyDefinition[]; }> = ({ currency, onUpdate, allCurrencies }) => {
components/CurrencyBuilderView.tsx:            <h2 className="text-2xl font-bold text-purple-400">Edit Composite Currency</h2>
components/CurrencyBuilderView.tsx:            <LogicNodeEditor node={currency.logicTree} path={[]} onUpdate={handleLogicTreeChange} allCurrencies={allCurrencies} />
components/CurrencyBuilderView.tsx:const LogicNodeEditor: React.FC<{
components/CurrencyBuilderView.tsx:                            <LogicNodeEditor node={child} path={[...path, 'children', index]} onUpdate={(newNode, subPath) => handleChildUpdate(newNode, index)} allCurrencies={allCurrencies} />
components/FormationCallsignsSection.tsx:    canEditSettings: boolean;
components/FormationCallsignsSection.tsx:    canEditSettings,
components/FormationCallsignsSection.tsx:    const [isEditing, setIsEditing] = useState(false);
components/FormationCallsignsSection.tsx:    const handleEdit = () => {
components/FormationCallsignsSection.tsx:        setIsEditing(true);
components/FormationCallsignsSection.tsx:    const handleSave = () => {
components/FormationCallsignsSection.tsx:        setIsEditing(false);
components/FormationCallsignsSection.tsx:        setIsEditing(false);
components/FormationCallsignsSection.tsx:    const filteredCallsigns = isEditing
components/FormationCallsignsSection.tsx:                {isEditing ? (
components/FormationCallsignsSection.tsx:                        <button onClick={handleSave} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/FormationCallsignsSection.tsx:                        onClick={handleEdit} 
components/FormationCallsignsSection.tsx:                        disabled={!canEditSettings}
components/FormationCallsignsSection.tsx:                            canEditSettings 
components/FormationCallsignsSection.tsx:                        Edit
components/FormationCallsignsSection.tsx:                {isEditing ? (
components/PermissionsManagerFlyout.tsx:  onSave: (pagePermissions: PagePermission[], windowPermissions: WindowPermission[]) => void;
components/PermissionsManagerFlyout.tsx:  onSave,
components/PermissionsManagerFlyout.tsx:              onClick={() => onSave(pagePermissions, windowPermissions)}
components/PermissionsManagerFlyout.tsx:              Save Changes
components/AuditFlyout.tsx:                          log.action === 'Edit' ? 'bg-yellow-900/50 text-yellow-300' :
components/AircraftAvailabilityPanel.tsx:            // Save to localStorage
components/DutyTurnaroundSection.tsx:                                    logAudit("Settings", "Edit", "Updated soft limit duty period", `${preferredDutyPeriod} ‚Üí ${parseInt(e.target.value)}`); 
components/DutyTurnaroundSection.tsx:                                    logAudit("Settings", "Edit", "Updated hard limit duty period", `${maxCrewDutyPeriod} ‚Üí ${parseInt(e.target.value)}`); 
components/DutyTurnaroundSection.tsx:                                logAudit("Settings", "Edit", "Updated flight turnaround time", `${flightTurnaround} ‚Üí ${v}`); 
components/DutyTurnaroundSection.tsx:                                logAudit("Settings", "Edit", "Updated FTD turnaround time", `${ftdTurnaround} ‚Üí ${v}`); 
components/DutyTurnaroundSection.tsx:                                logAudit("Settings", "Edit", "Updated CPT turnaround time", `${cptTurnaround} ‚Üí ${v}`); 
components/FlightDetailModal.tsx:  onSave: (events: ScheduleEvent[]) => void;
components/FlightDetailModal.tsx:  isEditingDefault?: boolean;
components/FlightDetailModal.tsx:    onSavePT051Assessment?: (assessment: any) => void;
components/FlightDetailModal.tsx:export const EventDetailModal: React.FC<EventDetailModalProps> = ({ event, onClose, onSave, onDeleteRequest, isEditingDefault = false, instructors, trainees, syllabus, syllabusDetails, highlightedField, school, traineesData, instructorsData, courseColors, onNavigateToHateSheet, onNavigateToSyllabus, onOpenPt051, onOpenAuth, onOpenPostFlight, isConflict, onNeoClick, traineeLMPs, oracleContextForModal, sctRequests = [], sctEvents = [], eventsForDate = [], onScoresCreated, publishedSchedules = {}, nextDayBuildEvents = [], activeView = '', isAddingTile = false, formationCallsigns = [], currentLocation = '', onVisualAdjustStart, onVisualAdjustEnd, onSavePT051Assessment, cancellationCodes = [], onCancelEvent }) => {
components/FlightDetailModal.tsx:    const [isEditing, setIsEditing] = useState(isEditingDefault);
components/FlightDetailModal.tsx:        if (isAddingTile || (isEditingDefault && (!event.id || event.id.startsWith('2d1b6a22')))) {
components/FlightDetailModal.tsx:            console.log(`\ud83d\udcdd [Flight Number Change] isAddingTile: ${isAddingTile}, isEditingDefault: ${isEditingDefault}, event.id: ${event.id}, flightNumber: ${flightNumber}`);
components/FlightDetailModal.tsx:    }, [flightNumber, traineeLMPs, isAddingTile, isEditingDefault, event.id]);
components/FlightDetailModal.tsx:        if (isAddingTile || (isEditingDefault && (!event.id || event.id.startsWith('2d1b6a22')))) {
components/FlightDetailModal.tsx:    }, [crew[0]?.student, crew[0]?.pilot, flightNumber, traineeLMPs, isAddingTile, isEditingDefault, event.id]);
components/FlightDetailModal.tsx:        if (isEditingDefault && !event.flightNumber) {
components/FlightDetailModal.tsx:        setIsEditing(isEditingDefault);
components/FlightDetailModal.tsx:    }, [event, isEditingDefault, highlightedField, school]);
components/FlightDetailModal.tsx:    const handleSave = () => {
components/FlightDetailModal.tsx:        const eventsToSave: ScheduleEvent[] = crew.map((c, index) => {
components/FlightDetailModal.tsx:                // Save event category for LMP Currency handling
components/FlightDetailModal.tsx:                eventsToSave.push(deploymentTile);
components/FlightDetailModal.tsx:        console.log('Events to save:', eventsToSave);
components/FlightDetailModal.tsx:        onSave(eventsToSave);
components/FlightDetailModal.tsx:        if (onSavePT051Assessment) {
components/FlightDetailModal.tsx:                onSavePT051Assessment(assessment);
components/FlightDetailModal.tsx:            console.warn('onSavePT051Assessment callback is not defined!');
components/FlightDetailModal.tsx:                            {isEditing && eventType === 'flight' && (
components/FlightDetailModal.tsx:                            {isEditing ? (
components/FlightDetailModal.tsx:                            {!isEditing && (
components/FlightDetailModal.tsx:                            {isEditing ? (
components/FlightDetailModal.tsx:                                <button onClick={handleSave} className="w-full px-4 py-2 text-white rounded-md transition-colors text-sm font-semibold shadow-md text-center bg-sky-600 hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed">Save</button>
components/FlightDetailModal.tsx:                                <button onClick={() => setIsEditing(true)} className="w-full px-4 py-2 text-white rounded-md transition-colors text-sm font-semibold shadow-md text-center bg-gray-600 hover:bg-gray-700">Edit</button>
components/PostFlightView.tsx:  onSave: (data: any) => void;
components/PostFlightView.tsx:export const PostFlightView: React.FC<PostFlightViewProps> = ({ event, onReturn, onSave, school, traineesData, instructorsData }) => {
components/PostFlightView.tsx:    const [saveStatus, setSaveStatus] = useState<'Saved' | 'Saving...' | 'Unsaved'>('Saved');
components/PostFlightView.tsx:            setSaveStatus('Saving...');
components/PostFlightView.tsx:                'Edit',
components/PostFlightView.tsx:    const handleSave = async (isAutoSave = false) => {
components/PostFlightView.tsx:        if (!isAutoSave) {
components/PostFlightView.tsx:                action: 'Edit',
components/PostFlightView.tsx:                description: `Saved post-flight data for ${event.flightNumber}`,
components/PostFlightView.tsx:        if (!isAutoSave) {
components/PostFlightView.tsx:            onSave(saveData);
components/PostFlightView.tsx:        // 2. Persist to Data Storage (Auto-Save to File)
components/PostFlightView.tsx:        if (!isAutoSave) {
components/PostFlightView.tsx:            setSaveStatus('Saved');
components/PostFlightView.tsx:                handleSave(true);
components/PostFlightView.tsx:                setSaveStatus('Saved');
components/PostFlightView.tsx:    const handleManualSave = () => {
components/PostFlightView.tsx:        handleSave(false);
components/PostFlightView.tsx:                        <div className={`w-2 h-2 rounded-full mr-2 ${saveStatus === 'Saved' ? 'bg-green-500' : saveStatus === 'Saving...' ? 'bg-amber-500 animate-pulse' : 'bg-red-500'}`}></div>
components/PostFlightView.tsx:                        <span className="text-xs text-gray-300 font-mono uppercase">{saveStatus === 'Saved' ? 'Saved' : saveStatus}</span>
components/PostFlightView.tsx:                <button onClick={handleManualSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold">Save & Return</button>
components/PostFlightView.tsx:                    onSaveAndExit={() => { setShowUnsavedWarning(false); handleManualSave(); onReturn(); }}
components/CancellationCodesTable.tsx:  onEditCode: (oldCode: string, newCode: CancellationCode) => void;
components/CancellationCodesTable.tsx:  canEdit: boolean; // Based on user role
components/CancellationCodesTable.tsx:  onEditCode,
components/CancellationCodesTable.tsx:  canEdit,
components/CancellationCodesTable.tsx:  const [editingCode, setEditingCode] = useState<string | null>(null);
components/CancellationCodesTable.tsx:    setEditingCode(null);
components/CancellationCodesTable.tsx:  const handleStartEdit = (code: CancellationCode) => {
components/CancellationCodesTable.tsx:    setEditingCode(code.code);
components/CancellationCodesTable.tsx:    setEditingCode(null);
components/CancellationCodesTable.tsx:  const handleSave = () => {
components/CancellationCodesTable.tsx:      onEditCode(editingCode, newCode);
components/CancellationCodesTable.tsx:        {canEdit && (
components/CancellationCodesTable.tsx:              {canEdit && <th className="text-center py-3 px-4 text-gray-300 font-semibold">Actions</th>}
components/CancellationCodesTable.tsx:                      onClick={handleSave}
components/CancellationCodesTable.tsx:                      Save
components/CancellationCodesTable.tsx:              const isEditing = editingCode === code.code;
components/CancellationCodesTable.tsx:              if (isEditing) {
components/CancellationCodesTable.tsx:                          onClick={handleSave}
components/CancellationCodesTable.tsx:                          Save
components/CancellationCodesTable.tsx:                  {canEdit && (
components/CancellationCodesTable.tsx:                          onClick={() => handleStartEdit(code)}
components/CancellationCodesTable.tsx:                          Edit
components/UnsavedChangesWarning.tsx:  onSaveAndExit: () => void;
components/UnsavedChangesWarning.tsx:const UnsavedChangesWarning: React.FC<UnsavedChangesWarningProps> = ({ onSaveAndExit, onExitWithoutSaving, onCancel }) => {
components/UnsavedChangesWarning.tsx:                    <button onClick={onSaveAndExit} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold">
components/UnsavedChangesWarning.tsx:                        Save & Exit
components/PhraseBankFlyout.tsx:                            {/* Editable List Area */}
components/PT051View.tsx:    onSave: (assessment: Pt051Assessment, isAutoSave?: boolean) => void;
components/PT051View.tsx:    registerDirtyCheck: (isDirty: () => boolean, onSave: () => void, onDiscard: () => void) => void;
components/PT051View.tsx:const PT051View: React.FC<PT051ViewProps> = ({ trainee, event, onBack, onSave, onDeleteAssessment, onEventUpdate, initialAssessment, instructors, pt051Assessments, events, lmpScores, syllabusDetails, registerDirtyCheck, phraseBank, currentUserPin }) => {
components/PT051View.tsx:    const [saveStatus, setSaveStatus] = useState<'Saved' | 'Saving...' | 'Unsaved'>('Saved');
components/PT051View.tsx:    const handleSave = (isAutoSave = false) => {
components/PT051View.tsx:        onSave(finalAssessment, isAutoSave);
components/PT051View.tsx:        setSaveStatus('Saved');
components/PT051View.tsx:    const handleManualSaveAndExit = () => {
components/PT051View.tsx:        handleSave(false);
components/PT051View.tsx:        setSaveStatus('Saving...');
components/PT051View.tsx:            handleSave(true); 
components/PT051View.tsx:            () => handleSave(false), 
components/PT051View.tsx:                        <div className={`w-2 h-2 rounded-full mr-2 ${saveStatus === 'Saved' ? 'bg-green-500' : saveStatus === 'Saving...' ? 'bg-amber-500 animate-pulse' : 'bg-red-500'}`}></div>
components/PT051View.tsx:                        <span className="text-xs text-gray-300 font-mono uppercase">{saveStatus === 'Saved' ? 'All changes saved' : saveStatus}</span>
components/PT051View.tsx:                    {/* Show Edit button if this is a saved assessment */}
components/PT051View.tsx:                            console.log('Editing mode enabled for PT-051:', initialAssessment.id);
components/PT051View.tsx:                            ‚úèÔ∏è Edit Assessment
components/PT051View.tsx:                    <button onClick={handleManualSaveAndExit} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md">
components/PT051View.tsx:                        Save & Exit
components/AddCourseFlyout.tsx:  onSave: (data: NewCourseData) => void;
components/AddCourseFlyout.tsx:const AddCourseFlyout: React.FC<AddCourseFlyoutProps> = ({ onClose, onSave, existingCourses }) => {
components/AddCourseFlyout.tsx:    const handleSave = () => {
components/AddCourseFlyout.tsx:        onSave({
components/AddCourseFlyout.tsx:                    <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed">Save Course</button>
components/TrainingRecordsView.tsx:    onSavePT051Assessment: (assessment: Pt051Assessment) => void;
components/TrainingRecordsView.tsx:    onSavePT051Assessment
components/TrainingRecordsView.tsx:                        onSavePT051Assessment={onSavePT051Assessment}
components/PermissionsManagerWindow.tsx:    const [isEditing, setIsEditing] = useState(false);
components/PermissionsManagerWindow.tsx:    const handleEdit = () => {
components/PermissionsManagerWindow.tsx:        setIsEditing(true);
components/PermissionsManagerWindow.tsx:    const handleSave = () => {
components/PermissionsManagerWindow.tsx:        setIsEditing(false);
components/PermissionsManagerWindow.tsx:        setIsEditing(false);
components/PermissionsManagerWindow.tsx:                {isEditing ? (
components/PermissionsManagerWindow.tsx:                            onClick={handleSave}
components/PermissionsManagerWindow.tsx:                            Save Changes
components/PermissionsManagerWindow.tsx:                        onClick={handleEdit}
components/PermissionsManagerWindow.tsx:                        Edit Permissions
components/PermissionsManagerWindow.tsx:                                const displayPermission = isEditing ? getTempPermission(user) : user.permissionLevel;
components/PermissionsManagerWindow.tsx:                                            {isEditing ? (
components/TraineeProfileFlyout.tsx:    const [isEditing, setIsEditing] = useState(isCreating);
components/TraineeProfileFlyout.tsx:    // Editable state
components/TraineeProfileFlyout.tsx:        setIsEditing(isCreating);
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:                'Edit',
components/TraineeProfileFlyout.tsx:    const handleSave = async () => {
components/TraineeProfileFlyout.tsx:                    action: 'Edit',
components/TraineeProfileFlyout.tsx:        setIsEditing(false);
components/TraineeProfileFlyout.tsx:            setIsEditing(false);
components/TraineeProfileFlyout.tsx:    const handleSaveCustomUnavailability = (periodData: Omit<UnavailabilityPeriod, 'id'>) => {
components/TraineeProfileFlyout.tsx:        console.log('handleSaveCustomUnavailability called', { periodData, isCreating, traineeName: trainee.name });
components/TraineeProfileFlyout.tsx:                {isEditing ? (
components/TraineeProfileFlyout.tsx:                                {isEditing ? (
components/TraineeProfileFlyout.tsx:                            {isEditing ? (
components/TraineeProfileFlyout.tsx:                             {!isEditing && (
components/TraineeProfileFlyout.tsx:                            {isEditing ? (
components/TraineeProfileFlyout.tsx:                                    <button onClick={handleSave} className={`${buttonClasses} btn-aluminium-brushed`}>Save</button>
components/TraineeProfileFlyout.tsx:                                    <button onClick={() => setIsEditing(true)} className={`${buttonClasses} btn-aluminium-brushed`}>Edit</button>
components/TraineeProfileFlyout.tsx:            {showAddUnavailability && (<AddUnavailabilityFlyout onClose={() => setShowAddUnavailability(false)} onTodayOnly={handleAddTodayOnlyUnavailability} onSave={handleSaveCustomUnavailability} unavailabilityPeriods={trainee.unavailability || []} onRemove={handleRemoveUnavailabilityFromFlyout} />)}
components/AircraftAvailabilityOverlay.tsx:    // Save and calculate average whenever snapshots change
components/AircraftAvailabilityOverlay.tsx:                    action: "Edit",
components/AddGroundEventFlyout.tsx:  onSave: (data: any) => void;
components/AddGroundEventFlyout.tsx:    onSave, 
components/AddGroundEventFlyout.tsx:    const handleSave = () => {
components/AddGroundEventFlyout.tsx:        onSave({
components/AddGroundEventFlyout.tsx:                        <button onClick={handleSave} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700">Save Event</button>
components/AddRemedialPackageFlyout.tsx:  onSave: (
components/AddRemedialPackageFlyout.tsx:  onSave
components/AddRemedialPackageFlyout.tsx:  const handleSavePackage = () => {
components/AddRemedialPackageFlyout.tsx:    onSave(trainee, eventToRemediate, remedialEvents);
components/AddRemedialPackageFlyout.tsx:            <button onClick={handleSavePackage} disabled={!eventToRemediate || remedialEvents.length === 0} className="px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed">Save Package</button>
components/AddUnavailabilityFlyout.tsx:  onSave: (periodData: Omit<UnavailabilityPeriod, 'id'>) => void;
components/AddUnavailabilityFlyout.tsx:const AddUnavailabilityFlyout: React.FC<AddUnavailabilityFlyoutProps> = ({ onClose, onTodayOnly, onSave, unavailabilityPeriods, onRemove }) => {
components/AddUnavailabilityFlyout.tsx:    const handleSave = () => {
components/AddUnavailabilityFlyout.tsx:        console.log('handleSave called', { startDate, endDate, startTime, endTime, reason });
components/AddUnavailabilityFlyout.tsx:        console.log('Calling onSave with period data');
components/AddUnavailabilityFlyout.tsx:        onSave({
components/AddUnavailabilityFlyout.tsx:                            <button onClick={handleSave} className="w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold">

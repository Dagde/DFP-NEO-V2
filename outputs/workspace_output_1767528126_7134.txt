    // Auto-set Dual/Solo from Individual LMP when creating new events (not just tiles)
    useEffect(() => {
        if (crew[0]?.flightType === 'Solo') {
            const traineeName = crew[0]?.student || crew[0]?.pilot;
            // Only apply if pilot is not already set correctly
            if (traineeName && crew[0].pilot !== traineeName) {
                applySoloLogic();
            }
        }
    }, [crew[0]?.flightType, crew[0]?.student, crew[0]?.pilot]);

    // Effect to set default values based on event category
    useEffect(() => {
        if (eventCategory === 'sct') {
            // SCT defaults to Solo
            setCrew(prev => prev.map(c => ({ ...c, flightType: 'Solo' })));
            // Set default duration to 1.2
            if (!duration) setDuration(1.2);
        } else if (eventCategory === 'lmp_event' || eventCategory === 'lmp_currency') {
            // Set default duration to 1.2 for LMP events
            if (!duration) setDuration(1.2);
        } else if (eventCategory === 'staff_cat') {
            // Set default duration to 1.2 for Staff CAT
            if (!duration) setDuration(1.2);
        } else if (eventCategory === 'twr_di') {
            // TWR DI defaults to Solo
            setCrew(prev => prev.map(c => ({ ...c, flightType: 'Solo' })));
            // Set default duration to 1.2 for TWR DI
            if (!duration) setDuration(1.2);
            // Set default start time to 0800 only for new events
            if (isAddingTile || !event.startTime || event.startTime === 0) {
                setStartTime('08:00');
            }
        }
    }, [eventCategory]);

    // Effect to pull Type (Dual/Solo) from syllabus when flight number changes
    useEffect(() => {
        if (flightNumber && (eventCategory === 'lmp_event' || eventCategory === 'lmp_currency' || eventCategory === 'staff_cat' || eventCategory === 'twr_di')) {
            const syllabusItem = syllabusDetails.find(item => item.id === flightNumber);
            if (syllabusItem && syllabusItem.flightType) {
                setCrew(prev => prev.map(c => ({ ...c, flightType: syllabusItem.flightType as 'Dual' | 'Solo' })));
            }
        }
    }, [flightNumber, eventCategory, syllabusDetails]);

    // Effect to set Dual/Solo from Individual LMP when flight number changes (before pilot selection)
    useEffect(() => {
        if (isAddingTile || (isEditingDefault && (!event.id || event.id.startsWith('2d1b6a22')))) {
            // This is a new event or tile (check for generated IDs that start with our prefix)
            console.log(`\ud83d\udcdd [Flight Number Change] isAddingTile: ${isAddingTile}, isEditingDefault: ${isEditingDefault}, event.id: ${event.id}, flightNumber: ${flightNumber}`);

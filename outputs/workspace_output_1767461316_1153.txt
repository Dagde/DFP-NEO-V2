components/SettingsView.tsx-143-    // --- STATE ---
components/SettingsView.tsx-144-    
components/SettingsView.tsx-145-    // Permission Check - Only Super Admin, Admin, and Scheduler can edit Settings
components/SettingsView.tsx:146:    const canEditSettings = ['Super Admin', 'Admin', 'Scheduler'].includes(currentUserPermission);
components/SettingsView.tsx-147-    
components/SettingsView.tsx-148-    // Location State
components/SettingsView.tsx:149:    const [isEditingLocations, setIsEditingLocations] = useState(false);
components/SettingsView.tsx-150-    const [tempLocations, setTempLocations] = useState<string[]>([]);
components/SettingsView.tsx-151-    const [newLocation, setNewLocation] = useState('');
components/SettingsView.tsx-152-
components/SettingsView.tsx-153-    // Unit State
components/SettingsView.tsx:154:    const [isEditingUnits, setIsEditingUnits] = useState(false);
components/SettingsView.tsx-155-    const [tempUnits, setTempUnits] = useState<string[]>([]);
components/SettingsView.tsx-156-    const [newUnit, setNewUnit] = useState('');
components/SettingsView.tsx-157-    const [tempUnitLocations, setTempUnitLocations] = useState<Record<string, string>>({});
components/SettingsView.tsx-158-    
components/SettingsView.tsx-159-    // SCT Events State
components/SettingsView.tsx:160:    const [isEditingSctEvents, setIsEditingSctEvents] = useState(false);
components/SettingsView.tsx-161-    
components/SettingsView.tsx-162-    // Permissions Manager State
components/SettingsView.tsx-163-    const [showPermissionsManager, setShowPermissionsManager] = useState(false);
--
components/SettingsView.tsx-165-    const [newSctEvent, setNewSctEvent] = useState('');
components/SettingsView.tsx-166-    
components/SettingsView.tsx-167-    // Event Limits State
components/SettingsView.tsx:168:    const [isEditingLimits, setIsEditingLimits] = useState(false);
components/SettingsView.tsx-169-    const [tempLimits, setTempLimits] = useState<EventLimits>(eventLimits);
components/SettingsView.tsx-170-
components/SettingsView.tsx-171-    // Scoring Matrix State
--
components/SettingsView.tsx-274-    };
components/SettingsView.tsx-275-
components/SettingsView.tsx-276-    // Location Handlers
components/SettingsView.tsx:277:    const handleEditLocations = () => {
components/SettingsView.tsx-278-        setTempLocations([...locations]);
components/SettingsView.tsx:279:        setIsEditingLocations(true);
components/SettingsView.tsx-280-    };
components/SettingsView.tsx-281-
components/SettingsView.tsx-282-    const handleSaveLocations = () => {
components/SettingsView.tsx-283-        const oldLocations = locations.join(', ');
components/SettingsView.tsx-284-        const newLocations = tempLocations.join(', ');
components/SettingsView.tsx-285-        onUpdateLocations(tempLocations);
components/SettingsView.tsx:286:        setIsEditingLocations(false);
components/SettingsView.tsx-287-        logAudit({
components/SettingsView.tsx-288-            page: 'Settings - Location',
components/SettingsView.tsx-289-            action: 'update',
--
components/SettingsView.tsx-294-
components/SettingsView.tsx-295-    const handleCancelLocations = () => {
components/SettingsView.tsx-296-        setNewLocation('');
components/SettingsView.tsx:297:        setIsEditingLocations(false);
components/SettingsView.tsx-298-    };
components/SettingsView.tsx-299-    
components/SettingsView.tsx-300-    const handleAddLocation = () => {
--
components/SettingsView.tsx-309-    };
components/SettingsView.tsx-310-
components/SettingsView.tsx-311-    // Unit Handlers
components/SettingsView.tsx:312:    const handleEditUnits = () => {
components/SettingsView.tsx-313-        setTempUnits([...units]);
components/SettingsView.tsx-314-        setTempUnitLocations({...unitLocations});
components/SettingsView.tsx:315:        setIsEditingUnits(true);
components/SettingsView.tsx-316-    };
components/SettingsView.tsx-317-    
components/SettingsView.tsx-318-    const handleSaveUnits = () => {
--
components/SettingsView.tsx-326-        }
components/SettingsView.tsx-327-        onUpdateUnitLocations(newUnitLocations);
components/SettingsView.tsx-328-
components/SettingsView.tsx:329:        setIsEditingUnits(false);
components/SettingsView.tsx-330-        logAudit({
components/SettingsView.tsx-331-            page: 'Settings - Units',
components/SettingsView.tsx-332-            action: 'update',
--
components/SettingsView.tsx-337-
components/SettingsView.tsx-338-    const handleCancelUnits = () => {
components/SettingsView.tsx-339-        setNewUnit('');
components/SettingsView.tsx:340:        setIsEditingUnits(false);
components/SettingsView.tsx-341-    };
components/SettingsView.tsx-342-
components/SettingsView.tsx-343-    const handleAddUnit = () => {
--
components/SettingsView.tsx-356-    };
components/SettingsView.tsx-357-
components/SettingsView.tsx-358-    // SCT Events Handlers
components/SettingsView.tsx:359:    const handleEditSctEvents = () => {
components/SettingsView.tsx-360-        setTempSctEvents([...sctEvents]);
components/SettingsView.tsx:361:        setIsEditingSctEvents(true);
components/SettingsView.tsx-362-    };
components/SettingsView.tsx-363-
components/SettingsView.tsx-364-    const handleSaveSctEvents = () => {
components/SettingsView.tsx-365-        const oldEvents = sctEvents.join(', ');
components/SettingsView.tsx-366-        const newEvents = tempSctEvents.join(', ');
components/SettingsView.tsx-367-        onUpdateSctEvents(tempSctEvents);
components/SettingsView.tsx:368:        setIsEditingSctEvents(false);
components/SettingsView.tsx-369-        logAudit({
components/SettingsView.tsx-370-            page: 'Settings - SCT Events',
components/SettingsView.tsx-371-            action: 'update',
--
components/SettingsView.tsx-376-
components/SettingsView.tsx-377-    const handleCancelSctEvents = () => {
components/SettingsView.tsx-378-        setNewSctEvent('');
components/SettingsView.tsx:379:        setIsEditingSctEvents(false);
components/SettingsView.tsx-380-    };
components/SettingsView.tsx-381-
components/SettingsView.tsx-382-    const handleAddSctEvent = () => {
--
components/SettingsView.tsx-398-    };
components/SettingsView.tsx-399-
components/SettingsView.tsx-400-    // Event Limits Handlers
components/SettingsView.tsx:401:    const handleEditLimits = () => {
components/SettingsView.tsx-402-        setTempLimits(JSON.parse(JSON.stringify(eventLimits)));
components/SettingsView.tsx:403:        setIsEditingLimits(true);
components/SettingsView.tsx-404-    };
components/SettingsView.tsx-405-
components/SettingsView.tsx-406-    const handleSaveLimits = () => {
components/SettingsView.tsx-407-        onUpdateEventLimits(tempLimits);
components/SettingsView.tsx:408:        setIsEditingLimits(false);
components/SettingsView.tsx-409-        onShowSuccess('Events limits updated');
components/SettingsView.tsx-410-        logAudit({
components/SettingsView.tsx-411-            page: 'Settings - Event Limits',
--
components/SettingsView.tsx-1289-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx-1290-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx-1291-                            <h2 className="text-lg font-semibold text-gray-200">Location</h2>
components/SettingsView.tsx:1292:                            {isEditingLocations ? (
components/SettingsView.tsx-1293-                                <div className="flex space-x-2">
components/SettingsView.tsx-1294-                                    <button onClick={handleSaveLocations} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx-1295-                                    <button onClick={handleCancelLocations} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx-1296-                                </div>
components/SettingsView.tsx-1297-                            ) : (
components/SettingsView.tsx-1298-                                <button 
components/SettingsView.tsx:1299:                                   onClick={handleEditLocations} 
components/SettingsView.tsx:1300:                                   disabled={!canEditSettings}
components/SettingsView.tsx-1301-                                   className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx:1302:                                       canEditSettings 
components/SettingsView.tsx-1303-                                           ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx-1304-                                           : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx-1305-                                   }`}
components/SettingsView.tsx-1306-                               >
components/SettingsView.tsx:1307:                                   Edit
components/SettingsView.tsx-1308-                               </button>
components/SettingsView.tsx-1309-                            )}
components/SettingsView.tsx-1310-                        </div>
components/SettingsView.tsx-1311-                        <div className="p-4 space-y-4">
components/SettingsView.tsx:1312:                            {isEditingLocations ? (
components/SettingsView.tsx-1313-                                <>
components/SettingsView.tsx-1314-                                    <p className="text-sm text-gray-400">Manage available operating locations.</p>
components/SettingsView.tsx-1315-                                    <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx-1349-                              onUpdateCallsigns={onUpdateFormationCallsigns}
components/SettingsView.tsx-1350-                              units={units}
components/SettingsView.tsx-1351-                              locations={locations}
components/SettingsView.tsx:1352:                              canEditSettings={canEditSettings}
components/SettingsView.tsx-1353-                              onAuditLog={logAudit}
components/SettingsView.tsx-1354-                          />
components/SettingsView.tsx-1355-                      )}
--
components/SettingsView.tsx-1358-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx-1359-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx-1360-                            <h2 className="text-lg font-semibold text-gray-200">Units</h2>
components/SettingsView.tsx:1361:                            {isEditingUnits ? (
components/SettingsView.tsx-1362-                                <div className="flex space-x-2">
components/SettingsView.tsx-1363-                                    <button onClick={handleSaveUnits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx-1364-                                    <button onClick={handleCancelUnits} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx-1365-                                </div>
components/SettingsView.tsx-1366-                            ) : (
components/SettingsView.tsx-1367-                                <button 
components/SettingsView.tsx:1368:                                onClick={handleEditUnits} 
components/SettingsView.tsx:1369:                                disabled={!canEditSettings}
components/SettingsView.tsx-1370-                                className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx:1371:                                    canEditSettings 
components/SettingsView.tsx-1372-                                        ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx-1373-                                        : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx-1374-                                }`}
components/SettingsView.tsx-1375-                            >
components/SettingsView.tsx:1376:                                Edit
components/SettingsView.tsx-1377-                            </button>
components/SettingsView.tsx-1378-                            )}
components/SettingsView.tsx-1379-                        </div>
components/SettingsView.tsx-1380-                        <div className="p-4 space-y-4">
components/SettingsView.tsx:1381:                            {isEditingUnits ? (
components/SettingsView.tsx-1382-                                <>
components/SettingsView.tsx-1383-                                    <p className="text-sm text-gray-400">Manage units and their primary locations.</p>
components/SettingsView.tsx-1384-                                    <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx-1441-                       <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx-1442-                           <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx-1443-                               <h2 className="text-lg font-semibold text-gray-200">SCT Events</h2>
components/SettingsView.tsx:1444:                               {isEditingSctEvents ? (
components/SettingsView.tsx-1445-                                   <div className="flex space-x-2">
components/SettingsView.tsx-1446-                                       <button onClick={handleSaveSctEvents} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx-1447-                                       <button onClick={handleCancelSctEvents} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx-1448-                                   </div>
components/SettingsView.tsx-1449-                               ) : (
components/SettingsView.tsx-1450-                                   <button 
components/SettingsView.tsx:1451:                                   onClick={handleEditSctEvents} 
components/SettingsView.tsx:1452:                                   disabled={!canEditSettings}
components/SettingsView.tsx-1453-                                   className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx:1454:                                       canEditSettings 
components/SettingsView.tsx-1455-                                           ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx-1456-                                           : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx-1457-                                   }`}
components/SettingsView.tsx-1458-                               >
components/SettingsView.tsx:1459:                                   Edit
components/SettingsView.tsx-1460-                               </button>
components/SettingsView.tsx-1461-                               )}
components/SettingsView.tsx-1462-                           </div>
components/SettingsView.tsx-1463-                           <div className="p-4 space-y-4">
components/SettingsView.tsx:1464:                               {isEditingSctEvents ? (
components/SettingsView.tsx-1465-                                   <>
components/SettingsView.tsx-1466-                                       <p className="text-sm text-gray-400">Manage SCT event types.</p>
components/SettingsView.tsx-1467-                                       <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx-1550-                                    <select 
components/SettingsView.tsx-1551-                                        value={maxDispatchPerHour}
components/SettingsView.tsx-1552-                                        onChange={(e) => onUpdateMaxDispatchPerHour(parseInt(e.target.value))}
components/SettingsView.tsx:1553:                                        disabled={!canEditSettings}
components/SettingsView.tsx-1554-                                        className={`w-full px-3 py-2 rounded-md border focus:ring-sky-500 focus:border-sky-500 ${
components/SettingsView.tsx:1555:                                            canEditSettings 
components/SettingsView.tsx-1556-                                                ? 'bg-gray-700 border-gray-600 text-white' 
components/SettingsView.tsx-1557-                                                : 'bg-gray-600 border-gray-500 text-gray-300 cursor-not-allowed'
components/SettingsView.tsx-1558-                                        }`}
--
components/SettingsView.tsx-1561-                                            <option key={value} value={value}>{value}</option>
components/SettingsView.tsx-1562-                                        ))}
components/SettingsView.tsx-1563-                                    </select>
components/SettingsView.tsx:1564:                                    {canEditSettings && (
components/SettingsView.tsx-1565-                                        <p className="mt-1 text-xs text-gray-400">
components/SettingsView.tsx-1566-                                            Maximum number of dispatches allowed per hour
components/SettingsView.tsx-1567-                                        </p>
--
components/SettingsView.tsx-1657-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-96 h-fit">
components/SettingsView.tsx-1658-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx-1659-                            <h2 className="text-lg font-semibold text-gray-200">Events Limits</h2>
components/SettingsView.tsx:1660:                            {isEditingLimits ? (
components/SettingsView.tsx-1661-                                <button onClick={handleSaveLimits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx-1662-                            ) : (
components/SettingsView.tsx-1663-                                <button 
components/SettingsView.tsx:1664:                                onClick={handleEditLimits} 
components/SettingsView.tsx:1665:                                disabled={!canEditSettings}
components/SettingsView.tsx-1666-                                className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx:1667:                                    canEditSettings 
components/SettingsView.tsx-1668-                                        ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx-1669-                                        : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx-1670-                                }`}
components/SettingsView.tsx-1671-                            >
components/SettingsView.tsx:1672:                                Edit
components/SettingsView.tsx-1673-                            </button>
components/SettingsView.tsx-1674-                            )}
components/SettingsView.tsx-1675-                        </div>
--
components/SettingsView.tsx-1680-                                <div className="space-y-2">
components/SettingsView.tsx-1681-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1682-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx:1683:                                        {isEditingLimits ? (
components/SettingsView.tsx-1684-                                            <input type="number" value={tempLimits.exec.maxFlightFtd} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1685-                                        ) : <span className="text-white font-mono">1</span>}
components/SettingsView.tsx-1686-                                    </div>
components/SettingsView.tsx-1687-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1688-                                        <span className="text-sm text-gray-400">Max Duty Sup:</span>
components/SettingsView.tsx:1689:                                        {isEditingLimits ? (
components/SettingsView.tsx-1690-                                            <input type="number" value={tempLimits.exec.maxDutySup} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxDutySup: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1691-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1692-                                    </div>
components/SettingsView.tsx-1693-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1694-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx:1695:                                        {isEditingLimits ? (
components/SettingsView.tsx-1696-                                            <input type="number" value={tempLimits.exec.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1697-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1698-                                    </div>
--
components/SettingsView.tsx-1704-                                <div className="space-y-2">
components/SettingsView.tsx-1705-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1706-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx:1707:                                        {isEditingLimits ? (
components/SettingsView.tsx-1708-                                            <input type="number" value={tempLimits.instructor.maxFlightFtd || 2} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1709-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1710-                                    </div>
components/SettingsView.tsx-1711-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1712-                                        <span className="text-xs text-gray-400">Staff (Flying Supervisor role assigned) - Max Duty Sup:</span>
components/SettingsView.tsx:1713:                                        {isEditingLimits ? (
components/SettingsView.tsx-1714-                                            <input type="number" value={tempLimits.instructor.maxDutySup} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxDutySup: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1715-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1716-                                    </div>
components/SettingsView.tsx-1717-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1718-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx:1719:                                        {isEditingLimits ? (
components/SettingsView.tsx-1720-                                            <input type="number" value={tempLimits.instructor.maxTotal || 3} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1721-                                        ) : <span className="text-white font-mono">3</span>}
components/SettingsView.tsx-1722-                                    </div>
--
components/SettingsView.tsx-1728-                                <div className="space-y-2">
components/SettingsView.tsx-1729-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1730-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx:1731:                                        {isEditingLimits ? (
components/SettingsView.tsx-1732-                                            <input type="number" value={tempLimits.trainee.maxFlightFtd || 1} onChange={e => setTempLimits({...tempLimits, trainee: {...tempLimits.trainee, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1733-                                        ) : <span className="text-white font-mono">1</span>}
components/SettingsView.tsx-1734-                                    </div>
components/SettingsView.tsx-1735-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1736-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx:1737:                                        {isEditingLimits ? (
components/SettingsView.tsx-1738-                                            <input type="number" value={tempLimits.trainee.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, trainee: {maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1739-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1740-                                    </div>
--
components/SettingsView.tsx-1746-                                <div className="space-y-2">
components/SettingsView.tsx-1747-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1748-                                        <span className="text-sm text-gray-400">Max FTD:</span>
components/SettingsView.tsx:1749:                                        {isEditingLimits ? (
components/SettingsView.tsx-1750-                                            <input type="number" value={tempLimits.simIp.maxFtd || 2} onChange={e => setTempLimits({...tempLimits, simIp: {...tempLimits.simIp, maxFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1751-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1752-                                    </div>
components/SettingsView.tsx-1753-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx-1754-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx:1755:                                        {isEditingLimits ? (
components/SettingsView.tsx-1756-                                            <input type="number" value={tempLimits.simIp.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, simIp: {maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx-1757-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx-1758-                                    </div>
--
components/SettingsView.tsx.backup-140-    // --- STATE ---
components/SettingsView.tsx.backup-141-    
components/SettingsView.tsx.backup-142-    // Permission Check - Only Super Admin, Admin, and Scheduler can edit Settings
components/SettingsView.tsx.backup:143:    const canEditSettings = ['Super Admin', 'Admin', 'Scheduler'].includes(currentUserPermission);
components/SettingsView.tsx.backup-144-    
components/SettingsView.tsx.backup-145-    // Location State
components/SettingsView.tsx.backup:146:    const [isEditingLocations, setIsEditingLocations] = useState(false);
components/SettingsView.tsx.backup-147-    const [tempLocations, setTempLocations] = useState<string[]>([]);
components/SettingsView.tsx.backup-148-    const [newLocation, setNewLocation] = useState('');
components/SettingsView.tsx.backup-149-
components/SettingsView.tsx.backup-150-    // Unit State
components/SettingsView.tsx.backup:151:    const [isEditingUnits, setIsEditingUnits] = useState(false);
components/SettingsView.tsx.backup-152-    const [tempUnits, setTempUnits] = useState<string[]>([]);
components/SettingsView.tsx.backup-153-    const [newUnit, setNewUnit] = useState('');
components/SettingsView.tsx.backup-154-    const [tempUnitLocations, setTempUnitLocations] = useState<Record<string, string>>({});
components/SettingsView.tsx.backup-155-    
components/SettingsView.tsx.backup-156-    // SCT Events State
components/SettingsView.tsx.backup:157:    const [isEditingSctEvents, setIsEditingSctEvents] = useState(false);
components/SettingsView.tsx.backup-158-    
components/SettingsView.tsx.backup-159-    // Permissions Manager State
components/SettingsView.tsx.backup-160-    const [showPermissionsManager, setShowPermissionsManager] = useState(false);
--
components/SettingsView.tsx.backup-162-    const [newSctEvent, setNewSctEvent] = useState('');
components/SettingsView.tsx.backup-163-    
components/SettingsView.tsx.backup-164-    // Event Limits State
components/SettingsView.tsx.backup:165:    const [isEditingLimits, setIsEditingLimits] = useState(false);
components/SettingsView.tsx.backup-166-    const [tempLimits, setTempLimits] = useState<EventLimits>(eventLimits);
components/SettingsView.tsx.backup-167-
components/SettingsView.tsx.backup-168-    // Scoring Matrix State
--
components/SettingsView.tsx.backup-271-    };
components/SettingsView.tsx.backup-272-
components/SettingsView.tsx.backup-273-    // Location Handlers
components/SettingsView.tsx.backup:274:    const handleEditLocations = () => {
components/SettingsView.tsx.backup-275-        setTempLocations([...locations]);
components/SettingsView.tsx.backup:276:        setIsEditingLocations(true);
components/SettingsView.tsx.backup-277-    };
components/SettingsView.tsx.backup-278-
components/SettingsView.tsx.backup-279-    const handleSaveLocations = () => {
components/SettingsView.tsx.backup-280-        const oldLocations = locations.join(', ');
components/SettingsView.tsx.backup-281-        const newLocations = tempLocations.join(', ');
components/SettingsView.tsx.backup-282-        onUpdateLocations(tempLocations);
components/SettingsView.tsx.backup:283:        setIsEditingLocations(false);
components/SettingsView.tsx.backup-284-        logAudit({
components/SettingsView.tsx.backup-285-            page: 'Settings - Location',
components/SettingsView.tsx.backup-286-            action: 'update',
--
components/SettingsView.tsx.backup-291-
components/SettingsView.tsx.backup-292-    const handleCancelLocations = () => {
components/SettingsView.tsx.backup-293-        setNewLocation('');
components/SettingsView.tsx.backup:294:        setIsEditingLocations(false);
components/SettingsView.tsx.backup-295-    };
components/SettingsView.tsx.backup-296-    
components/SettingsView.tsx.backup-297-    const handleAddLocation = () => {
--
components/SettingsView.tsx.backup-306-    };
components/SettingsView.tsx.backup-307-
components/SettingsView.tsx.backup-308-    // Unit Handlers
components/SettingsView.tsx.backup:309:    const handleEditUnits = () => {
components/SettingsView.tsx.backup-310-        setTempUnits([...units]);
components/SettingsView.tsx.backup-311-        setTempUnitLocations({...unitLocations});
components/SettingsView.tsx.backup:312:        setIsEditingUnits(true);
components/SettingsView.tsx.backup-313-    };
components/SettingsView.tsx.backup-314-    
components/SettingsView.tsx.backup-315-    const handleSaveUnits = () => {
--
components/SettingsView.tsx.backup-323-        }
components/SettingsView.tsx.backup-324-        onUpdateUnitLocations(newUnitLocations);
components/SettingsView.tsx.backup-325-
components/SettingsView.tsx.backup:326:        setIsEditingUnits(false);
components/SettingsView.tsx.backup-327-        logAudit({
components/SettingsView.tsx.backup-328-            page: 'Settings - Units',
components/SettingsView.tsx.backup-329-            action: 'update',
--
components/SettingsView.tsx.backup-334-
components/SettingsView.tsx.backup-335-    const handleCancelUnits = () => {
components/SettingsView.tsx.backup-336-        setNewUnit('');
components/SettingsView.tsx.backup:337:        setIsEditingUnits(false);
components/SettingsView.tsx.backup-338-    };
components/SettingsView.tsx.backup-339-
components/SettingsView.tsx.backup-340-    const handleAddUnit = () => {
--
components/SettingsView.tsx.backup-353-    };
components/SettingsView.tsx.backup-354-
components/SettingsView.tsx.backup-355-    // SCT Events Handlers
components/SettingsView.tsx.backup:356:    const handleEditSctEvents = () => {
components/SettingsView.tsx.backup-357-        setTempSctEvents([...sctEvents]);
components/SettingsView.tsx.backup:358:        setIsEditingSctEvents(true);
components/SettingsView.tsx.backup-359-    };
components/SettingsView.tsx.backup-360-
components/SettingsView.tsx.backup-361-    const handleSaveSctEvents = () => {
components/SettingsView.tsx.backup-362-        const oldEvents = sctEvents.join(', ');
components/SettingsView.tsx.backup-363-        const newEvents = tempSctEvents.join(', ');
components/SettingsView.tsx.backup-364-        onUpdateSctEvents(tempSctEvents);
components/SettingsView.tsx.backup:365:        setIsEditingSctEvents(false);
components/SettingsView.tsx.backup-366-        logAudit({
components/SettingsView.tsx.backup-367-            page: 'Settings - SCT Events',
components/SettingsView.tsx.backup-368-            action: 'update',
--
components/SettingsView.tsx.backup-373-
components/SettingsView.tsx.backup-374-    const handleCancelSctEvents = () => {
components/SettingsView.tsx.backup-375-        setNewSctEvent('');
components/SettingsView.tsx.backup:376:        setIsEditingSctEvents(false);
components/SettingsView.tsx.backup-377-    };
components/SettingsView.tsx.backup-378-
components/SettingsView.tsx.backup-379-    const handleAddSctEvent = () => {
--
components/SettingsView.tsx.backup-395-    };
components/SettingsView.tsx.backup-396-
components/SettingsView.tsx.backup-397-    // Event Limits Handlers
components/SettingsView.tsx.backup:398:    const handleEditLimits = () => {
components/SettingsView.tsx.backup-399-        setTempLimits(JSON.parse(JSON.stringify(eventLimits)));
components/SettingsView.tsx.backup:400:        setIsEditingLimits(true);
components/SettingsView.tsx.backup-401-    };
components/SettingsView.tsx.backup-402-
components/SettingsView.tsx.backup-403-    const handleSaveLimits = () => {
components/SettingsView.tsx.backup-404-        onUpdateEventLimits(tempLimits);
components/SettingsView.tsx.backup:405:        setIsEditingLimits(false);
components/SettingsView.tsx.backup-406-        onShowSuccess('Events limits updated');
components/SettingsView.tsx.backup-407-        logAudit({
components/SettingsView.tsx.backup-408-            page: 'Settings - Event Limits',
--
components/SettingsView.tsx.backup-1324-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx.backup-1325-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx.backup-1326-                            <h2 className="text-lg font-semibold text-gray-200">Location</h2>
components/SettingsView.tsx.backup:1327:                            {isEditingLocations ? (
components/SettingsView.tsx.backup-1328-                                <div className="flex space-x-2">
components/SettingsView.tsx.backup-1329-                                    <button onClick={handleSaveLocations} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx.backup-1330-                                    <button onClick={handleCancelLocations} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx.backup-1331-                                </div>
components/SettingsView.tsx.backup-1332-                            ) : (
components/SettingsView.tsx.backup-1333-                                <button 
components/SettingsView.tsx.backup:1334:                                   onClick={handleEditLocations} 
components/SettingsView.tsx.backup:1335:                                   disabled={!canEditSettings}
components/SettingsView.tsx.backup-1336-                                   className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx.backup:1337:                                       canEditSettings 
components/SettingsView.tsx.backup-1338-                                           ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx.backup-1339-                                           : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx.backup-1340-                                   }`}
components/SettingsView.tsx.backup-1341-                               >
components/SettingsView.tsx.backup:1342:                                   Edit
components/SettingsView.tsx.backup-1343-                               </button>
components/SettingsView.tsx.backup-1344-                            )}
components/SettingsView.tsx.backup-1345-                        </div>
components/SettingsView.tsx.backup-1346-                        <div className="p-4 space-y-4">
components/SettingsView.tsx.backup:1347:                            {isEditingLocations ? (
components/SettingsView.tsx.backup-1348-                                <>
components/SettingsView.tsx.backup-1349-                                    <p className="text-sm text-gray-400">Manage available operating locations.</p>
components/SettingsView.tsx.backup-1350-                                    <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx.backup-1384-                              onUpdateCallsigns={onUpdateFormationCallsigns}
components/SettingsView.tsx.backup-1385-                              units={units}
components/SettingsView.tsx.backup-1386-                              locations={locations}
components/SettingsView.tsx.backup:1387:                              canEditSettings={canEditSettings}
components/SettingsView.tsx.backup-1388-                              onAuditLog={logAudit}
components/SettingsView.tsx.backup-1389-                          />
components/SettingsView.tsx.backup-1390-                      )}
--
components/SettingsView.tsx.backup-1393-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx.backup-1394-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx.backup-1395-                            <h2 className="text-lg font-semibold text-gray-200">Units</h2>
components/SettingsView.tsx.backup:1396:                            {isEditingUnits ? (
components/SettingsView.tsx.backup-1397-                                <div className="flex space-x-2">
components/SettingsView.tsx.backup-1398-                                    <button onClick={handleSaveUnits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx.backup-1399-                                    <button onClick={handleCancelUnits} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx.backup-1400-                                </div>
components/SettingsView.tsx.backup-1401-                            ) : (
components/SettingsView.tsx.backup-1402-                                <button 
components/SettingsView.tsx.backup:1403:                                onClick={handleEditUnits} 
components/SettingsView.tsx.backup:1404:                                disabled={!canEditSettings}
components/SettingsView.tsx.backup-1405-                                className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx.backup:1406:                                    canEditSettings 
components/SettingsView.tsx.backup-1407-                                        ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx.backup-1408-                                        : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx.backup-1409-                                }`}
components/SettingsView.tsx.backup-1410-                            >
components/SettingsView.tsx.backup:1411:                                Edit
components/SettingsView.tsx.backup-1412-                            </button>
components/SettingsView.tsx.backup-1413-                            )}
components/SettingsView.tsx.backup-1414-                        </div>
components/SettingsView.tsx.backup-1415-                        <div className="p-4 space-y-4">
components/SettingsView.tsx.backup:1416:                            {isEditingUnits ? (
components/SettingsView.tsx.backup-1417-                                <>
components/SettingsView.tsx.backup-1418-                                    <p className="text-sm text-gray-400">Manage units and their primary locations.</p>
components/SettingsView.tsx.backup-1419-                                    <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx.backup-1476-                       <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit">
components/SettingsView.tsx.backup-1477-                           <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx.backup-1478-                               <h2 className="text-lg font-semibold text-gray-200">SCT Events</h2>
components/SettingsView.tsx.backup:1479:                               {isEditingSctEvents ? (
components/SettingsView.tsx.backup-1480-                                   <div className="flex space-x-2">
components/SettingsView.tsx.backup-1481-                                       <button onClick={handleSaveSctEvents} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx.backup-1482-                                       <button onClick={handleCancelSctEvents} className="px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold">Cancel</button>
components/SettingsView.tsx.backup-1483-                                   </div>
components/SettingsView.tsx.backup-1484-                               ) : (
components/SettingsView.tsx.backup-1485-                                   <button 
components/SettingsView.tsx.backup:1486:                                   onClick={handleEditSctEvents} 
components/SettingsView.tsx.backup:1487:                                   disabled={!canEditSettings}
components/SettingsView.tsx.backup-1488-                                   className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx.backup:1489:                                       canEditSettings 
components/SettingsView.tsx.backup-1490-                                           ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx.backup-1491-                                           : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx.backup-1492-                                   }`}
components/SettingsView.tsx.backup-1493-                               >
components/SettingsView.tsx.backup:1494:                                   Edit
components/SettingsView.tsx.backup-1495-                               </button>
components/SettingsView.tsx.backup-1496-                               )}
components/SettingsView.tsx.backup-1497-                           </div>
components/SettingsView.tsx.backup-1498-                           <div className="p-4 space-y-4">
components/SettingsView.tsx.backup:1499:                               {isEditingSctEvents ? (
components/SettingsView.tsx.backup-1500-                                   <>
components/SettingsView.tsx.backup-1501-                                       <p className="text-sm text-gray-400">Manage SCT event types.</p>
components/SettingsView.tsx.backup-1502-                                       <ul className="space-y-2 max-h-40 overflow-y-auto">
--
components/SettingsView.tsx.backup-1585-                                    <select 
components/SettingsView.tsx.backup-1586-                                        value={maxDispatchPerHour}
components/SettingsView.tsx.backup-1587-                                        onChange={(e) => onUpdateMaxDispatchPerHour(parseInt(e.target.value))}
components/SettingsView.tsx.backup:1588:                                        disabled={!canEditSettings}
components/SettingsView.tsx.backup-1589-                                        className={`w-full px-3 py-2 rounded-md border focus:ring-sky-500 focus:border-sky-500 ${
components/SettingsView.tsx.backup:1590:                                            canEditSettings 
components/SettingsView.tsx.backup-1591-                                                ? 'bg-gray-700 border-gray-600 text-white' 
components/SettingsView.tsx.backup-1592-                                                : 'bg-gray-600 border-gray-500 text-gray-300 cursor-not-allowed'
components/SettingsView.tsx.backup-1593-                                        }`}
--
components/SettingsView.tsx.backup-1596-                                            <option key={value} value={value}>{value}</option>
components/SettingsView.tsx.backup-1597-                                        ))}
components/SettingsView.tsx.backup-1598-                                    </select>
components/SettingsView.tsx.backup:1599:                                    {canEditSettings && (
components/SettingsView.tsx.backup-1600-                                        <p className="mt-1 text-xs text-gray-400">
components/SettingsView.tsx.backup-1601-                                            Maximum number of dispatches allowed per hour
components/SettingsView.tsx.backup-1602-                                        </p>
--
components/SettingsView.tsx.backup-1692-                    <div className="bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-96 h-fit">
components/SettingsView.tsx.backup-1693-                        <div className="p-4 flex justify-between items-center border-b border-gray-700">
components/SettingsView.tsx.backup-1694-                            <h2 className="text-lg font-semibold text-gray-200">Events Limits</h2>
components/SettingsView.tsx.backup:1695:                            {isEditingLimits ? (
components/SettingsView.tsx.backup-1696-                                <button onClick={handleSaveLimits} className="px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold">Save</button>
components/SettingsView.tsx.backup-1697-                            ) : (
components/SettingsView.tsx.backup-1698-                                <button 
components/SettingsView.tsx.backup:1699:                                onClick={handleEditLimits} 
components/SettingsView.tsx.backup:1700:                                disabled={!canEditSettings}
components/SettingsView.tsx.backup-1701-                                className={`px-3 py-1 rounded-md text-xs font-semibold ${
components/SettingsView.tsx.backup:1702:                                    canEditSettings 
components/SettingsView.tsx.backup-1703-                                        ? 'bg-gray-600 text-white hover:bg-gray-700 cursor-pointer' 
components/SettingsView.tsx.backup-1704-                                        : 'bg-gray-700 text-gray-500 cursor-not-allowed'
components/SettingsView.tsx.backup-1705-                                }`}
components/SettingsView.tsx.backup-1706-                            >
components/SettingsView.tsx.backup:1707:                                Edit
components/SettingsView.tsx.backup-1708-                            </button>
components/SettingsView.tsx.backup-1709-                            )}
components/SettingsView.tsx.backup-1710-                        </div>
--
components/SettingsView.tsx.backup-1715-                                <div className="space-y-2">
components/SettingsView.tsx.backup-1716-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1717-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx.backup:1718:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1719-                                            <input type="number" value={tempLimits.exec.maxFlightFtd} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1720-                                        ) : <span className="text-white font-mono">1</span>}
components/SettingsView.tsx.backup-1721-                                    </div>
components/SettingsView.tsx.backup-1722-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1723-                                        <span className="text-sm text-gray-400">Max Duty Sup:</span>
components/SettingsView.tsx.backup:1724:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1725-                                            <input type="number" value={tempLimits.exec.maxDutySup} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxDutySup: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1726-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1727-                                    </div>
components/SettingsView.tsx.backup-1728-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1729-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx.backup:1730:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1731-                                            <input type="number" value={tempLimits.exec.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, exec: {...tempLimits.exec, maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1732-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1733-                                    </div>
--
components/SettingsView.tsx.backup-1739-                                <div className="space-y-2">
components/SettingsView.tsx.backup-1740-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1741-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx.backup:1742:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1743-                                            <input type="number" value={tempLimits.instructor.maxFlightFtd || 2} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1744-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1745-                                    </div>
components/SettingsView.tsx.backup-1746-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1747-                                        <span className="text-xs text-gray-400">Staff (Flying Supervisor role assigned) - Max Duty Sup:</span>
components/SettingsView.tsx.backup:1748:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1749-                                            <input type="number" value={tempLimits.instructor.maxDutySup} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxDutySup: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1750-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1751-                                    </div>
components/SettingsView.tsx.backup-1752-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1753-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx.backup:1754:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1755-                                            <input type="number" value={tempLimits.instructor.maxTotal || 3} onChange={e => setTempLimits({...tempLimits, instructor: {...tempLimits.instructor, maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1756-                                        ) : <span className="text-white font-mono">3</span>}
components/SettingsView.tsx.backup-1757-                                    </div>
--
components/SettingsView.tsx.backup-1763-                                <div className="space-y-2">
components/SettingsView.tsx.backup-1764-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1765-                                        <span className="text-sm text-gray-400">Max Flight/FTD:</span>
components/SettingsView.tsx.backup:1766:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1767-                                            <input type="number" value={tempLimits.trainee.maxFlightFtd || 1} onChange={e => setTempLimits({...tempLimits, trainee: {...tempLimits.trainee, maxFlightFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1768-                                        ) : <span className="text-white font-mono">1</span>}
components/SettingsView.tsx.backup-1769-                                    </div>
components/SettingsView.tsx.backup-1770-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1771-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx.backup:1772:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1773-                                            <input type="number" value={tempLimits.trainee.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, trainee: {maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1774-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1775-                                    </div>
--
components/SettingsView.tsx.backup-1781-                                <div className="space-y-2">
components/SettingsView.tsx.backup-1782-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1783-                                        <span className="text-sm text-gray-400">Max FTD:</span>
components/SettingsView.tsx.backup:1784:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1785-                                            <input type="number" value={tempLimits.simIp.maxFtd || 2} onChange={e => setTempLimits({...tempLimits, simIp: {...tempLimits.simIp, maxFtd: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1786-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1787-                                    </div>
components/SettingsView.tsx.backup-1788-                                    <div className="flex justify-between items-center">
components/SettingsView.tsx.backup-1789-                                        <span className="text-sm text-gray-400">Max total all events:</span>
components/SettingsView.tsx.backup:1790:                                        {isEditingLimits ? (
components/SettingsView.tsx.backup-1791-                                            <input type="number" value={tempLimits.simIp.maxTotal || 2} onChange={e => setTempLimits({...tempLimits, simIp: {maxTotal: parseInt(e.target.value) || 0}})} className="w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500" />
components/SettingsView.tsx.backup-1792-                                        ) : <span className="text-white font-mono">2</span>}
components/SettingsView.tsx.backup-1793-                                    </div>

        }
        
        console.log('ðŸ”µ ========== handleSaveEvents END ==========');
    };

    const handleCancelEvent = (eventId: string, cancellationCode: string, manualCodeEntry?: string) => {
        console.log('ðŸš« ========== CANCELLATION STARTED ==========');
        console.log('ðŸš« Event ID:', eventId);
        console.log('ðŸš« Cancellation Code:', cancellationCode);
        console.log('ðŸš« Manual Entry:', manualCodeEntry);
        
        if (!selectedEvent) {
            console.error('âŒ No selected event!');
            return;
        }
        const eventDate = selectedEvent.date;
        console.log('ðŸ“… Event Date:', eventDate);
        console.log('ðŸ“‹ Selected Event:', selectedEvent);
        
        // Create cancellation record
        const personnelNames = [
            selectedEvent.instructor,
            selectedEvent.student,
            selectedEvent.pilot
        ].filter(Boolean).join(', ');
        
--
                       currentLocation={school === 'ESL' ? 'East Sale' : 'Pearce'}
                    onVisualAdjustStart={handleVisualAdjustStart}
                    onVisualAdjustEnd={handleVisualAdjustEnd}
                    onSavePT051Assessment={onSavePT051Assessment}
                    cancellationCodes={cancellationCodes}
                    onCancelEvent={handleCancelEvent}
                />
            )}
            
            {conflict && <ConflictModal conflict={conflict} onResolve={() => {}} onCancel={() => setConflict(null)} />}
            {neoProblemTileForFlyout && !showTimeOnlyRemedyConfirm && !showNeoChoiceModal && (
                <NeoRemedyFlyout
                    problemTile={neoProblemTileForFlyout}
                    remedies={neoRemediesForFlyout}
                    onApplyRemedy={handleApplyNeoRemedy}
                    onCancel={handleCancelNeo}
                />
            )}
            {showNeoChoiceModal && (
                <div className="fixed inset-0 bg-black/70 z-[80] flex items-center justify-center animate-fade-in" onClick={() => setShowNeoChoiceModal(false)}>
                    <div className="bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-sky-500/50" onClick={e => e.stopPropagation()}>
                        <div className="p-4 border-b border-gray-700 bg-sky-900/20">
                            <h2 className="text-xl font-bold text-sky-400">Resolution Options</h2>
                        </div>
                        <div className="p-6 space-y-4 text-center">
                            <p className="text-gray-300">NEO has found multiple ways to resolve the conflict for <span className="font-bold text-white">{neoProblemTileForFlyout?.event.flightNumber}</span>. Please choose an option:</p>

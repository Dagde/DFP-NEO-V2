    const courseColors = Object.fromEntries(courses.map(c => [c.name, c.color]));

    const isAvailable = (personName: string, startTime: number, duration: number) => {
        if (!personnelSchedule[personName]) {
            return true;
        }
        const endTime = startTime + duration;
        return !personnelSchedule[personName].some(slot => 
            startTime < slot.end && endTime > slot.start
        );
    };

    const bookPerson = (personName: string, startTime: number, duration: number) => {
        if (!personnelSchedule[personName]) {
            personnelSchedule[personName] = [];
        }
        personnelSchedule[personName].push({ start: startTime, end: startTime + duration });
    };

    const waves = [
        { start: 8.0, name: 'AM' },
        { start: 10.5, name: 'MID' },
        { start: 13.5, name: 'PM' }
    ];
    
    const timeBetweenTakeoffs = 0.1; // 6 minutes
    
    const qfis = instructors.filter(i => i.role === 'QFI');
    const simIps = instructors.filter(i => i.role === 'SIM IP');
    
    const flightSyllabus = INITIAL_SYLLABUS_DETAILS.filter(s => s.code.startsWith('BGF') && s.type === 'Flight');
--
                color: courseColors[trainee.course] || 'bg-gray-400/50',
                flightType: 'Dual',
                locationType: 'Local',
                origin: location,
                destination: location,
                area: areas[Math.floor(Math.random() * areas.length)],
            } as ScheduleEvent);
        }

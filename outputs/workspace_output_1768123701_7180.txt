            case 'Instructors':
                return <InstructorListView 
                            onClose={() => handleNavigation('Program Schedule')}
                            events={events}
                            traineesData={traineesData}
                            instructorsData={instructorsData}
                            archivedInstructorsData={archivedInstructorsData}
                            school={school}
                            personnelData={personnelData}
                            onUpdateInstructor={(data) => {
                                setInstructorsData(prev => {
                                    const exists = prev.some(i => i.idNumber === data.idNumber);
                                    if (exists) {
                                        return prev.map(i => i.idNumber === data.idNumber ? data : i);
                                    }
                                    return [...prev, data];
                                });
                            }}
                            onNavigateToCurrency={handleNavigateToCurrency}
                            onBulkUpdateInstructors={handleBulkUpdateInstructors}
                            onArchiveInstructor={(id) => {
                                const instructorToArchive = instructorsData.find(i => i.idNumber === id);
                                if (instructorToArchive) {
                                    setInstructorsData(prev => prev.filter(i => i.idNumber !== id));
                                    setArchivedInstructorsData(prev => [...prev, instructorToArchive]);
                                }
                            }}
                             onRestoreInstructor={(id) => {
                                const instructorToRestore = archivedInstructorsData.find(i => i.idNumber === id);
                                if (instructorToRestore) {
                                    setArchivedInstructorsData(prev => prev.filter(i => i.idNumber !== id));
                                    setInstructorsData(prev => [...prev, instructorToRestore]);
                                }
                            }}
                            locations={locations}
                            units={units}
                            selectedPersonForProfile={selectedPersonForProfile as Instructor | null}
                            onProfileOpened={() => setSelectedPersonForProfile(null)}
                            onViewLogbook={handleViewLogbook}
                            onRequestSct={(instructor) => {
                                setInstructorForSct(instructor);
                                setShowSctRequest(true);
                            }}
                        />;
                case 'Trainees':
                    return <TraineeListView 
                                onClose={() => handleNavigation('Program Schedule')}
                                events={events}

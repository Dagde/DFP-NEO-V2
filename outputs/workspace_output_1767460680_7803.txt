                            traineeLmp={individualLMP}
                            scores={traineeScores}
                            onBack={() => {
                                setSelectedPersonForProfile(selectedTraineeForLMP);
                                handleNavigation('CourseRoster');
                            }}
                        />;
                    }
                }
                return <div>Error: Could not load trainee LMP.</div>;
             case 'Currency':
                if (selectedPersonForCurrency) {
                    return <CurrencyView
                                person={selectedPersonForCurrency}
                                masterCurrencies={masterCurrencies}
                                currencyRequirements={currencyRequirements}
                                allEvents={events}
                                syllabusDetails={syllabusDetails}
                                onClose={handleCurrencyBack}
                                onUpdateCurrencyStatus={(personId, newStatus) => {
                                    const isInstructor = 'role' in selectedPersonForCurrency;
                                    if (isInstructor) {
                                        setInstructorsData(prev => prev.map(p => p.idNumber === personId ? {...p, currencyStatus: newStatus} : p));
                                    } else {
                                        setTraineesData(prev => prev.map(p => p.idNumber === personId ? {...p, currencyStatus: newStatus} : p));
                                    }
                                }}
                                registerDirtyCheck={registerDirtyCheck}
                           />;
                }
                return null;
            case 'Settings':
                return <SettingsViewWithMenu 
                    locations={locations}
                    onUpdateLocations={setLocations}
                    units={units}
                    onUpdateUnits={setUnits}
                    unitLocations={unitLocations}
                    onUpdateUnitLocations={setUnitLocations}
                    instructorsData={instructorsData}
                    traineesData={traineesData}
                    syllabusDetails={syllabusDetails}
                    onBulkUpdateInstructors={handleBulkUpdateInstructors}
                    onReplaceInstructors={handleReplaceInstructors}
                    onBulkUpdateTrainees={handleBulkUpdateTrainees}
                    onReplaceTrainees={handleReplaceTrainees}
                    // FIX: Cannot find name 'onUpdateSyllabus'. Did you mean 'handleUpdateSyllabus'?
                    onUpdateSyllabus={handleUpdateSyllabus}
                    onShowSuccess={setSuccessMessage}
                    eventLimits={eventLimits}
                    onUpdateEventLimits={setEventLimits}

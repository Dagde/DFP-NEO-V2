./dfp-neo-platform/public/flight-school-app/assets/index-DD3eu-El.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-BGD9yxPf.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${H==="Saved"?"bg-green-500":H==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:H==="Saved"?"All changes saved":H},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-F3ndBmg3.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-D41Ba6pJ.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await dh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,ne,ve,fe,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{U(!1)})},[g,F,be,ne,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>rt(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>At(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>rt(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>At(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${q==="Saved"?"bg-green-500":q==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:q==="Saved"?"All changes saved":q},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Ql,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),G=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||G.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||G.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,G={...we,startTime:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),G={...we,duration:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),G=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:G};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:HI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:ne===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-Cj9QqoWL.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>rt(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>At(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>rt(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>At(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-R9YXApG9.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,ne,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,ne,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>rt(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>rt(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:ne===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-Dhd_iFkB.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,ie,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,ie,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>rt(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>rt(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:ie===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-04eF84V5.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-at8AE7HA.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}L(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{L(!1)})},[g,F,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-0mWWF6yd.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-CQVtsU1a.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-CbcozcFT.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}L(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,me,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{L(!1)})},[g,F,be,se,ve,me,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Ve={...we,duration:q};ae(Ve)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:me===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:me==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-nYoF3WZ8.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-DCARJBzL.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}L(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,me,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{L(!1)})},[g,F,be,se,ve,me,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Ve={...we,duration:q};ae(Ve)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:me===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:me==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-DMpdmYCq.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}L(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,me,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{L(!1)})},[g,F,be,se,ve,me,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:me===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:me==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-BYSZDZoZ.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await dh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,ne,ve,fe,ge]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{U(!1)})},[g,F,be,ne,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>rt(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>rt(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${q==="Saved"?"bg-green-500":q==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:q==="Saved"?"All changes saved":q},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Ql,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),G=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||G.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||G.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,G={...we,startTime:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),G={...we,duration:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),G=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:G};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:HI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:ne===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,He))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-B7pRpEMW.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await fh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&be.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",be.id),a(be.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[be,se,ve,fe,ge]),S.useEffect(()=>{g(()=>j,()=>Je(!1),()=>{U(!1)})},[g,j,be,se,ve,fe,ge]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:be.flightNumber||"",onChange:ke=>$($e=>({...$e,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>Ct(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>Ct(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${G==="Saved"?"bg-green-500":G==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:G==="Saved"?"All changes saved":G},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),be.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Zl,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let $e=v.find(De=>{const it=(De.id||"").trim(),q=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||q.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||q.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",$e),($e==null?void 0:$e.eventDescription)||($e==null?void 0:$e.title)||($e==null?void 0:$e.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:be.date||we.date,onChange:ke=>{const $e=ke.target.value;$(De=>({...De,date:$e})),ae({date:$e})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const $e=parseFloat(ke.target.value),De={...we,startTime:$e+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+$e/60,q={...we,startTime:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const $e=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+($e-De),q={...we,duration:it};ae(q)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const $e=parseInt(ke.target.value),q=Math.floor((we.startTime||0)+(we.duration||0))+$e/60-(we.startTime||0),Te={...we,duration:q};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:be.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:$e=>qe($e.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:zI.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:se===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>Be("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>Be("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:ge.isAssessment,onChange:ke=>ue({...ge,isAssessment:ke.target.checked,result:ke.target.checked?ge.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:ge.isAssessment?ge.result??"":"",onChange:ke=>{const $e=parseInt(ke.target.value)||0;ue({...ge,result:Math.min(100,Math.max(0,$e))})},disabled:!ge.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/public/flight-school-app/assets/index-CFus4ZwJ.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await dh(ke)?(console.log("‚úÖ PT051View: User confirmed deletion"),a&&ge.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",ge.id),a(ge.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};S.useEffect(()=>{if(Y.current){Y.current=!1;return}U(!0),B("Saving...");const ke=setTimeout(()=>{Je(!0)},1e3);return()=>clearTimeout(ke)},[ge,ne,ve,fe,be]),S.useEffect(()=>{g(()=>F,()=>Je(!1),()=>{U(!1)})},[g,F,ge,ne,ve,fe,be]);const ot={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[n.jsxDEV("div",{className:"flex items-center gap-4",children:[n.jsxDEV("div",{className:"flex-1",children:[n.jsxDEV("input",{type:"text",value:ge.flightNumber||"",onChange:ke=>$(He=>({...He,flightNumber:ke.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:712,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsxDEV("input",{type:"date",value:ge.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:720,columnNumber:29},void 0),n.jsxDEV("span",{children:"at"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:730,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe(we.startTime),onChange:ke=>st(ke),onBlur:()=>ct("startTime"),onKeyDown:ke=>At(ke,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:731,columnNumber:29},void 0),n.jsxDEV("span",{children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:741,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",placeholder:"hhmm",value:Pe((we.startTime||0)+(we.duration||0)),onChange:ke=>st(ke),onBlur:()=>ct("endTime"),onKeyDown:ke=>At(ke,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:742,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:719,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:711,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${q==="Saved"?"bg-green-500":q==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:755,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:q==="Saved"?"All changes saved":q},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:756,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:754,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:710,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center gap-4",children:[m&&m.id&&n.jsxDEV("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",m.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:762,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Et,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:769,columnNumber:21},void 0),ge.id&&a&&n.jsxDEV("button",{onClick:Tt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:773,columnNumber:25},void 0),n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",n.jsxDEV(Ql,{pageName:"PT-051 Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:782,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:780,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:759,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:709,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[n.jsxDEV("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:793,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:e.flightNumber||"N/A"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:794,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:792,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:797,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white",children:(()=>{const ke=(e.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",ke),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(De=>({id:De.id,code:De.code,title:De.title})));let He=v.find(De=>{const it=(De.id||"").trim(),G=(De.code||"").trim();return it.toLowerCase()===ke.toLowerCase()||G.toLowerCase()===ke.toLowerCase()?(console.log("üîç Found exact match:",De),!0):it.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()||G.replace(/\s+/g,"").toLowerCase()===ke.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",De),!0):!1});return console.log("üîç Event Description Debug - Found detail:",He),(He==null?void 0:He.eventDescription)||(He==null?void 0:He.title)||(He==null?void 0:He.description)||"N/A"})()},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:798,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:796,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:829,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${t.rank} ${t.name}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:830,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Course"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:833,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.course},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:834,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:832,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:837,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("input",{type:"date",value:ge.date||we.date,onChange:ke=>{const He=ke.target.value;$(De=>({...De,date:He})),ae({date:He})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:839,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:838,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:836,columnNumber:25},void 0),n.jsxDEV("div",{children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Time"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:852,columnNumber:29},void 0),n.jsxDEV("dd",{className:"mt-1 flex items-center gap-1",children:[n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(we.startTime||0),onChange:ke=>{const He=parseFloat(ke.target.value),De={...we,startTime:He+we.startTime%1};ae(De)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:854,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:867,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(we.startTime%1*60),onChange:ke=>{const He=parseInt(ke.target.value),it=Math.floor(we.startTime||0)+He/60,G={...we,startTime:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:868,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:"-"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:883,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((we.startTime||0)+(we.duration||0)),onChange:ke=>{const He=parseFloat(ke.target.value),De=(we.startTime||0)+(we.duration||0),it=we.duration+(He-De),G={...we,duration:it};ae(G)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:884,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white",children:":"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:899,columnNumber:33},void 0),n.jsxDEV("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((we.startTime||0)+(we.duration||0))%1*60),onChange:ke=>{const He=parseInt(ke.target.value),G=Math.floor((we.startTime||0)+(we.duration||0))+He/60-(we.startTime||0),Te={...we,duration:G};ae(Te)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:900,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:853,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:851,columnNumber:25},void 0),n.jsxDEV("div",{className:"col-span-2",children:[n.jsxDEV("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:919,columnNumber:30},void 0),n.jsxDEV("dd",{className:"mt-1",children:n.jsxDEV("select",{value:ge.instructorName||"",onChange:ke=>pt(ke.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:927,columnNumber:38},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:929,columnNumber:42},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:922,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:920,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:918,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:791,columnNumber:21},void 0),n.jsxDEV("div",{className:"lg:col-span-2 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:940,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 mb-4",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:943,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(ke=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:ke,checked:fe===ke,onChange:He=>qe(He.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:947,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:955,columnNumber:45},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:946,columnNumber:41},void 0)),n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[n.jsxDEV("input",{type:"radio",name:"dco-result",value:"",checked:fe==="",onChange:ke=>qe(ke.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:959,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-gray-400 font-medium",children:"None"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:967,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:958,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:944,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:942,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-2 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:973,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:$I.map(ke=>n.jsxDEV("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[n.jsxDEV("span",{children:ke},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:977,columnNumber:49},void 0),n.jsxDEV("input",{type:"radio",name:"overall-grade",value:ke,checked:ne===ke,onChange:()=>Ne(ke),className:`h-4 w-4 ${xe(ke)} bg-gray-600`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:978,columnNumber:49},void 0)]},ke,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:976,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:974,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:972,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:984,columnNumber:37},void 0),n.jsxDEV("div",{className:"mt-1 flex space-x-4",children:[n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${ve===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"P",checked:ve==="P",onChange:()=>$e("P"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:991,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:"PASS"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:992,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:986,columnNumber:41},void 0),n.jsxDEV("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${ve==="F"||C?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${ve===null&&!C?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[n.jsxDEV("input",{type:"radio",name:"overall-result",value:"F",checked:ve==="F",onChange:()=>$e("F"),className:"sr-only"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:999,columnNumber:45},void 0),n.jsxDEV("span",{className:"text-2xl font-bold",children:C?"Double Marg":"FAIL"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1e3,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:994,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:985,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:983,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:971,columnNumber:30},void 0),n.jsxDEV("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1007,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:be.isAssessment,onChange:ke=>ue({...be,isAssessment:ke.target.checked,result:ke.target.checked?be.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1010,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1020,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1009,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400",children:"Result:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1023,columnNumber:41},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("input",{type:"number",min:"0",max:"100",value:be.isAssessment?be.result??"":"",onChange:ke=>{const He=parseInt(ke.target.value)||0;ue({...be,result:Math.min(100,Math.max(0,He))})},disabled:!be.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/assets/index-ocEpyxXE.js:This action cannot be undone.`;console.log("üóëÔ∏è PT051View: Delete button clicked"),await nf(we)?(console.log("‚úÖ PT051View: User confirmed deletion"),o&&se.id?(console.log("üóëÔ∏è PT051View: Calling onDeleteAssessment with ID:",se.id),o(se.id),s()):console.log("‚ùå PT051View: onDeleteAssessment or assessment.id is missing")):console.log("‚ùå PT051View: User cancelled deletion")};C.useEffect(()=>{if(W.current){W.current=!1;return}R(!0),O("Saving...");const we=setTimeout(()=>{Ge(!0)},1e3);return()=>clearTimeout(we)},[se,K,xe,ce,ye]),C.useEffect(()=>{x(()=>_,()=>Ge(!1),()=>{R(!1)})},[x,_,se,K,xe,ce,ye]);const ze={MIN:"bg-red-800/50",DEMO:"bg-red-700/50",0:"bg-orange-800/50",1:"bg-orange-700/50",2:"bg-yellow-800/50",3:"bg-yellow-700/50",4:"bg-green-800/50",5:"bg-green-700/50"};return e.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:[e.jsxs("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700 sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:se.flightNumber||"",onChange:we=>F(Re=>({...Re,flightNumber:we.target.value})),className:"text-2xl font-bold text-white bg-transparent border-b-2 border-gray-600 focus:border-sky-500 outline-none mb-2 w-full",placeholder:"Assessment Title"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[e.jsx("input",{type:"date",value:se.date||Ne.date,onChange:we=>{const Re=we.target.value;F(be=>({...be,date:Re})),X({date:Re})},className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500"}),e.jsx("span",{children:"at"}),e.jsx("input",{type:"text",placeholder:"hhmm",value:We(Ne.startTime),onChange:we=>Ke(we),onBlur:()=>nt("startTime"),onKeyDown:we=>Ct(we,"startTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"text",placeholder:"hhmm",value:We((Ne.startTime||0)+(Ne.duration||0)),onChange:we=>Ke(we),onBlur:()=>nt("endTime"),onKeyDown:we=>Ct(we,"endTime"),className:"w-20 bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white focus:ring-1 focus:ring-sky-500 text-center font-mono",maxLength:"4"})]})]}),e.jsxs("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${H==="Saved"?"bg-green-500":H==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-300 font-mono uppercase",children:H==="Saved"?"All changes saved":H})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[d&&d.id&&e.jsx("button",{onClick:()=>{console.log("Editing mode enabled for PT-051:",d.id)},className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-colors text-sm font-semibold shadow-md",children:"‚úèÔ∏è Edit Assessment"}),e.jsx("button",{onClick:ht,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Save & Exit"}),se.id&&o&&e.jsx("button",{onClick:vt,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold shadow-md",children:"üóëÔ∏è Delete Assessment"}),e.jsxs("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:["‚Üê Back to Summary",e.jsx(Qa,{pageName:"PT-051 Assessment"})]})]})]}),e.jsxs("div",{className:"p-4 md:p-6 w-full max-w-full mx-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[e.jsxs("dl",{className:"lg:col-span-1 space-y-2 p-4 bg-gray-800 border border-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Event Number"}),e.jsx("dd",{className:"mt-1 text-sm text-white font-semibold",children:t.flightNumber||"N/A"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Event Description"}),e.jsx("dd",{className:"mt-1 text-sm text-white",children:(()=>{const we=(t.flightNumber||"").trim();console.log("üîç Event Description Debug - Event Number:",we),console.log("üîç Event Description Debug - syllabusDetails count:",v.length),console.log("üîç Event Description Debug - First 5 syllabus items:",v.slice(0,5).map(be=>({id:be.id,code:be.code,title:be.title})));let Re=v.find(be=>{const Ze=(be.id||"").trim(),ot=(be.code||"").trim();return Ze.toLowerCase()===we.toLowerCase()||ot.toLowerCase()===we.toLowerCase()?(console.log("üîç Found exact match:",be),!0):Ze.replace(/\s+/g,"").toLowerCase()===we.replace(/\s+/g,"").toLowerCase()||ot.replace(/\s+/g,"").toLowerCase()===we.replace(/\s+/g,"").toLowerCase()?(console.log("üîç Found match without spaces:",be),!0):!1});return console.log("üîç Event Description Debug - Found detail:",Re),(Re==null?void 0:Re.eventDescription)||(Re==null?void 0:Re.title)||(Re==null?void 0:Re.description)||"N/A"})()})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Trainee"}),e.jsx("dd",{className:"mt-1 text-sm text-white font-semibold",children:`${n.rank} ${n.name}`})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Course"}),e.jsx("dd",{className:"mt-1 text-sm text-white font-semibold",children:n.course})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Date"}),e.jsx("dd",{className:"mt-1",children:e.jsx("input",{type:"date",value:se.date||Ne.date,onChange:we=>{const Re=we.target.value;F(be=>({...be,date:Re})),X({date:Re})},className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 focus:ring-1 focus:ring-sky-500"})})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Time"}),e.jsxs("dd",{className:"mt-1 flex items-center gap-1",children:[e.jsx("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor(Ne.startTime||0),onChange:we=>{const Re=parseFloat(we.target.value),be={...Ne,startTime:Re+Ne.startTime%1};X(be)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"}),e.jsx("span",{className:"text-white",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(Ne.startTime%1*60),onChange:we=>{const Re=parseInt(we.target.value),Ze=Math.floor(Ne.startTime||0)+Re/60,ot={...Ne,startTime:Ze};X(ot)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"}),e.jsx("span",{className:"text-white",children:"-"}),e.jsx("input",{type:"number",min:"0",max:"23",step:"1",value:Math.floor((Ne.startTime||0)+(Ne.duration||0)),onChange:we=>{const Re=parseFloat(we.target.value),be=(Ne.startTime||0)+(Ne.duration||0),Ze=Ne.duration+(Re-be),ot={...Ne,duration:Ze};X(ot)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"}),e.jsx("span",{className:"text-white",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",step:"15",value:Math.round(((Ne.startTime||0)+(Ne.duration||0))%1*60),onChange:we=>{const Re=parseInt(we.target.value),ot=Math.floor((Ne.startTime||0)+(Ne.duration||0))+Re/60-(Ne.startTime||0),Vt={...Ne,duration:ot};X(Vt)},className:"w-12 text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-1 py-1 focus:ring-1 focus:ring-sky-500"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-400",children:"Instructor"}),e.jsx("dd",{className:"mt-1",children:e.jsxs("select",{value:se.instructorName||"",onChange:we=>tt(we.target.value),className:"text-sm text-white font-semibold bg-gray-700 border border-gray-600 rounded px-2 py-1 w-full focus:ring-1 focus:ring-sky-500",children:[e.jsx("option",{value:"",children:"Select instructor..."}),ft.map(we=>e.jsxs("option",{value:we.name,children:[we.rank," ",we.name]},we.idNumber))]})})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Overall Assessment"}),e.jsxs("div",{className:"mt-2 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[["DCO","DPCO","DNCO"].map(we=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[e.jsx("input",{type:"radio",name:"dco-result",value:we,checked:ce===we,onChange:Re=>He(Re.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"}),e.jsx("span",{className:"text-white font-medium",children:we})]},we)),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-700/30 p-1 rounded",children:[e.jsx("input",{type:"radio",name:"dco-result",value:"",checked:ce==="",onChange:we=>He(we.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"}),e.jsx("span",{className:"text-gray-400 font-medium",children:"None"})]})]})]}),e.jsxs("div",{className:"mt-2 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Overall Grade"}),e.jsx("div",{className:"mt-1 flex justify-around p-2 bg-gray-700/50 rounded",children:XE.map(we=>e.jsxs("label",{className:"flex flex-col items-center space-y-1 text-xs text-gray-300 cursor-pointer",children:[e.jsx("span",{children:we}),e.jsx("input",{type:"radio",name:"overall-grade",value:we,checked:K===we,onChange:()=>ue(we),className:`h-4 w-4 ${ge(we)} bg-gray-600`})]},we))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Overall Result"}),e.jsxs("div",{className:"mt-1 flex space-x-4",children:[e.jsxs("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${xe==="P"?"bg-green-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-green-800/50 text-green-200 hover:bg-green-700/50"} ${xe===null?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[e.jsx("input",{type:"radio",name:"overall-result",value:"P",checked:xe==="P",onChange:()=>Le("P"),className:"sr-only"}),e.jsx("span",{className:"text-2xl font-bold",children:"PASS"})]}),e.jsxs("label",{className:`cursor-pointer rounded-lg p-4 w-1/2 text-center transition-all duration-200 ${xe==="F"||E?"bg-red-600 text-white ring-2 ring-white scale-105 shadow-lg":"bg-red-800/50 text-red-200 hover:bg-red-700/50"} ${xe===null&&!E?"!bg-gray-700 !text-gray-500 hover:!bg-gray-600":""}`,children:[e.jsx("input",{type:"radio",name:"overall-result",value:"F",checked:xe==="F",onChange:()=>Le("F"),className:"sr-only"}),e.jsx("span",{className:"text-2xl font-bold",children:E?"Double Marg":"FAIL"})]})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Ground School Assessment"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ye.isAssessment,onChange:we=>pe({...ye,isAssessment:we.target.checked,result:we.target.checked?ye.result||0:void 0}),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500 rounded"}),e.jsx("span",{className:"text-xs font-medium text-gray-300",children:"Assessment"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Result:"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"100",value:ye.isAssessment?ye.result??"":"",onChange:we=>{const Re=parseInt(we.target.value)||0;pe({...ye,result:Math.min(100,Math.max(0,Re))})},disabled:!ye.isAssessment,className:`w-16 px-2 py-1 rounded-md text-center font-semibold text-xs
./dfp-neo-platform/assets/index-ocEpyxXE.js:                                                    ${ye.isAssessment?"bg-gray-700 text-white border-gray-600 focus:ring-2 focus:ring-sky-500":"bg-gray-600/50 text-gray-500 cursor-not-allowed border-gray-600"} border`,placeholder:"%"}),e.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:"%"})]})]})]})]})]}),E&&e.jsxs("div",{className:"p-3 bg-red-900/50 border border-red-500/50 rounded-lg text-sm text-red-300",children:[e.jsx("strong",{children:"Warning:"})," This is the second consecutive marginal (1) grade. A review may be required."]})]})]}),e.jsxs("div",{className:"space-y-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"QFI"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{value:J.QFI||"",onChange:we=>Xe("QFI",we.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500",children:[e.jsx("option",{value:"",children:"Select instructor..."}),ft.map(we=>e.jsxs("option",{value:we.name,children:[we.rank," ",we.name]},we.idNumber))]})}),e.jsx("button",{onClick:()=>dn("QFI","section"),className:`absolute top-10 right-2 p-1 rounded-full transition-colors ${ne==="QFI"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Weather"}),e.jsx("textarea",{value:J.Weather,onChange:we=>Xe("Weather",we.target.value),rows:1,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"42px"},onInput:we=>{we.currentTarget.style.height="auto",we.currentTarget.style.height=we.currentTarget.scrollHeight+"px"},ref:we=>{we&&(we.style.height="auto",we.style.height=we.scrollHeight+"px")}}),e.jsx("button",{onClick:()=>dn("Weather","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Weather"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"NEST"}),e.jsx("input",{type:"text",value:J.NEST,onChange:we=>Xe("NEST",we.target.value),maxLength:8,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500"}),e.jsx("button",{onClick:()=>dn("NEST","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="NEST"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Profile"}),e.jsx("textarea",{value:J.Profile,onChange:we=>Xe("Profile",we.target.value),rows:4,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"100px"},onInput:we=>{we.currentTarget.style.height="auto",we.currentTarget.style.height=we.currentTarget.scrollHeight+"px"},ref:we=>{we&&(we.style.height="auto",we.style.height=we.scrollHeight+"px")}}),e.jsx("button",{onClick:()=>dn("Profile","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Profile"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"})]})})]},"Profile"),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Overall"}),e.jsx("textarea",{value:J.Overall,onChange:we=>Xe("Overall",we.target.value),rows:6,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"150px"},onInput:we=>{we.currentTarget.style.height="auto",we.currentTarget.style.height=we.currentTarget.scrollHeight+"px"},ref:we=>{we&&(we.style.height="auto",we.style.height=we.scrollHeight+"px")}}),e.jsx("button",{onClick:()=>dn("Overall","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Overall"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),e.jsx("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"})]})})]},"Overall")]})]}),e.jsx("div",{className:"space-y-4",children:d2.map(we=>{const Re=t.type==="ground";return e.jsxs("fieldset",{className:`p-4 border rounded-lg ${Re?"border-gray-800 bg-gray-800/30 opacity-50":"border-gray-700"}`,children:[e.jsx("legend",{className:`px-2 text-sm font-semibold ${Re?"text-gray-500":"text-gray-300"}`,children:we.category}),e.jsxs("table",{className:"w-full mt-2 border-collapse",children:[e.jsx("thead",{className:"sr-only",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Element"}),z1.map(be=>e.jsx("th",{children:be},String(be))),e.jsx("th",{children:"Comments"})]})}),e.jsx("tbody",{children:we.elements.map(be=>{const Ze=se.scores.find(ot=>ot.element===be);return e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-3 pr-2 font-semibold text-white w-48",children:be}),z1.map(ot=>{const Vt=Pt=>Pt==="DEMO"?"Demo":String(Pt);return e.jsx("td",{className:`py-3 text-center w-12 ${ze[String(ot)]||""}`,children:e.jsxs("label",{className:`flex flex-col items-center justify-center ${Re?"cursor-not-allowed":"cursor-pointer"}`,children:[e.jsx("input",{type:"radio",name:be,value:String(ot),checked:(Ze==null?void 0:Ze.grade)===ot,onChange:()=>Z(be,ot),disabled:Re,className:`h-4 w-4 ${fe(ot)} bg-gray-700 border-gray-600 focus:ring-sky-500 focus:ring-2 ${Re?"opacity-50 cursor-not-allowed":""}`}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:Vt(ot)})]})},String(ot))}),e.jsxs("td",{className:"py-3 pl-2 relative",children:[e.jsx("textarea",{value:(Ze==null?void 0:Ze.comment)||"",onChange:ot=>Fe(be,ot.target.value),rows:1,placeholder:"Comments...",className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-sm text-gray-200 focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"42px"},onInput:ot=>{ot.currentTarget.style.height="auto",ot.currentTarget.style.height=ot.currentTarget.scrollHeight+"px"},ref:ot=>{ot&&(ot.style.height="auto",ot.style.height=ot.scrollHeight+"px")}}),e.jsx("button",{onClick:()=>st(be),className:"absolute top-4 right-2 text-gray-400 hover:text-sky-400 p-1",title:"Insert from Phrase Bank",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h.01a1 1 0 100-2H10zm3 0a1 1 0 000 2h.01a1 1 0 100-2H13z",clipRule:"evenodd"})]})})]})]},be)})})]})]},we.category)})})]}),ae&&Te&&e.jsx(QE,{element:Te,onClose:()=>Q(!1),onInsert:kt,phraseBank:y})]})},nA=({onConfirm:n,onCancel:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm border border-gray-700",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Authorisation"})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-300",children:"Are you sure you wish to authorise this flight?"})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"NO"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"YES"})]})]})}),V1=({onConfirm:n,onCancel:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm border border-red-500/50",onClick:s=>s.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-red-400",children:"Clear Authorisation"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("p",{className:"text-gray-300",children:"Are you sure you want to clear all signatures for this flight?"}),e.jsx("p",{className:"text-amber-400 text-sm",children:"This action requires PIN verification and cannot be undone."})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"No, Cancel"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Yes, Clear"})]})]})}),W1=({staff:n,selectedStaff:t,onSelect:s,placeholder:i="Search staff...",disabled:o=!1})=>{const[l,d]=C.useState(!1),[u,f]=C.useState(""),h=C.useRef(null);C.useEffect(()=>{const T=E=>{h.current&&!h.current.contains(E.target)&&(d(!1),f(""))};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const m=C.useMemo(()=>{const T=n.reduce((_,R)=>{const H=R.unit||"Unassigned";return _[H]||(_[H]=[]),_[H].push(R),_},{}),E=["1FTS","CFS","2FTS"],A=Object.keys(T).sort((_,R)=>{const H=E.indexOf(_),O=E.indexOf(R);return H!==-1&&O!==-1?H-O:H!==-1?-1:O!==-1?1:_.localeCompare(R)});return Object.keys(T).forEach(_=>{T[_].sort((R,H)=>R.rank!==H.rank?R.rank.localeCompare(H.rank):R.name.localeCompare(H.name))}),A.reduce((_,R)=>(_[R]=T[R],_),{})},[n]),v=C.useMemo(()=>{if(!u)return m;const T={};return Object.entries(m).forEach(([E,A])=>{const _=A.filter(R=>R.name.toLowerCase().includes(u.toLowerCase())||R.rank.toLowerCase().includes(u.toLowerCase())||R.unit&&R.unit.toLowerCase().includes(u.toLowerCase()));_.length>0&&(T[E]=_)}),T},[m,u]),x=t||"",y=T=>{s(T),d(!1),f("")};return e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{type:"button",onClick:()=>!o&&d(!l),disabled:o,className:`w-full text-left px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm disabled:bg-gray-700/50 disabled:cursor-not-allowed ${!t&&!defaultName?"text-gray-400":""}`,children:[x||i,e.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),l&&!o&&e.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-gray-800 border border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:[e.jsx("div",{className:"p-2 border-b border-gray-600",children:e.jsx("input",{type:"text",value:u,onChange:T=>f(T.target.value),placeholder:"Search...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",autoFocus:!0})}),e.jsxs("div",{className:"max-h-48 overflow-y-auto",children:[Object.entries(v).map(([T,E])=>e.jsxs("div",{children:[e.jsx("div",{className:"px-3 py-1 bg-gray-900 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:T}),E.map(A=>e.jsxs("button",{type:"button",onClick:()=>y(A.name),className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 focus:bg-gray-700 focus:outline-none",children:[e.jsx("span",{className:"font-medium",children:A.rank})," ",A.name]},A.name))]},T)),Object.keys(v).length===0&&e.jsxs("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:['No staff found matching "',u,'"']})]})]})]})},zd=({label:n,value:t})=>e.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-gray-700/50",children:[e.jsxs("span",{className:"text-gray-400 font-medium",children:[n,":"]}),e.jsx("span",{className:"text-gray-200",children:t||"N/A"})]}),sA=({event:n,onClose:t,onAuthorise:s,onClearAuth:i,instructorsList:o,currentUserName:l,currentUserRank:d,currentUserUnit:u})=>{const[f,h]=C.useState(n.authNotes??""),[m,v]=C.useState(!1),[x,y]=C.useState(!1),[T,E]=C.useState(null),[A,_]=C.useState(n.isVerbalAuth??!1),[R,H]=C.useState(!1),[O,W]=C.useState(!1),ne=C.useMemo(()=>n.instructor||n.pilot,[n]),V=C.useMemo(()=>`${d} ${l}`,[d,l]),U=C.useMemo(()=>V,[V]),D=C.useMemo(()=>{if(n.instructor){const xe=o.find(Le=>Le.name===n.instructor);return xe?`${xe.rank} ${xe.name}`:n.instructor}if(n.pilot){const xe=o.find(Le=>Le.name===n.pilot);return xe?`${xe.rank} ${xe.name}`:n.pilot}return""},[n.instructor,n.pilot,o]),[$,M]=C.useState(()=>n.authoSignedBy||U),[P,ae]=C.useState(()=>n.captainSignedBy||D);Ua.useEffect(()=>{A&&!n.authoSignedBy&&!n.captainSignedBy&&M(P)},[A,P,n.authoSignedBy,n.captainSignedBy]);const Q=xe=>{xe==="autho"&&!$||xe==="captain"&&!P||A&&$!==P||(E(xe),xe==="autho"?v(!0):y(!0))},Te=()=>{v(!1),y(!0)},Y=()=>{v(!1),E(null)},fe=()=>{if(T){const xe=T==="autho"?$:P;xe.split(" ").slice(1).join(" "),s(n.id,f,T,A,xe)}y(!1),E(null)},ge=()=>{H(!1),W(!0),y(!0)},Ne=()=>{i(n.id),y(!1),W(!1)},Oe=()=>{y(!1),E(null),W(!1)},se=xe=>{if(!xe)return"";const Le=new Date(xe),ye=String(Le.getDate()).padStart(2,"0"),pe=Le.toLocaleString("en-GB",{month:"short"}).toUpperCase(),ce=String(Le.getFullYear()).slice(-2),He=String(Le.getHours()).padStart(2,"0"),_e=String(Le.getMinutes()).padStart(2,"0");return`${ye} ${pe} ${ce} ${He}:${_e}`},F=!!(n.authoSignedBy??n.captainSignedBy),X=!!(n.authoSignedBy&&n.captainSignedBy),J="1111",ee=xe=>{_(xe),xe&&!n.authoSignedBy&&!n.captainSignedBy&&M(P)},K=xe=>{if(!xe)return"";const Le=xe.lastIndexOf(" ");if(Le>0){const ye=xe.substring(Le+1);if(!isNaN(Number(ye)))return xe.substring(0,Le)}return xe},ue=xe=>xe?xe.split(" ‚Äì ")[0]||xe:"";return X?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:xe=>xe.stopPropagation(),children:[e.jsxs("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gray-900",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-lg font-bold text-green-400",children:"Flight Authorisation Complete"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center border border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-center mb-1",children:[e.jsx("svg",{className:"h-5 w-5 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("p",{className:"text-green-400 font-semibold",children:"Authorisation Approved"})]}),e.jsx("p",{className:"text-gray-400 text-xs",children:"This flight has been fully authorised and is cleared to proceed"})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Flight Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Syllabus:"}),e.jsx("span",{className:"text-white font-medium",children:n.flightNumber})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Start Time:"}),e.jsxs("span",{className:"text-white font-medium",children:[Math.floor(n.startTime),":",String(Math.round(n.startTime%1*60)).padStart(2,"0")]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Instructor:"}),e.jsx("span",{className:"text-white font-medium",children:n.instructor})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Student:"}),e.jsx("span",{className:"text-white font-medium",children:ue(n.student)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Aircraft:"}),e.jsx("span",{className:"text-white font-medium",children:K(n.resourceId)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Route:"}),e.jsxs("span",{className:"text-white font-medium",children:[n.origin,"-",n.destination]})]})]})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"h-4 w-4 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Authorising Officer (AUTHO)"})]}),e.jsx("p",{className:"text-green-400 font-bold text-base ml-6",children:n.authoSignedBy}),e.jsxs("p",{className:"text-gray-400 text-xs ml-6",children:["Signed: ",se(n.authoSignedAt)]})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("svg",{className:"h-4 w-4 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-300",children:"Captain (PIC)"})]}),e.jsx("p",{className:"text-green-400 font-bold text-base ml-6",children:n.captainSignedBy}),e.jsxs("p",{className:"text-gray-400 text-xs ml-6",children:["Signed: ",se(n.captainSignedAt)]})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-t border-gray-700 flex justify-between items-center",children:[e.jsx("button",{onClick:()=>H(!0),className:"px-4 py-2 bg-red-600 text-white rounded text-sm font-semibold hover:bg-red-700 transition-colors",children:"Clear Auth"}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded text-sm font-semibold hover:bg-gray-700 transition-colors",children:"Close"})]})]})}),x&&e.jsx(Im,{correctPin:J,onConfirm:Ne,onCancel:Oe}),R&&e.jsx(V1,{onConfirm:ge,onCancel:()=>H(!1)})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:xe=>xe.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900/50",children:[e.jsx("h2",{className:"text-xl font-bold text-amber-400",children:"Flight Authorisation"}),e.jsx("button",{onClick:t,className:"text-white hover:text-gray-300","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Flight Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-1",children:[e.jsx(zd,{label:"Syllabus",value:n.flightNumber}),e.jsx(zd,{label:"Start Time",value:`${Math.floor(n.startTime)}:${String(Math.round(n.startTime%1*60)).padStart(2,"0")}`}),e.jsx(zd,{label:"Instructor",value:n.instructor}),e.jsx(zd,{label:"Student",value:ue(n.student)}),e.jsx(zd,{label:"Aircraft",value:K(n.resourceId)}),e.jsx(zd,{label:"Route",value:`${n.origin}-${n.destination}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"auth-notes",className:"block text-sm font-medium text-gray-400",children:"Notes"}),e.jsx("textarea",{id:"auth-notes",rows:3,value:f,onChange:xe=>h(xe.target.value),disabled:!!(n.authoSignedBy??n.captainSignedBy),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm disabled:bg-gray-700/50 disabled:cursor-not-allowed",placeholder:"Enter any authorisation notes here..."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-300 mb-2",children:"Authorising Officer (AUTHO)"}),n.authoSignedBy?e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-green-400",children:n.authoSignedBy}),e.jsx("p",{className:"text-xs text-gray-400",children:se(n.authoSignedAt)})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(W1,{staff:o,selectedStaff:$,onSelect:M,placeholder:"Select Authorising Officer...",disabled:A}),e.jsxs("button",{onClick:()=>Q("autho"),disabled:!$||A&&$!==P,className:"w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed",children:["Sign as AUTHO ",A&&"(Locked to PIC)"]})]})]})}),e.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-300 mb-2",children:["Captain (PIC) - ",ne]}),n.captainSignedBy?e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold text-green-400",children:n.captainSignedBy}),e.jsx("p",{className:"text-xs text-gray-400",children:se(n.captainSignedAt)})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(W1,{staff:o,selectedStaff:P,onSelect:xe=>{ae(xe),A&&!n.authoSignedBy&&M(xe)},placeholder:"Select Captain (PIC)...",disabled:!!(n.authoSignedBy&&!n.isVerbalAuth)}),e.jsx("button",{onClick:()=>Q("captain"),disabled:!P||!(n.authoSignedBy||n.isVerbalAuth)||A&&$!==P,className:"w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Sign as PIC"})]})]}),!n.captainSignedBy&&e.jsxs("label",{className:"flex items-center space-x-2 mt-3 pt-3 border-t border-gray-700/50",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:xe=>ee(xe.target.checked),disabled:!!n.authoSignedBy,className:"h-4 w-4 bg-gray-700 border-gray-600 rounded focus:ring-amber-500 focus:ring-offset-gray-800 accent-amber-500 disabled:accent-gray-600"}),e.jsxs("span",{className:`text-sm ${n.authoSignedBy?"text-gray-500":"text-gray-300"}`,children:["Verbal AUTH received. See Notes.",A&&e.jsx("span",{className:"ml-2 text-amber-400 font-medium",children:"(Both AUTHO and PIC must be same person)"})]})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-between items-center",children:[e.jsx("div",{children:F&&e.jsx("button",{onClick:()=>H(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Clear Auth"})}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Close"})]})]})}),m&&e.jsx(nA,{onConfirm:Te,onCancel:Y}),x&&e.jsx(Im,{correctPin:J,onConfirm:O?Ne:fe,onCancel:Oe}),R&&e.jsx(V1,{onConfirm:ge,onCancel:()=>H(!1)})]})},rA=({onClose:n,onConfirm:t})=>{const[s,i]=C.useState(null),o=C.useRef(null),l=f=>{f.target.files&&f.target.files.length>0&&i(f.target.files[0])},d=()=>{var f;(f=o.current)==null||f.click()},u=()=>{s&&t(s)};return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:n,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Upload a File"}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-300","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Select a file from your local machine to upload to the repository."}),e.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 flex flex-col items-center justify-center text-center cursor-pointer hover:border-sky-500 transition-colors",onClick:d,children:[e.jsx("input",{type:"file",ref:o,onChange:l,className:"hidden"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),s?e.jsx("p",{className:"text-white font-semibold",children:s.name}):e.jsx("p",{className:"text-gray-400",children:"Click to select a file"})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:!s,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"OK"})]})]})})},iA=({onClose:n,onConfirm:t,fileName:s,folders:i})=>{var u;const[o,l]=C.useState(((u=i[0])==null?void 0:u.id)||""),d=()=>{o?t(o):alert("Please select a destination folder.")};return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:n,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Select Destination"}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-300","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["Select a destination folder for the file: ",e.jsx("span",{className:"font-semibold text-gray-200",children:s})]}),e.jsx("div",{className:"space-y-2",children:i.map(f=>e.jsxs("label",{className:"flex items-center space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"destination-folder",value:f.id,checked:o===f.id,onChange:()=>l(f.id),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-sky-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),e.jsx("span",{className:"text-white font-medium",children:f.name})]},f.id))})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:!o,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Confirm & Upload"})]})]})})},aA=({fileName:n,onConfirm:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:i=>i.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Download File"})}),e.jsx("div",{className:"p-6",children:e.jsxs("p",{className:"text-gray-300",children:["Do you want to download ",e.jsx("strong",{className:"text-sky-400",children:n})," to your computer?"]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"})]})]})}),oA=({fileName:n,onConfirm:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-amber-500/50",onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-amber-900/20 flex items-center space-x-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h2",{className:"text-xl font-bold text-amber-400",children:"Confirm Deletion"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to permanently delete ",e.jsx("strong",{className:"text-white",children:n}),"?"]}),e.jsx("p",{className:"text-gray-400 mt-2 text-sm",children:"This action cannot be undone."})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Yes, Delete"})]})]})}),lA=({fileName:n,onConfirm:t,onClose:s})=>{const[i,o]=C.useState(""),[l,d]=C.useState("minor"),[u,f]=C.useState(""),h=m=>{if(m.preventDefault(),i.length<4){f("PIN must be 4 digits.");return}t(i,l)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center animate-fade-in",onClick:s,children:e.jsxs("form",{onSubmit:h,className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:m=>m.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Confirm Update"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("p",{className:"text-gray-400",children:["Enter your PIN to apply updates from ",e.jsx("strong",{className:"text-gray-200",children:n}),"."]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pin-input",className:"block text-sm font-medium text-gray-400",children:"PIN"}),e.jsx("input",{id:"pin-input",type:"password",value:i,onChange:m=>{o(m.target.value.replace(/\D/g,"")),f("")},maxLength:4,autoFocus:!0,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white text-center text-2xl tracking-[.5em] focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),u&&e.jsx("p",{className:"text-red-400 text-sm text-center mt-1",children:u})]}),e.jsxs("fieldset",{children:[e.jsx("legend",{className:"text-sm font-medium text-gray-400 mb-2",children:"Select Update Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"update-type",value:"minor",checked:l==="minor",onChange:()=>d("minor"),className:"h-5 w-5 mt-0.5 accent-sky-500 bg-gray-600 border-gray-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Minor Update"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Update existing records and add new ones. You will be prompted to confirm new entries."})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"update-type",value:"bulk",checked:l==="bulk",onChange:()=>d("bulk"),className:"h-5 w-5 mt-0.5 accent-sky-500 bg-gray-600 border-gray-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-medium",children:"Bulk Update"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Warning: This will delete all existing data and replace it with the contents of the file."})]})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Confirm Update"})]})]})})},cA=({rowData:n,onConfirm:t,onCancel:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-sky-500/50",onClick:i=>i.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-sky-900/20 flex items-center space-x-3",children:e.jsx("h2",{className:"text-xl font-bold text-sky-400",children:"New Record Found"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-300",children:"A record from the file could not be matched to any existing data."}),e.jsx("div",{className:"mt-4 bg-gray-900/50 p-3 rounded-md text-xs font-mono text-gray-400 max-h-40 overflow-auto",children:e.jsx("pre",{children:JSON.stringify(n,null,2)})}),e.jsx("p",{className:"text-gray-300 mt-4",children:"Do you want to add this as a new person/event?"})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"No, Skip"}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"Yes, Add New"})]})]})}),dA=({message:n,onClose:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-amber-500/50",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-amber-900/20 flex items-center space-x-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h2",{className:"text-xl font-bold text-amber-400",children:"Update Notice"})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-gray-300",children:n})}),e.jsx("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end",children:e.jsx("button",{onClick:t,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"})})]})}),uA=({summary:n,onClose:t})=>e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:t,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-sky-500/50",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-sky-900/20 flex items-center space-x-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-xl font-bold text-sky-400",children:"Update Complete"})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("p",{className:"text-gray-300",children:["The ",e.jsxs("strong",{className:"text-white",children:[n.type," Update"]})," process has finished."]}),e.jsxs("div",{className:"bg-gray-700/50 p-3 rounded-md grid grid-cols-2 gap-2 text-sm",children:[n.type==="Bulk"?e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Records Replaced:"}),e.jsx("span",{className:"font-bold text-white float-right",children:n.replaced})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Records Updated:"}),e.jsx("span",{className:"font-bold text-white float-right",children:n.updated})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"New Records Added:"}),e.jsx("span",{className:"font-bold text-green-400 float-right",children:n.added})]}),n.unaltered!==void 0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Records Unaltered:"}),e.jsx("span",{className:"font-bold text-blue-400 float-right",children:n.unaltered})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Rows Skipped:"}),e.jsx("span",{className:"font-bold text-amber-400 float-right",children:n.skipped})]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end",children:e.jsx("button",{onClick:t,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"})})]})}),Y1=["Generic Flying Elements","Pre-Post Flight","Walk Around","Strap-in","Ground Checks","Airborne Checks","Stationary","Visual","Effects of Control","Trimming","Straight and Level","Level medium Turn","Level Steep turn","Visual - Initial & Pitch","Landing","Crosswind","Radio Comms","Situational Awareness","Lookout","Knowledge"],fA=({onClose:n,onSave:t})=>{const[s,i]=C.useState(""),o=()=>{s.trim()&&t(s.trim())};return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center animate-fade-in",onClick:n,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:l=>l.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Add New Flight Element"})}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"element-name",className:"block text-sm font-medium text-gray-400",children:"Element Name"}),e.jsx("input",{id:"element-name",type:"text",value:s,onChange:l=>i(l.target.value),autoFocus:!0,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"})]})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:o,disabled:!s.trim(),className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Save"})]})]})})},hA=({onClose:n,onDelete:t,flightElements:s})=>{const[i,o]=C.useState(new Set),l=u=>{const f=new Set(i);f.has(u)?f.delete(u):f.add(u),o(f)},d=()=>{if(i.size===0){alert("Please select at least one element to delete.");return}t(i)};return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center animate-fade-in",onClick:n,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700 flex flex-col max-h-[80vh]",onClick:u=>u.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Delete Flight Elements"})}),e.jsx("div",{className:"p-6 flex-1 overflow-y-auto",children:s.length>0?e.jsx("ul",{className:"space-y-2",children:s.map(u=>e.jsx("li",{children:e.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-700 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.has(u),onChange:()=>l(u),className:"h-4 w-4 accent-red-500 bg-gray-600"}),e.jsx("span",{className:"text-sm text-gray-300",children:u})]})},u))}):e.jsx("p",{className:"text-gray-500 text-center italic",children:"No elements to delete."})}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:i.size===0,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Delete Selected"})]})]})})},mA=({onClose:n,phraseBank:t,onUpdatePhraseBank:s,initialTab:i="Airmanship"})=>{const[o,l]=C.useState(i),[d,u]=C.useState(!1),[f,h]=C.useState(!1),[m,v]=C.useState(()=>{const V=Object.keys(t).filter(U=>!["Airmanship","Preparation","Technique"].includes(U)&&!Y1.includes(U));return[...Y1,...V]}),[x,y]=C.useState(m[0]),T=o==="Elements"?x:o,E=(V,U,D)=>{const $=t&&t[T]||{},P=[...$[V]||[]];P[U]=D,s({...t,[T]:{...$,[V]:P}})},A=V=>{const U=t&&t[T]||{},D=U[V]||[];s({...t,[T]:{...U,[V]:[...D,""]}})},_=(V,U)=>{const D=t&&t[T]||{},$=D[V]||[];s({...t,[T]:{...D,[V]:$.filter((M,P)=>P!==U)}})},R=()=>{u(!0)},H=V=>{if(m.includes(V)){alert("An element with this name already exists.");return}v(U=>[...U,V]),s({...t,[V]:{0:[],1:[],2:[],3:[],4:[],5:[]}}),y(V),u(!1)},O=V=>{const U=m.filter($=>!V.has($));v(U);const D={...t};V.forEach($=>{delete D[$]}),s(D),V.has(x)&&y(U[0]||"Generic Flying Elements"),h(!1)},W=V=>V>=4?"border-green-500/30 bg-green-900/10":V>=2?"border-yellow-500/30 bg-yellow-900/10":"border-red-500/30 bg-red-900/10",ne=V=>{switch(V){case 5:return"5 - Excellent";case 4:return"4 - High Satisfactory";case 3:return"3 - Satisfactory";case 2:return"2 - Low Satisfactory";case 1:return"1 - Marginal";case 0:return"0 - Unsatisfactory";default:return String(V)}};return e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:n,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl border border-gray-700 flex flex-col h-[85vh]",onClick:V=>V.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center shrink-0",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Scoring Matrix Setup"}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-300","aria-label":"Close",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex border-b border-gray-700 bg-gray-900/30 shrink-0",children:["Airmanship","Preparation","Technique","Elements"].map(V=>e.jsx("button",{onClick:()=>l(V),className:`flex-1 py-3 text-lg font-semibold text-center border-b-4 transition-colors ${o===V?"border-sky-500 text-sky-400 bg-gray-800":"border-transparent text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}`,children:V},V))}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[o==="Elements"&&e.jsxs("div",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col shrink-0 overflow-y-auto",children:[e.jsxs("div",{className:"p-3 text-xs font-bold text-gray-500 uppercase tracking-wider bg-gray-900/50 flex justify-between items-center",children:[e.jsx("span",{children:"Flight Elements"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>h(!0),className:"p-1 rounded-full bg-gray-700 hover:bg-gray-600",title:"Delete flight element(s)",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:R,className:"p-1 rounded-full bg-gray-700 hover:bg-gray-600",title:"Add new flight element",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-sky-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})})})]})]}),m.map(V=>e.jsx("button",{onClick:()=>y(V),className:`text-left px-4 py-3 border-l-4 transition-colors font-medium text-sm ${x===V?"border-sky-500 bg-gray-700 text-white":"border-transparent text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:V},V))]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-900",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-sky-400",children:T}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Define standardized phrases for each grade level."})]}),[5,4,3,2,1,0].map(V=>e.jsxs("div",{className:`border rounded-lg overflow-hidden ${W(V)}`,children:[e.jsxs("div",{className:"px-4 py-2 font-bold text-sm border-b border-gray-700/30 flex justify-between items-center",children:[e.jsx("span",{className:"text-white opacity-90",children:ne(V)}),e.jsx("button",{onClick:()=>A(V),className:"text-xs bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded transition-colors border border-gray-600",children:"+ Add Phrase"})]}),e.jsx("div",{className:"p-4 space-y-2",children:t&&t[T]&&t[T][V]?t[T][V].map((U,D)=>e.jsxs("div",{className:"flex items-start space-x-2 group",children:[e.jsx("textarea",{value:U,onChange:$=>E(V,D,$.target.value),rows:1,className:"flex-1 bg-gray-800 border border-gray-600 rounded p-2 text-sm text-gray-200 focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"38px",height:"auto"},onInput:$=>{const M=$.currentTarget;M.style.height="auto",M.style.height=`${M.scrollHeight}px`}}),e.jsx("button",{onClick:()=>_(V,D),className:"p-2 text-gray-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete phrase",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]},D)):e.jsx("p",{className:"text-xs text-gray-500 italic pl-1",children:"No phrases defined."})})]},V))]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-800 border-t border-gray-700 flex justify-end shrink-0",children:e.jsx("button",{onClick:n,className:"px-6 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Done"})}),d&&e.jsx(fA,{onClose:()=>u(!1),onSave:H}),f&&e.jsx(hA,{onClose:()=>h(!1),onDelete:O,flightElements:m})]})})},gA=({courses:n,onConfirm:t,onClose:s,updateType:i})=>{const[o,l]=C.useState(""),[d,u]=C.useState(""),f=h=>{if(h.preventDefault(),!o){u("Please select a course.");return}t(o)};return e.jsx("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:s,children:e.jsxs("form",{onSubmit:f,className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"Select Course"})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("p",{className:"text-gray-400",children:i==="minor"?"Select the course to update. Existing trainees will be updated and new trainees will be added.":"Select the course to update. WARNING: All existing trainees in this course will be replaced with the uploaded data."}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"course-select",className:"block text-sm font-medium text-gray-400 mb-2",children:"Course"}),e.jsxs("select",{id:"course-select",value:o,onChange:h=>{l(h.target.value),u("")},autoFocus:!0,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500",children:[e.jsx("option",{value:"",children:"-- Select a Course --"}),n.map(h=>e.jsx("option",{value:h,children:h},h))]}),d&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:d})]}),i==="bulk"&&o&&e.jsx("div",{className:"bg-red-900/20 border border-red-700 rounded-md p-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-400 font-medium text-sm",children:"Warning"}),e.jsxs("p",{className:"text-red-300 text-xs mt-1",children:["This will permanently delete all trainees currently in ",e.jsx("strong",{children:o})," and replace them with the uploaded data."]})]})]})})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{type:"submit",className:`px-4 py-2 rounded-md transition-colors text-sm font-semibold ${i==="bulk"?"bg-red-600 hover:bg-red-700 text-white":"bg-sky-600 hover:bg-sky-700 text-white"}`,children:i==="bulk"?"Replace Course Data":"Update Course"})]})]})})},pA=({codes:n,onAddCode:t,onEditCode:s,onToggleActive:i,onDeleteCode:o,canEdit:l,usedCodes:d})=>{const[u,f]=C.useState(!1),[h,m]=C.useState(null),[v,x]=C.useState(null),[y,T]=C.useState({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0}),E=()=>{T({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0}),f(!0),m(null)},A=V=>{T(V),m(V.code),f(!1)},_=()=>{f(!1),m(null),T({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0})},R=V=>{x(V)},H=()=>{v&&(o(v),x(null))},O=()=>{x(null)},W=()=>{if(!y.code||!y.description)return;const V={code:y.code.toUpperCase(),category:y.category,description:y.description,appliesTo:y.appliesTo,isActive:y.isActive??!0,createdAt:y.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};u?t(V):h&&s(h,V),_()},ne=[...n].sort((V,U)=>V.category!==U.category?V.category.localeCompare(U.category):V.code.localeCompare(U.code));return e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Cancellation Codes (Master Table)"}),l&&e.jsx("button",{onClick:E,disabled:u||h!==null,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold disabled:bg-gray-600 disabled:cursor-not-allowed",children:"+ Add Code"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Code"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Applies To"}),e.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Status"}),l&&e.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Actions"})]})}),e.jsxs("tbody",{children:[u&&e.jsxs("tr",{className:"border-b border-gray-700 bg-gray-700/30",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"text",value:y.code,onChange:V=>T({...y,code:V.target.value.toUpperCase()}),maxLength:4,className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",placeholder:"CODE"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:y.category,onChange:V=>T({...y,category:V.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[e.jsx("option",{value:"Aircraft",children:"Aircraft"}),e.jsx("option",{value:"Crew",children:"Crew"}),e.jsx("option",{value:"Program",children:"Program"}),e.jsx("option",{value:"Weather",children:"Weather"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"text",value:y.description,onChange:V=>T({...y,description:V.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",placeholder:"Description"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:y.appliesTo,onChange:V=>T({...y,appliesTo:V.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[e.jsx("option",{value:"Flight",children:"Flight"}),e.jsx("option",{value:"FTD",children:"FTD"}),e.jsx("option",{value:"Both",children:"Both"})]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold bg-green-900/50 text-green-400",children:"Active"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:W,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-semibold hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:_,className:"px-3 py-1 bg-gray-600 text-white rounded text-xs font-semibold hover:bg-gray-700",children:"Cancel"})]})})]}),ne.map(V=>{const U=h===V.code,D=d.has(V.code);return U?e.jsxs("tr",{className:"border-b border-gray-700 bg-gray-700/30",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"text",value:y.code,onChange:$=>T({...y,code:$.target.value.toUpperCase()}),maxLength:4,className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:y.category,onChange:$=>T({...y,category:$.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[e.jsx("option",{value:"Aircraft",children:"Aircraft"}),e.jsx("option",{value:"Crew",children:"Crew"}),e.jsx("option",{value:"Program",children:"Program"}),e.jsx("option",{value:"Weather",children:"Weather"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"text",value:y.description,onChange:$=>T({...y,description:$.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:y.appliesTo,onChange:$=>T({...y,appliesTo:$.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[e.jsx("option",{value:"Flight",children:"Flight"}),e.jsx("option",{value:"FTD",children:"FTD"}),e.jsx("option",{value:"Both",children:"Both"})]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${y.isActive?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:y.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:W,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-semibold hover:bg-green-700",children:"Save"}),e.jsx("button",{onClick:_,className:"px-3 py-1 bg-gray-600 text-white rounded text-xs font-semibold hover:bg-gray-700",children:"Cancel"})]})})]},V.code):e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[e.jsx("td",{className:"py-3 px-4 text-white font-mono font-semibold",children:V.code}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:V.category}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:V.description}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:V.appliesTo}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${V.isActive?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:V.isActive?"Active":"Inactive"})}),l&&e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>A(V),disabled:u||h!==null,className:"px-3 py-1 bg-sky-600 text-white rounded text-xs font-semibold hover:bg-sky-700 disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Edit"}),e.jsx("button",{onClick:()=>i(V.code),disabled:u||h!==null,className:`px-3 py-1 rounded text-xs font-semibold disabled:bg-gray-600 disabled:cursor-not-allowed ${V.isActive?"bg-amber-600 text-white hover:bg-amber-700":"bg-green-600 text-white hover:bg-green-700"}`,children:V.isActive?"Deactivate":"Activate"}),e.jsx("button",{onClick:()=>R(V.code),disabled:u||h!==null||D,className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-semibold hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed",title:D?"Cannot delete code that has been used":"Delete code",children:"Delete"})]}),D&&e.jsx("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Used in history"})]})]},V.code)})]})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[e.jsx("p",{children:"‚Ä¢ Only authorized users (Admin/Config roles) can add, edit, or activate/deactivate codes."}),e.jsx("p",{children:"‚Ä¢ Codes that have been used in cancellations cannot be deleted."}),e.jsx("p",{children:"‚Ä¢ Inactive codes remain visible in historical records."})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Delete"}),e.jsxs("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete the cancellation code ",e.jsx("span",{className:"font-mono font-bold text-red-400",children:v}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:O,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]})})]})},xA=({cancellationRecords:n,cancellationCodes:t})=>{const[s,i]=C.useState("month"),[o,l]=C.useState(!1),[d,u]=C.useState("count"),[f,h]=C.useState("desc"),m=R=>{const H=new Date,O=new Date(H);let W=new Date(H);switch(R){case"week":W.setDate(H.getDate()-7);break;case"month":W.setMonth(H.getMonth()-1);break;case"6months":W.setMonth(H.getMonth()-6);break;case"year":W.setFullYear(H.getFullYear()-1);break;case"2years":W.setFullYear(H.getFullYear()-2);break;case"5years":W.setFullYear(H.getFullYear()-5);break;case"lastFY":const ne=H.getFullYear();H.getMonth()>=6?(W=new Date(ne-1,6,1),O.setFullYear(ne),O.setMonth(5,30)):(W=new Date(ne-2,6,1),O.setFullYear(ne-1),O.setMonth(5,30));break;case"lastCY":W=new Date(H.getFullYear()-1,0,1),O.setFullYear(H.getFullYear()-1),O.setMonth(11,31);break}return{start:W,end:O}},v=R=>{const H=m(R),O=H.end.getTime()-H.start.getTime(),W=new Date(H.start);return{start:new Date(H.start.getTime()-O),end:W}},x=(R,H,O)=>R.filter(W=>{const ne=new Date(W.eventDate);return ne>=H&&ne<=O}),y=C.useMemo(()=>{const R=m(s),H=v(s),O=x(n,R.start,R.end),W=x(n,H.start,H.end),ne=O.length;let U=[...t.map(D=>{const $=O.filter(Q=>Q.cancellationCode===D.code||Q.cancellationCode==="OTHER"&&Q.manualCodeEntry===D.code).length,M=W.filter(Q=>Q.cancellationCode===D.code||Q.cancellationCode==="OTHER"&&Q.manualCodeEntry===D.code).length,P=ne>0?$/ne*100:0;let ae=0;return M>0?ae=($-M)/M*100:$>0&&(ae=100),{code:D.code,category:D.category,description:D.description,totalCount:$,percentage:P,trend:ae,previousCount:M}})];switch(d){case"count":U.sort((D,$)=>f==="desc"?$.totalCount-D.totalCount:D.totalCount-$.totalCount);break;case"percentage":U.sort((D,$)=>f==="desc"?$.percentage-D.percentage:D.percentage-$.percentage);break;case"category":U.sort((D,$)=>{const M=f==="desc"?$.category.localeCompare(D.category):D.category.localeCompare($.category);return M!==0?M:$.totalCount-D.totalCount});break}return o||(U=U.filter(D=>D.totalCount>0)),U},[n,t,s,d,f,o]),T=R=>{d===R?h(f==="desc"?"asc":"desc"):(u(R),h("desc"))},E=R=>({week:"Past Week",month:"Past Month","6months":"Past 6 Months",year:"Past Year","2years":"Past 2 Years","5years":"Past 5 Years",lastFY:"Last Financial Year",lastCY:"Last Calendar Year"})[R],A=R=>R>5?e.jsx("span",{className:"text-red-400",children:"‚Üë"}):R<-5?e.jsx("span",{className:"text-green-400",children:"‚Üì"}):e.jsx("span",{className:"text-gray-400",children:"‚Üí"}),_=y.reduce((R,H)=>R+H.totalCount,0);return e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 mt-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-xl font-bold text-white",children:"AC History (Cancellation Analytics & Trends)"})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Time Period"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["week","month","6months","year","2years","5years","lastFY","lastCY"].map(R=>e.jsx("button",{onClick:()=>i(R),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s===R?"bg-sky-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:E(R)},R))})]}),e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:R=>l(R.target.checked),className:"h-4 w-4 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 accent-sky-500"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Show codes with zero occurrences"})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Total Cancellations: ",e.jsx("span",{className:"font-semibold text-white",children:_})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Code"}),e.jsxs("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>T("category"),children:["Category ",d==="category"&&(f==="desc"?"‚Üì":"‚Üë")]}),e.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Description"}),e.jsxs("th",{className:"text-right py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>T("count"),children:["Total ",d==="count"&&(f==="desc"?"‚Üì":"‚Üë")]}),e.jsxs("th",{className:"text-right py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>T("percentage"),children:["Percentage ",d==="percentage"&&(f==="desc"?"‚Üì":"‚Üë")]}),e.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Trend"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"py-8 text-center text-gray-400",children:"No cancellation data available for the selected period."})}):y.map(R=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[e.jsx("td",{className:"py-3 px-4 text-white font-mono font-semibold",children:R.code}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:R.category}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:R.description}),e.jsx("td",{className:"py-3 px-4 text-right text-white font-semibold",children:R.totalCount}),e.jsxs("td",{className:"py-3 px-4 text-right text-white",children:[R.percentage.toFixed(1),"%"]}),e.jsxs("td",{className:"py-3 px-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[A(R.trend),e.jsxs("span",{className:`text-xs ${R.trend>5?"text-red-400":R.trend<-5?"text-green-400":"text-gray-400"}`,children:[R.trend>0?"+":"",R.trend.toFixed(0),"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["(prev: ",R.previousCount,")"]})]})]},R.code))})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[e.jsx("p",{children:"‚Ä¢ Percentages are calculated relative to all Flight + FTD cancellations in the selected period."}),e.jsx("p",{children:"‚Ä¢ Trend indicators compare the selected period to the immediately preceding equivalent period."}),e.jsx("p",{children:"‚Ä¢ Both active and inactive codes appear in analytics if used historically."})]})]})},yA=({cancellationRecords:n,cancellationCodes:t})=>{const[s,i]=C.useState("30days"),[o,l]=C.useState("date"),[d,u]=C.useState("desc"),f=C.useMemo(()=>{const T=new Date,E=new Date;switch(s){case"7days":E.setDate(T.getDate()-7);break;case"30days":E.setDate(T.getDate()-30);break;case"90days":E.setDate(T.getDate()-90);break;case"all":return n}return n.filter(A=>new Date(A.cancelledAt)>=E)},[n,s]),h=C.useMemo(()=>{const T=[...f];return T.sort((E,A)=>{let _=0;switch(o){case"date":_=new Date(E.cancelledAt).getTime()-new Date(A.cancelledAt).getTime();break;case"event":_=(E.eventName||"").localeCompare(A.eventName||"");break;case"code":_=E.cancellationCode.localeCompare(A.cancellationCode);break;case"personnel":_=(E.personnelAffected||"").localeCompare(A.personnelAffected||"");break}return d==="asc"?_:-_}),T},[f,o,d]),m=T=>{o===T?u(d==="asc"?"desc":"asc"):(l(T),u("desc"))},v=T=>{const E=t.find(A=>A.code===T);return(E==null?void 0:E.description)||"Unknown"},x=T=>{if(!T)return"No Date";const E=new Date(T);return isNaN(E.getTime())?(console.log("DATE FIX: Invalid date from:",T),"Invalid Date"):E.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},y=({field:T})=>o!==T?e.jsx("span",{className:"text-gray-500",children:"‚áÖ"}):d==="asc"?e.jsx("span",{children:"‚Üë"}):e.jsx("span",{children:"‚Üì"});return e.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Recent Cancellations"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-gray-400 text-sm",children:"Time Period:"}),e.jsxs("select",{value:s,onChange:T=>i(T.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-1 text-white text-sm",children:[e.jsx("option",{value:"7days",children:"Last 7 Days"}),e.jsx("option",{value:"30days",children:"Last 30 Days"}),e.jsx("option",{value:"90days",children:"Last 90 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),h.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No cancellations found for the selected time period."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsxs("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>m("date"),children:["Date/Time ",e.jsx(y,{field:"date"})]}),e.jsxs("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>m("event"),children:["Event ",e.jsx(y,{field:"event"})]}),e.jsxs("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>m("code"),children:["Code ",e.jsx(y,{field:"code"})]}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold",children:"Reason"}),e.jsxs("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>m("personnel"),children:["Personnel Affected ",e.jsx(y,{field:"personnel"})]}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold",children:"Notes"})]})}),e.jsx("tbody",{children:h.map((T,E)=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 text-sm",children:x(T.cancelledAt||T.timestamp)}),e.jsx("td",{className:"py-3 px-4 text-white font-semibold",children:T.eventName||"N/A"}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-mono font-bold text-amber-400",children:T.cancellationCode})}),e.jsx("td",{className:"py-3 px-4 text-gray-300 text-sm",children:v(T.cancellationCode)}),e.jsx("td",{className:"py-3 px-4 text-gray-300 text-sm",children:T.personnelAffected||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-gray-400 text-sm max-w-xs truncate",children:T.notes||"-"})]},E))})]})}),e.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:["Showing ",h.length," cancellation",h.length!==1?"s":""]})]})]})},Zu=[{code:"AD",category:"Aircraft",description:"On deployment",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"AT",category:"Aircraft",description:"Time constraint",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"AU",category:"Aircraft",description:"Unavailable",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CI",category:"Crew",description:"Instructor",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CO",category:"Crew",description:"Other crew",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CP",category:"Crew",description:"Pilot",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CS",category:"Crew",description:"Student",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"PC",category:"Program",description:"Change",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"PE",category:"Program",description:"Error",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"WX",category:"Weather",description:"Weather",appliesTo:"Flight",isActive:!0,createdAt:new Date().toISOString()}],bA=({currentUserRole:n,cancellationRecords:t})=>{const[s,i]=C.useState([]),[o,l]=C.useState(new Set),d=n==="Super Admin"||n==="Admin";C.useEffect(()=>{const x=localStorage.getItem("cancellationCodes");if(x)try{i(JSON.parse(x))}catch(y){console.error("Error loading cancellation codes:",y),i(Zu)}else i(Zu),localStorage.setItem("cancellationCodes",JSON.stringify(Zu))},[]),C.useEffect(()=>{const x=new Set;t.forEach(y=>{x.add(y.cancellationCode),y.manualCodeEntry&&x.add(y.manualCodeEntry)}),l(x)},[t]);const u=x=>{i(x),localStorage.setItem("cancellationCodes",JSON.stringify(x))},f=x=>{if(s.some(T=>T.code===x.code)){alert("A code with this identifier already exists.");return}const y=[...s,x];u(y)},h=(x,y)=>{const T=s.map(E=>E.code===x?y:E);u(T)},m=x=>{const y=s.map(T=>T.code===x?{...T,isActive:!T.isActive,updatedAt:new Date().toISOString()}:T);u(y)},v=x=>{const y=s.filter(T=>T.code!==x);u(y)};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"AC History"}),e.jsx("p",{className:"text-gray-400",children:"Manage cancellation codes and view cancellation analytics and trends."})]}),e.jsx("button",{onClick:()=>{const x=localStorage.getItem("cancellationRecords");alert("cancellationRecords: "+x),console.log("cancellationRecords:",x)},className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Debug LocalStorage"})]})}),e.jsx(pA,{codes:s,onAddCode:f,onEditCode:h,onToggleActive:m,onDeleteCode:v,canEdit:d,usedCodes:o}),e.jsx(yA,{cancellationRecords:t,cancellationCodes:s}),e.jsx(xA,{cancellationRecords:t,cancellationCodes:s})]})},vA=({callsigns:n,onUpdateCallsigns:t,units:s,locations:i,canEditSettings:o,onAuditLog:l})=>{const[d,u]=C.useState(!1),[f,h]=C.useState([]),[m,v]=C.useState("ALL"),[x,y]=C.useState({name:"",code:"",unit:"",location:"",locationCode:""}),T=()=>{h([...n]),u(!0)},E=()=>{const W=n.map(V=>`${V.name} (${V.code})`).join(", "),ne=f.map(V=>`${V.name} (${V.code})`).join(", ");t(f),u(!1),l&&l({timestamp:new Date().toISOString(),page:"Settings - Location - Formation Callsigns",action:"Updated Formation Callsigns",changes:`From: [${W}] To: [${ne}]`})},A=()=>{y({name:"",code:"",unit:"",location:"",locationCode:""}),u(!1)},_=()=>{x.name&&x.code&&x.unit&&x.location&&x.locationCode&&(h([...f,{...x}]),y({name:"",code:"",unit:"",location:"",locationCode:""}))},R=W=>{h(f.filter((ne,V)=>V!==W))},H=(W,ne,V)=>{const U=[...f];U[W]={...U[W],[ne]:V},h(U)},O=d?m==="ALL"?f:f.filter(W=>W.unit===m):m==="ALL"?n:n.filter(W=>W.unit===m);return e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[800px] h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Formation Callsigns"}),d?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:E,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"}),e.jsx("button",{onClick:A,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"})]}):e.jsx("button",{onClick:T,disabled:!o,className:`px-3 py-1 rounded-md text-xs font-semibold ${o?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Filter by Unit:"}),e.jsxs("select",{value:m,onChange:W=>v(W.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500",children:[e.jsx("option",{value:"ALL",children:"ALL"}),s.map(W=>e.jsx("option",{value:W,children:W},W))]})]}),d?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Manage formation callsigns for units."}),e.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-700 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Unit"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Location"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Loc Code"}),e.jsx("th",{className:"px-3 py-2 text-center text-gray-300 font-semibold",children:"Action"})]})}),e.jsx("tbody",{children:O.map((W,ne)=>{const V=f.findIndex(U=>U.name===W.name&&U.code===W.code&&U.unit===W.unit);return e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:W.name,onChange:U=>H(V,"name",U.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:W.code,onChange:U=>H(V,"code",U.target.value.toUpperCase()),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("select",{value:W.unit,onChange:U=>H(V,"unit",U.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[e.jsx("option",{value:"",children:"Select..."}),s.map(U=>e.jsx("option",{value:U,children:U},U))]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("select",{value:W.location,onChange:U=>H(V,"location",U.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[e.jsx("option",{value:"",children:"Select..."}),i.map(U=>e.jsx("option",{value:U,children:U},U))]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"text",value:W.locationCode,onChange:U=>H(V,"locationCode",U.target.value.toUpperCase()),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",maxLength:3})}),e.jsx("td",{className:"px-3 py-2 text-center",children:e.jsx("button",{onClick:()=>R(V),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})})]},ne)})})]})}),e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add New Callsign:"}),e.jsxs("div",{className:"grid grid-cols-6 gap-2",children:[e.jsx("input",{type:"text",value:x.name,onChange:W=>y({...x,name:W.target.value}),placeholder:"Name",className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"}),e.jsx("input",{type:"text",value:x.code,onChange:W=>y({...x,code:W.target.value.toUpperCase()}),placeholder:"Code",className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"}),e.jsxs("select",{value:x.unit,onChange:W=>y({...x,unit:W.target.value}),className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[e.jsx("option",{value:"",children:"Unit..."}),s.map(W=>e.jsx("option",{value:W,children:W},W))]}),e.jsxs("select",{value:x.location,onChange:W=>y({...x,location:W.target.value}),className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[e.jsx("option",{value:"",children:"Location..."}),i.map(W=>e.jsx("option",{value:W,children:W},W))]}),e.jsx("input",{type:"text",value:x.locationCode,onChange:W=>y({...x,locationCode:W.target.value.toUpperCase()}),placeholder:"Code",maxLength:3,className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"}),e.jsx("button",{onClick:_,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-xs font-semibold",children:"Add"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Configured formation callsigns."}),e.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-700 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Unit"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Location"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Loc Code"})]})}),e.jsx("tbody",{children:O.map((W,ne)=>e.jsxs("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30",children:[e.jsx("td",{className:"px-3 py-2 text-white",children:W.name}),e.jsx("td",{className:"px-3 py-2 text-white",children:W.code}),e.jsx("td",{className:"px-3 py-2 text-white",children:W.unit}),e.jsx("td",{className:"px-3 py-2 text-white",children:W.location}),e.jsx("td",{className:"px-3 py-2 text-white",children:W.locationCode})]},ne))})]})})]})]})]})},NA=({instructors:n,trainees:t,onUpdateInstructorPermission:s,onUpdateTraineePermission:i,onShowSuccess:o,currentUserPermission:l="Super Admin"})=>{const[d,u]=C.useState(!1),[f,h]=C.useState(""),[m,v]=C.useState("All"),[x,y]=C.useState("All"),[T,E]=C.useState(new Map),A=l==="Super Admin",_=C.useMemo(()=>{const M=n.map(ae=>{var Q;return{id:ae.idNumber,name:ae.name,type:"Instructor",currentRole:[ae.isExecutive&&"Executive",ae.isFlyingSupervisor&&"Flying Supervisor",ae.isTestingOfficer&&"Testing Officer",ae.isIRE&&"IRE"].filter(Boolean).join(", ")||"Instructor",permissionLevel:((Q=ae.permissions)==null?void 0:Q[0])||"Staff"}}),P=t.map(ae=>{var Q;return{id:ae.idNumber,name:ae.name,type:"Trainee",currentRole:ae.course,permissionLevel:((Q=ae.permissions)==null?void 0:Q[0])||"Trainee"}});return[...M,...P].sort((ae,Q)=>ae.name.localeCompare(Q.name))},[n,t]),R=C.useMemo(()=>_.filter(M=>{var Te;const P=M.name.toLowerCase().includes(f.toLowerCase())||((Te=M.currentRole)==null?void 0:Te.toLowerCase().includes(f.toLowerCase())),ae=m==="All"||M.permissionLevel===m,Q=x==="All"||M.type===x;return P&&ae&&Q}),[_,f,m,x]),H=()=>{const M=new Map;_.forEach(P=>{M.set(`${P.type}-${P.id}`,P.permissionLevel)}),E(M),u(!0)},O=()=>{T.forEach((M,P)=>{var Y,fe;const[ae,Q]=P.split("-"),Te=parseInt(Q);if(ae==="Instructor"){const ge=n.find(Ne=>Ne.idNumber===Te);ge&&((Y=ge.permissions)==null?void 0:Y[0])!==M&&s(Te,M)}else if(ae==="Trainee"){const ge=t.find(Ne=>Ne.idNumber===Te);ge&&((fe=ge.permissions)==null?void 0:fe[0])!==M&&i(Te,M)}}),u(!1),o("User permissions updated successfully")},W=()=>{u(!1),E(new Map)},ne=(M,P)=>{const ae=`${M.type}-${M.id}`;E(Q=>{const Te=new Map(Q);return Te.set(ae,P),Te})},V=M=>{const P=`${M.type}-${M.id}`;return T.get(P)||M.permissionLevel},U=M=>({"Super Admin":"bg-purple-600",Admin:"bg-red-600",Staff:"bg-blue-600",Trainee:"bg-green-600",Ops:"bg-yellow-600",Scheduler:"bg-orange-600","Course Supervisor":"bg-pink-600"})[M],D=["Super Admin","Admin","Staff","Trainee","Ops","Scheduler","Course Supervisor"],$=C.useMemo(()=>{const M={"Super Admin":0,Admin:0,Staff:0,Trainee:0,Ops:0,Scheduler:0,"Course Supervisor":0};return _.forEach(P=>{M[P.permissionLevel]++}),M},[_]);return A?e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-full max-w-6xl h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Permissions Manager"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Assign permission levels to individual users"})]}),d?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:O,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save Changes"}),e.jsx("button",{onClick:W,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"})]}):e.jsx("button",{onClick:H,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Edit Permissions"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Search by name or role/course...",value:f,onChange:M=>h(M.target.value),className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500"})}),e.jsx("div",{children:e.jsxs("select",{value:x,onChange:M=>y(M.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500",children:[e.jsx("option",{value:"All",children:"All Users"}),e.jsx("option",{value:"Instructor",children:"Instructors Only"}),e.jsx("option",{value:"Trainee",children:"Trainees Only"})]})}),e.jsx("div",{children:e.jsxs("select",{value:m,onChange:M=>v(M.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500",children:[e.jsx("option",{value:"All",children:"All Permissions"}),D.map(M=>e.jsx("option",{value:M,children:M},M))]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"Permission Summary:"}),D.map(M=>e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:`w-3 h-3 rounded ${U(M)}`}),e.jsxs("span",{className:"text-xs text-gray-300",children:[M,": ",$[M]]})]},M))]}),e.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-gray-800 z-10",children:e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Name"}),e.jsx("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Type"}),e.jsx("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Role/Course"}),e.jsx("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Permission Level"})]})}),e.jsx("tbody",{children:R.map((M,P)=>{const ae=d?V(M):M.permissionLevel;return e.jsxs("tr",{className:`border-b border-gray-700 ${P%2===0?"bg-gray-800/50":"bg-gray-800/30"}`,children:[e.jsx("td",{className:"py-3 px-4 text-gray-200 font-medium",children:M.name}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${M.type==="Instructor"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:M.type})}),e.jsx("td",{className:"py-3 px-4 text-gray-300",children:M.currentRole}),e.jsx("td",{className:"py-3 px-4",children:d?e.jsx("select",{value:ae,onChange:Q=>ne(M,Q.target.value),className:`${U(ae)} text-white rounded-md py-1 px-2 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-sky-500`,children:D.map(Q=>e.jsx("option",{value:Q,children:Q},Q))}):e.jsx("span",{className:`${U(ae)} text-white px-3 py-1 rounded text-xs font-semibold inline-block`,children:ae})})]},`${M.type}-${M.id}`)})})]})}),R.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No users found matching your filters."}),e.jsx("div",{className:"p-3 bg-gray-700/50 rounded-lg",children:e.jsxs("p",{className:"text-xs text-gray-400",children:["Showing ",R.length," of ",_.length," users"]})})]})]}):e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-full max-w-6xl h-fit",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Permissions Manager"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Manage user access permissions"})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-red-500 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-400",children:"Only Super Admin users can manage permissions."})]})]})},wA=({preferredDutyPeriod:n,onUpdatePreferredDutyPeriod:t,maxCrewDutyPeriod:s,onUpdateMaxCrewDutyPeriod:i,flightTurnaround:o,onUpdateFlightTurnaround:l,ftdTurnaround:d,onUpdateFtdTurnaround:u,cptTurnaround:f,onUpdateCptTurnaround:h})=>{const m=C.useMemo(()=>Array.from({length:30},(x,y)=>parseFloat(((y+1)*.1).toFixed(1))),[]),v=({label:x,value:y,onChange:T,options:E})=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:`turnaround-${x}`,className:"block text-sm font-medium text-gray-400",children:x}),e.jsx("select",{id:`turnaround-${x}`,value:y,onChange:A=>T(parseFloat(A.target.value)),className:"w-full mt-1 bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center",children:E.map(A=>e.jsxs("option",{value:A,children:[A.toFixed(1)," hrs"]},A))})]});return e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 h-fit",children:[e.jsx("div",{className:"p-4 flex justify-between items-center",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Duty & Turnaround"})}),e.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Crew Duty Period (hrs)"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Soft Limit"}),e.jsx("input",{type:"number",value:n,onChange:x=>{Pn("Settings","Edit","Updated soft limit duty period",`${n} ‚Üí ${parseInt(x.target.value)}`),t(parseInt(x.target.value))},className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center"})]}),e.jsxs("div",{className:"flex flex-col flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hard Limit"}),e.jsx("input",{type:"number",value:s,onChange:x=>{Pn("Settings","Edit","Updated hard limit duty period",`${s} ‚Üí ${parseInt(x.target.value)}`),i(parseInt(x.target.value))},className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Turnaround Times"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[e.jsx(v,{label:"Flight",value:o,onChange:x=>{Pn("Settings","Edit","Updated flight turnaround time",`${o} ‚Üí ${x}`),l(x)},options:m}),e.jsx(v,{label:"FTD",value:d,onChange:x=>{Pn("Settings","Edit","Updated FTD turnaround time",`${d} ‚Üí ${x}`),u(x)},options:m}),e.jsx(v,{label:"CPT",value:f,onChange:x=>{Pn("Settings","Edit","Updated CPT turnaround time",`${f} ‚Üí ${x}`),h(x)},options:m})]})]})]})]})},J1=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-sky-400 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),SA=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),CA=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),TA=({hideHeader:n=!1,locations:t,onUpdateLocations:s,units:i,onUpdateUnits:o,unitLocations:l,onUpdateUnitLocations:d,instructorsData:u,traineesData:f,syllabusDetails:h,onBulkUpdateInstructors:m,onReplaceInstructors:v,onBulkUpdateTrainees:x,onReplaceTrainees:y,onUpdateSyllabus:T,onShowSuccess:E,eventLimits:A,onUpdateEventLimits:_,phraseBank:R,onUpdatePhraseBank:H,onNavigate:O,masterCurrencies:W,currencyRequirements:ne,sctEvents:V,onUpdateSctEvents:U,preferredDutyPeriod:D,onUpdatePreferredDutyPeriod:$,maxCrewDutyPeriod:M,onUpdateMaxCrewDutyPeriod:P,flightTurnaround:ae,onUpdateFlightTurnaround:Q,ftdTurnaround:Te,onUpdateFtdTurnaround:Y,cptTurnaround:fe,onUpdateCptTurnaround:ge,currentUserPermission:Ne,activeSection:Oe="scoring-matrix",maxDispatchPerHour:se,onUpdateMaxDispatchPerHour:F,timezoneOffset:X,onUpdateTimezoneOffset:J,formationCallsigns:ee,onUpdateFormationCallsigns:K,courseColors:ue,setCourseColors:xe,onUpdateTraineeLMPs:Le,cancellationRecords:ye,cancellationCodes:pe})=>{const ce=["Super Admin","Admin","Scheduler"].includes(Ne),[He,_e]=C.useState(!1),[Z,Fe]=C.useState([]),[Xe,ft]=C.useState(""),[tt,We]=C.useState(!1),[Ke,nt]=C.useState([]),[Ct,xt]=C.useState(""),[dn,on]=C.useState({}),[st,kt]=C.useState(!1),[Ge,ht]=C.useState(!1),[vt,Ht]=C.useState([]),[ze,we]=C.useState(""),[Re,be]=C.useState(!1),[Ze,ot]=C.useState(A),[Vt,Pt]=C.useState(!1),[yn,Tt]=C.useState("Airmanship"),[lt,Et]=C.useState([]),[Bt]=C.useState([{id:"instructor_loads",name:"Instructor Loads"},{id:"trainee_loads",name:"Trainee Loads"},{id:"lmp_loads",name:"LMP Loads"},{id:"logbook_templates",name:"Logbook Template"},{id:"miscellaneous",name:"Miscellaneous"},{id:"trainee_data",name:"Trainee Data"},{id:"trainee_logbook",name:"Logbook",isSub:!0},{id:"staff_data",name:"Staff Data"},{id:"staff_logbook",name:"Logbook",isSub:!0}]),[Kt,Mt]=C.useState(!1),[Ve,qt]=C.useState(null),[Mn,jn]=C.useState(!1),[je,$e]=C.useState(null),[Ye,Dt]=C.useState(null),[St,hn]=C.useState(null),[Ce,At]=C.useState(!1),[B,Ae]=C.useState(!1),[rt,yt]=C.useState("minor"),[et,$t]=C.useState(""),[pn,kn]=C.useState([]),[ts,un]=C.useState(!1),[Nn,os]=C.useState(null),[ss,Hn]=C.useState(!1),[Jn,zn]=C.useState(""),[Fn,Rn]=C.useState(!1),[Qn,as]=C.useState({added:0,updated:0,replaced:0,skipped:0,type:""}),[cs,rs]=C.useState(!1),[Ms,hs]=C.useState([]),[_n,rr]=C.useState([]),[Cs,js]=C.useState([]),[Cr,Fs]=C.useState(0),Ds=C.useMemo(()=>new Set(Bt.map(Ee=>Ee.id)),[Bt]),Js=C.useMemo(()=>lt.filter(Ee=>!Ds.has(Ee.folderId)),[lt,Ds]),sa=C.useMemo(()=>Object.keys(ue).sort((Ee,rn)=>Ee.localeCompare(rn)),[ue]),to=(Ee,rn)=>{const gt=Ee.name||"",vn=rn.name||"";return gt.localeCompare(vn)},Ti=C.useMemo(()=>[...W,...ne].filter(Ee=>Ee.isVisible).sort(to),[W,ne]);C.useEffect(()=>{(async()=>{try{await rg(),ra()}catch(rn){console.error("Failed to initialize DB:",rn)}})()},[]),C.useEffect(()=>{cs&&Ms.length>0?Xn():cs&&Ms.length===0&&fs()},[cs,Ms]);const vs=Ee=>Oe?Oe===Ee:!0,ra=async()=>{const Ee=await ig();Et(Ee)},no=()=>{Fe([...t]),_e(!0)},xi=()=>{const Ee=t.join(", "),rn=Z.join(", ");s(Z),_e(!1),Pn({page:"Settings - Location",action:"update",description:"Updated operating locations",changes:`From: [${Ee}] To: [${rn}]`})},Ta=()=>{ft(""),_e(!1)},so=()=>{Xe&&!Z.includes(Xe)&&(Fe([...Z,Xe]),ft(""))},Go=Ee=>{Fe(Z.filter(rn=>rn!==Ee))},ro=()=>{nt([...i]),on({...l}),We(!0)},Ba=()=>{const Ee=i.join(", "),rn=Ke.join(", ");o(Ke);const gt={};for(const vn of Ke)gt[vn]=dn[vn];d(gt),We(!1),Pn({page:"Settings - Units",action:"update",description:"Updated organizational units and locations",changes:`From: [${Ee}] To: [${rn}]`})},Ao=()=>{xt(""),We(!1)},Vr=()=>{Ct&&!Ke.includes(Ct)&&(nt([...Ke,Ct]),on(Ee=>({...Ee,[Ct]:t[0]||""})),xt(""))},li=Ee=>{nt(Ke.filter(gt=>gt!==Ee));const rn={...dn};delete rn[Ee],on(rn)},Mi=()=>{Ht([...V]),kt(!0)},Qr=()=>{const Ee=V.join(", "),rn=vt.join(", ");U(vt),kt(!1),Pn({page:"Settings - SCT Events",action:"update",description:"Updated SCT event types",changes:`From: [${Ee}] To: [${rn}]`})},Fi=()=>{we(""),kt(!1)},ke=()=>{ze&&!vt.includes(ze)&&(Ht([...vt,ze]),we(""))},mt=Ee=>{Ht(vt.filter(rn=>rn!==Ee))},nn=(Ee,rn)=>{on(gt=>({...gt,[Ee]:rn}))},Yt=()=>{ot(JSON.parse(JSON.stringify(A))),be(!0)},an=()=>{_(Ze),be(!1),E("Events limits updated"),Pn({page:"Settings - Event Limits",action:"update",description:"Updated event scheduling limits",changes:"Updated limits for QFI, Staff, Trainee, and SIM IP categories"})},en=Ee=>{$(Ee),Pn({page:"Settings - Duty & Turnaround",action:"update",description:"Updated preferred duty period",changes:`Set to: ${Ee} hours`})},Cn=Ee=>{P(Ee),Pn({page:"Settings - Duty & Turnaround",action:"update",description:"Updated max crew duty period",changes:`Set to: ${Ee} hours`})},Vn=Ee=>{Q(Ee),Pn({page:"Settings - Duty & Turnaround",action:"update",description:"Updated flight turnaround time",changes:`Set to: ${Ee} minutes`})},xn=Ee=>{Y(Ee),Pn({page:"Settings - Duty & Turnaround",action:"update",description:"Updated FTD turnaround time",changes:`Set to: ${Ee} minutes`})},ls=Ee=>{ge(Ee),Pn({page:"Settings - Duty & Turnaround",action:"update",description:"Updated CPT turnaround time",changes:`Set to: ${Ee} minutes`})},Es=Ee=>{Tt(Ee),Pt(!0)},Zs=Ee=>{H(Ee),Pn({page:"Settings - Scoring Matrix",action:"update",description:"Updated scoring matrix phrase bank",changes:"Modified scoring criteria and phrases"})},ir=()=>{Mt(!0)},Pi=Ee=>{qt(Ee),Mt(!1),jn(!0)},Oa=async Ee=>{if(Ve){const rn=new Date,gt=rn.getFullYear().toString().slice(-2),vn=(rn.getMonth()+1).toString().padStart(2,"0"),Un=rn.getDate().toString().padStart(2,"0"),_s=`${gt}${vn}${Un}`,En=Bt.find(Xs=>Xs.id===Ee),es=En?En.name.replace(/\s+/g,"_"):"Uncategorized",Is=Ve.name,ps=`${_s}_${es}_${Is}`;await cd(Ve,Ee,ps),ra(),Pn({page:"Settings - Data Loaders",action:"create",description:`Uploaded file to ${es}`,changes:`File: ${ps}`})}jn(!1),qt(null)},Fr=Ee=>{$e(Ee)},ja=async()=>{if(je){const Ee=await ih(je.id);if(Ee){const rn=URL.createObjectURL(Ee.content),gt=document.createElement("a");gt.href=rn,gt.download=Ee.name,document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),URL.revokeObjectURL(rn)}$e(null)}},Ri=Ee=>{Dt(Ee)},ci=async()=>{Ye&&(await ah(Ye.id),ra(),Pn({page:"Settings - Data Loaders",action:"delete",description:"Deleted file from data loaders",changes:`File: ${Ye.name}`}),Dt(null))},ko=()=>{const Ee=document.createElement("a");Ee.href="/Staff_Bulk_Update_Template.xlsx",Ee.download="Staff_Bulk_Update_Template.xlsx",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)},Bs=()=>{const Ee=document.createElement("a");Ee.href="/Trainee_Bulk_Update_Template.xlsx",Ee.download="Trainee_Bulk_Update_Template.xlsx",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)},Wr=()=>{const Ee=document.createElement("a");Ee.href="/LMP_Syllabus_Template.xlsx",Ee.download="LMP_Syllabus_Template.xlsx",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)},Ea=()=>{const Ee=["Date","Aircraft","Pilot","Student","Sortie","Duration","Result"],rn=XLSX.utils.json_to_sheet([{}],{header:Ee}),gt=XLSX.utils.book_new();XLSX.utils.book_append_sheet(gt,rn,"Logbook"),XLSX.writeFile(gt,"Logbook_Template.xlsx")},Tr=Ee=>{hn(Ee),At(!0)},Do=async(Ee,rn)=>{if(Ee!=="1111"){E("Incorrect PIN.");return}At(!1),yt(rn),(St==null?void 0:St.folderId)==="trainee_loads"?(await yi(),Ae(!0)):io(rn,"")},yi=async()=>{if(St)try{const Ee=await ih(St.id);if(!Ee)return;const rn=await Ee.content.arrayBuffer(),gt=XLSX.read(rn,{type:"buffer"}),vn=gt.SheetNames[0],Un=gt.Sheets[vn],_s=XLSX.utils.sheet_to_json(Un),En=new Set;_s.forEach(es=>{const Is=k(es,["Course Prefix","coursePrefix"]),ps=k(es,["Course Number","courseNumber"]);if(Is&&ps)En.add(`${Is}${ps}`);else{const Xs=k(es,["Course"]);Xs&&En.add(Xs)}}),kn(Array.from(En))}catch(Ee){console.error("Error extracting courses from file:",Ee)}},di=Ee=>{$t(Ee),Ae(!1),io(rt,Ee)},io=async(Ee,rn)=>{if(St)try{const gt=await ih(St.id);if(!gt)throw new Error("File not found");const vn=await gt.content.arrayBuffer(),Un=XLSX.read(vn,{type:"buffer"}),_s=Un.SheetNames[0],En=Un.Sheets[_s],es=XLSX.utils.sheet_to_json(En);Ee==="bulk"?fn(es,rn):Wn(es,rn)}catch(gt){console.error("File processing error:",gt),E(`Error processing file: ${gt.message}`)}},Ui=(Ee,rn)=>{for(const vn of rn)if(Ee[vn]!==void 0)return Ee[vn];const gt=Object.keys(Ee);for(const vn of rn){const Un=vn.toLowerCase().replace(/[\s/]/g,"");for(const _s of gt)if(_s.toLowerCase().replace(/[\s/]/g,"")===Un)return Ee[_s]}},ao=Ee=>typeof Ee=="boolean"?Ee:typeof Ee=="string"?Ee.trim().toLowerCase()==="true":!!Ee,k=(Ee,rn)=>{const gt=Ui(Ee,rn);return gt!==void 0?String(gt).trim():void 0},re=(Ee,rn)=>{const gt=Ui(Ee,rn);if(gt==null||String(gt).trim()==="")return;const vn=parseFloat(String(gt).replace(/[A-Za-z]/g,"").trim());return isNaN(vn)?void 0:vn},De=(Ee,rn)=>{const gt=Ui(Ee,rn);if(gt!=null)return String(gt).split(";").map(vn=>vn.trim()).filter(Boolean)},Qe=Ee=>{const rn=re(Ee,["PMKeys/ID","idNumber"]);if(rn===void 0)return null;const gt={idNumber:rn},vn=k(Ee,["Srname","Surname","Last Name"]),Un=k(Ee,["First name","Firstname","Given Name"]);vn&&Un&&(gt.name=`${vn}, ${Un}`);const _s=k(Ee,["Rank"]);_s&&(gt.rank=_s);const En=re(Ee,["callsign number","callsignnumber"]);En!==void 0&&(gt.callsignNumber=En);const es=k(Ee,["Service"]);es&&(gt.service=es);const Is=k(Ee,["Category"]);Is&&(gt.category=Is);const ps=k(Ee,["Seat config","seatConfig"]);ps&&(gt.seatConfig=ps);const Xs=k(Ee,["Roles"]);if(Xs){const ar=Xs.toLowerCase();gt.isExecutive=ar.includes("executive"),gt.isFlyingSupervisor=ar.includes("supervisor"),gt.isTestingOfficer=ar.includes("testing"),gt.isIRE=ar.includes("ire")}return gt},pt=Ee=>{const rn=re(Ee,["PMKeys/ID","idNumber"]);if(rn===void 0)return null;const gt={idNumber:rn},vn=k(Ee,["Name","Name [Surname, Firstname]"]);if(vn)gt.name=vn;else{const Yr=k(Ee,["Surname","Last Name"]),aa=k(Ee,["First Name","Firstname","Given Name"]);Yr&&aa&&(gt.name=`${Yr}, ${aa}`)}const Un=k(Ee,["Course Prefix","coursePrefix"]),_s=k(Ee,["Course Number","courseNumber"]);if(Un&&_s)gt.course=`${Un}${_s}`;else{const Yr=k(Ee,["Course"]);Yr&&(gt.course=Yr)}const En=k(Ee,["LMP","lmpType"]);En&&(gt.lmpType=En);const es=k(Ee,["Rank"]);es&&(gt.rank=es);const Is=k(Ee,["Callsign","callsign"]);Is&&(gt.callsignNumber=parseInt(Is)||void 0);const ps=k(Ee,["Service"]);ps&&(gt.service=ps);const Xs=k(Ee,["Unit"]);Xs&&(gt.unit=Xs);const ar=k(Ee,["Flight","flight"]);ar&&(gt.flight=ar);const $s=k(Ee,["Location"]);$s&&(gt.location=$s);const ji=k(Ee,["Seat Config","seatConfig"]);ji&&(gt.seatConfig=ji);const or=k(Ee,["Phone Number","phoneNumber"]);or&&(gt.phoneNumber=or);const Bi=k(Ee,["Email"]);Bi&&(gt.email=Bi);const ia=k(Ee,["Primary Instructor","primaryInstructor"]);ia&&(gt.primaryInstructor=ia);const $r=k(Ee,["Secondary Instructor","secondaryInstructor"]);$r&&(gt.secondaryInstructor=$r);const Yi=k(Ee,["Permissions","permissions"]);Yi&&(gt.permissions=Yi.split(/\r?\n/).map(Yr=>Yr.trim()).filter(Boolean));const ei=Ui(Ee,["Is Paused","isPaused"]);return ei!==void 0&&(gt.isPaused=ao(ei)),gt.isPaused||(gt.isPaused=!1),gt.unit||(gt.unit=""),gt.rank||(gt.rank="FLGOFF"),gt.seatConfig||(gt.seatConfig="Front"),gt.unavailability||(gt.unavailability=[]),gt.name&&gt.course?gt.fullName=`${gt.name} ‚Äì ${gt.course}`:gt.name&&(gt.fullName=gt.name),gt},Jt=Ee=>{const rn=k(Ee,["Code"]);if(!rn)return null;const gt={code:rn},vn=k(Ee,["Phase"]);vn&&(gt.phase=vn);const Un=k(Ee,["Module"]);Un&&(gt.module=Un);const _s=k(Ee,["Event description","eventDescription"]);_s&&(gt.eventDescription=_s);const En=De(Ee,["Pre-requisite Events (Ground School)","prerequisitesGround"]);En&&(gt.prerequisitesGround=En);const es=De(Ee,["Pre-requisite Events (Sim/Flying)","prerequisitesFlying"]);es&&(gt.prerequisitesFlying=es),(En||es)&&(gt.prerequisites=[...En||[],...es||[]]);const Is=De(Ee,["Event Details - Common","eventDetailsCommon"]);Is&&(gt.eventDetailsCommon=Is);const ps=De(Ee,["Event Details - Sortie","eventDetailsSortie"]);ps&&(gt.eventDetailsSortie=ps);const Xs=re(Ee,["Total Event Hours","totalEventHours"]);Xs!==void 0&&(gt.totalEventHours=Xs);const ar=re(Ee,["Flight or Sim Hours","flightOrSimHours"]);ar!==void 0&&(gt.flightOrSimHours=ar,gt.duration=ar);const $s=De(Ee,["Method/s of Delivery","methodOfDelivery"]);$s&&(gt.methodOfDelivery=$s);const ji=De(Ee,["Type/s and Method/s of Assessment","methodOfAssessment"]);ji&&(gt.methodOfAssessment=ji);const or=De(Ee,["Resources Required (physical)","resourcesPhysical"]);or&&(gt.resourcesPhysical=or);const Bi=De(Ee,["Resources Required (Human)","resourcesHuman"]);return Bi&&(gt.resourcesHuman=Bi),gt},fn=(Ee,rn)=>{if(!St)return;let gt=0,vn=[];switch(St.folderId){case"instructor_loads":vn=Ee.map(Qe).filter(En=>En&&En.idNumber),v(vn);break;case"trainee_loads":if(rn){const En=Ee.map(pt);console.log("üîµ BULK UPDATE DEBUG - Parsed rows:",En.length),console.log("üîµ First parsed row:",En[0]),vn=En.filter(ps=>ps&&ps.idNumber&&ps.name),console.log("üîµ Filtered rows (with ID and name):",vn.length),vn.length===0&&(console.error("üî¥ NO ROWS PASSED FILTER! Check if rows have idNumber and name"),console.log("üî¥ Sample parsed row:",En[0]));const es=f.filter(ps=>ps.course!==rn);console.log("üîµ Other course trainees:",es.length);const Is=vn.map(ps=>({...ps,course:rn}));console.log("üîµ New trainees to add:",Is.length),console.log("üîµ Sample new trainee:",Is[0]),console.log("üîµ Total trainees after update:",es.length+Is.length),y([...es,...Is])}else vn=Ee.map(pt).filter(En=>En&&En.idNumber&&En.name),y(vn);break;case"lmp_loads":vn=Ee.map(Jt).filter(En=>En&&En.code),T(vn);break}gt=vn.length,as({type:"Bulk",replaced:gt,added:0,updated:0,skipped:Ee.length-gt}),Rn(!0);const Un=St.folderId==="instructor_loads"?"Instructors":St.folderId==="trainee_loads"?"Trainees":"LMP Data",_s=rn?` for course: ${rn}`:"";Pn({page:"Settings - Data Loaders",action:"update",description:`Bulk update: ${Un}${_s}`,changes:`Replaced ${gt} records from file: ${St.name}`}),hn(null)},Wn=(Ee,rn)=>{hs(Ee),rr([]),js([]),Fs(0),$t(rn),rs(!0)},Xn=()=>{if(!St){rs(!1);return}const[Ee,...rn]=Ms;hs(rn);let gt,vn;switch(St.folderId){case"instructor_loads":if(gt=Qe(Ee),!(gt!=null&&gt.idNumber)){Fs(Un=>Un+1);return}vn=u.find(Un=>Un.idNumber===gt.idNumber);break;case"trainee_loads":if(gt=pt(Ee),!(gt!=null&&gt.idNumber)){Fs(Un=>Un+1);return}et?(vn=f.find(Un=>Un.idNumber===gt.idNumber&&Un.course===et),gt.course=et):vn=f.find(Un=>Un.idNumber===gt.idNumber);break;case"lmp_loads":if(gt=Jt(Ee),!(gt!=null&&gt.code)){Fs(Un=>Un+1);return}vn=h.find(Un=>Un.code.trim().replace(/\s/g,"").toLowerCase()===String(gt.code).trim().replace(/\s/g,"").toLowerCase());break;default:Fs(Un=>Un+1);return}if(vn){const Un={...vn,...gt};St.folderId==="trainee_loads"&&(!gt.primaryInstructor&&vn.primaryInstructor&&(Un.primaryInstructor=vn.primaryInstructor),!gt.secondaryInstructor&&vn.secondaryInstructor&&(Un.secondaryInstructor=vn.secondaryInstructor)),rr(_s=>[..._s,Un])}else js(Un=>[...Un,gt])},fs=()=>{if(rs(!1),!St)return;let Ee=[];switch(St.folderId){case"instructor_loads":Ee=[...u],_n.forEach(En=>{const es=Ee.findIndex(Is=>Is.idNumber===En.idNumber);es!==-1&&(Ee[es]=En)});const vn=Ee.filter(En=>!Cs.some(es=>es.idNumber===En.idNumber));console.log(`[DEBUG] Filtered out ${Ee.length-vn.length} duplicate records`),m([...vn,...Cs]);break;case"trainee_loads":if(Ee=[...f],et){_n.forEach(es=>{const Is=Ee.findIndex(ps=>ps.idNumber===es.idNumber&&ps.course===et);Is!==-1&&(Ee[Is]=es)});const En=Cs.map(es=>({...es,course:et}));if(x([...Ee,...En]),console.log(`[DEBUG] About to initialize LMP for ${En.length} new trainees`),console.log("[DEBUG] onUpdateTraineeLMPs function available:",typeof Le),console.log("[DEBUG] New trainees:",En.map(es=>({name:es.fullName,lmpType:es.lmpType,course:es.course}))),Le&&Le(es=>{console.log(`[DEBUG] LMP initialization started. Previous LMPs count: ${es.size}`);const Is=new Map(es);return En.forEach(ps=>{if(console.log(`[DEBUG] Processing trainee: ${ps.fullName}, LMP Type: ${ps.lmpType}`),ps.fullName&&ps.lmpType){const Xs=h.filter(ar=>ar.courses.includes(ps.lmpType));console.log(`[DEBUG] Found ${Xs.length} master LMP items for ${ps.lmpType}`),Xs.length>0?(Is.set(ps.fullName,[...Xs]),console.log(`[Individual LMP] Initialized ${ps.fullName}'s Individual LMP with ${ps.lmpType} (${Xs.length} events)`)):console.warn(`[Individual LMP] No Master LMP found for LMP type: ${ps.lmpType}`)}else console.warn(`[DEBUG] Skipping trainee ${ps.fullName} - missing fullName or lmpType`)}),console.log(`[DEBUG] LMP initialization complete. New LMPs count: ${Is.size}`),Is}),et&&!ue[et]){const es=["#e74c3c","#3498db","#9b59b6","#1abc9c","#f39c12","#34495e","#16a085","#27ae60","#2980b9"],Is=Object.keys(ue).length%es.length,ps={...ue,[et]:es[Is]};xe(ps),console.log(`üé® Added color for course ${et}: ${es[Is]}`)}}else _n.forEach(En=>{const es=Ee.findIndex(Is=>Is.idNumber===En.idNumber);es!==-1&&(Ee[es]=En)}),x([...Ee,...Cs]);break;case"lmp_loads":const Un=new Map(_n.map(En=>[En.code.trim().replace(/\s/g,"").toLowerCase(),En])),_s=h.map(En=>{const es=En.code.trim().replace(/\s/g,"").toLowerCase();return Un.get(es)||En});T([..._s,...Cs]);break}as({type:"Minor",added:Cs.length,updated:_n.length,skipped:Cr,replaced:0}),Rn(!0);const rn=St.folderId==="instructor_loads"?"Instructors":St.folderId==="trainee_loads"?"Trainees":"LMP Data",gt=et?` for course: ${et}`:"";Pn({page:"Settings - Data Loaders",action:"update",description:`Minor update: ${rn}${gt}`,changes:`Added ${Cs.length}, Updated ${_n.length}, Skipped ${Cr} from file: ${St.name}`}),hn(null),hs([]),js([]),rr([]),Fs(0)},gs=()=>{Nn&&js(Ee=>[...Ee,Nn]),un(!1),os(null),rs(!0)},Os=()=>{Fs(Ee=>Ee+1),un(!1),os(null),rs(!0)},fr=({file:Ee})=>e.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded text-sm group",children:[e.jsxs("div",{className:"flex items-center truncate",children:[e.jsx(SA,{}),e.jsx("span",{className:"truncate text-white",title:Ee.name,children:Ee.name})]}),e.jsxs("div",{className:"flex space-x-2 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>Tr(Ee),className:"p-1 text-gray-400 hover:text-green-400","aria-label":"Update from file",children:e.jsx(CA,{})}),e.jsx("button",{onClick:()=>Fr(Ee),className:"p-1 text-gray-400 hover:text-sky-400","aria-label":"Download file",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),e.jsx("button",{onClick:()=>Ri(Ee),className:"p-1 text-gray-400 hover:text-red-400","aria-label":"Delete file",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]})]},Ee.id);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[vs("validation")&&e.jsx("div",{className:"space-y-6",children:e.jsx(bA,{currentUserRole:Ne,cancellationRecords:ye||[]})}),vs("timezone")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6 w-96",children:[e.jsx("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Timezone Settings"})}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone Offset (UTC)"}),e.jsxs("select",{value:X,onChange:Ee=>J(parseFloat(Ee.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-sky-500",children:[e.jsx("option",{value:"-12",children:"UTC-12:00"}),e.jsx("option",{value:"-11",children:"UTC-11:00"}),e.jsx("option",{value:"-10",children:"UTC-10:00 (Hawaii)"}),e.jsx("option",{value:"-9",children:"UTC-09:00 (Alaska)"}),e.jsx("option",{value:"-8",children:"UTC-08:00 (Pacific)"}),e.jsx("option",{value:"-7",children:"UTC-07:00 (Mountain)"}),e.jsx("option",{value:"-6",children:"UTC-06:00 (Central)"}),e.jsx("option",{value:"-5",children:"UTC-05:00 (Eastern)"}),e.jsx("option",{value:"-4",children:"UTC-04:00"}),e.jsx("option",{value:"-3",children:"UTC-03:00"}),e.jsx("option",{value:"-2",children:"UTC-02:00"}),e.jsx("option",{value:"-1",children:"UTC-01:00"}),e.jsx("option",{value:"0",children:"UTC+00:00 (GMT/UTC)"}),e.jsx("option",{value:"1",children:"UTC+01:00 (CET)"}),e.jsx("option",{value:"2",children:"UTC+02:00"}),e.jsx("option",{value:"3",children:"UTC+03:00"}),e.jsx("option",{value:"4",children:"UTC+04:00"}),e.jsx("option",{value:"5",children:"UTC+05:00"}),e.jsx("option",{value:"5.5",children:"UTC+05:30 (India)"}),e.jsx("option",{value:"6",children:"UTC+06:00"}),e.jsx("option",{value:"7",children:"UTC+07:00"}),e.jsx("option",{value:"8",children:"UTC+08:00 (Singapore/Perth)"}),e.jsx("option",{value:"9",children:"UTC+09:00 (Japan/Korea)"}),e.jsx("option",{value:"9.5",children:"UTC+09:30 (Adelaide)"}),e.jsx("option",{value:"10",children:"UTC+10:00 (AEST Sydney/Brisbane)"}),e.jsx("option",{value:"10.5",children:"UTC+10:30"}),e.jsx("option",{value:"11",children:"UTC+11:00 (AEDT Sydney)"}),e.jsx("option",{value:"12",children:"UTC+12:00 (New Zealand)"}),e.jsx("option",{value:"13",children:"UTC+13:00 (NZDT)"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:["Current server time: ",new Date().toUTCString()]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Your local time: ",new Date(Date.now()+X*60*60*1e3).toUTCString()]})]})})]}),vs("scoring-matrix")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Scoring Matrix"})}),e.jsxs("div",{className:"p-4 grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>Es("Airmanship"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Airmanship"}),e.jsx("button",{onClick:()=>Es("Preparation"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Preparation"}),e.jsx("button",{onClick:()=>Es("Technique"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Technique"}),e.jsx("button",{onClick:()=>Es("Elements"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Elements"})]})]}),vs("location")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Location"}),He?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:xi,className:"px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-xs font-semibold",children:"üíæ Save"}),e.jsx("button",{onClick:Ta,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"})]}):e.jsx("button",{onClick:no,disabled:!ce,className:`px-3 py-1 rounded-md text-xs font-semibold ${ce?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"‚úèÔ∏è Edit"})]}),e.jsx("div",{className:"p-4 space-y-4",children:He?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Manage available operating locations."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:Z.map(Ee=>e.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded",children:[e.jsx("span",{className:"text-white",children:Ee}),e.jsx("button",{onClick:()=>Go(Ee),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]},Ee))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:Xe,onChange:Ee=>ft(Ee.target.value),placeholder:"New location name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"}),e.jsx("button",{onClick:so,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Configured operating locations."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:t.map(Ee=>e.jsx("li",{className:"p-2 bg-gray-700/50 rounded text-white",children:Ee},Ee))})]})})]}),vs("location")&&e.jsx(vA,{callsigns:ee,onUpdateCallsigns:K,units:i,locations:t,canEditSettings:ce,onAuditLog:Pn}),vs("units")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Units"}),tt?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Ba,className:"px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-xs font-semibold",children:"üíæ Save"}),e.jsx("button",{onClick:Ao,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"})]}):e.jsx("button",{onClick:ro,disabled:!ce,className:`px-3 py-1 rounded-md text-xs font-semibold ${ce?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"‚úèÔ∏è Edit"})]}),e.jsx("div",{className:"p-4 space-y-4",children:tt?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Manage units and their primary locations."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:Ke.map(Ee=>e.jsxs("li",{className:"p-2 bg-gray-700/50 rounded",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-white",children:Ee}),e.jsx("button",{onClick:()=>li(Ee),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),e.jsx("select",{value:dn[Ee]||"",onChange:rn=>nn(Ee,rn.target.value),className:"mt-1 block w-full bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-xs",children:t.map(rn=>e.jsx("option",{value:rn,children:rn},rn))})]},Ee))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:Ct,onChange:Ee=>xt(Ee.target.value),placeholder:"New unit name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"}),e.jsx("button",{onClick:Vr,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Configured units and their locations."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:i.map(Ee=>e.jsxs("li",{className:"p-2 bg-gray-700/50 rounded text-white flex justify-between",children:[e.jsx("span",{children:Ee}),e.jsx("span",{className:"text-gray-400",children:l[Ee]})]},Ee))})]})})]}),vs("duty-turnaround")&&e.jsx(wA,{preferredDutyPeriod:D,onUpdatePreferredDutyPeriod:en,maxCrewDutyPeriod:M,onUpdateMaxCrewDutyPeriod:Cn,flightTurnaround:ae,onUpdateFlightTurnaround:Vn,ftdTurnaround:Te,onUpdateFtdTurnaround:xn,cptTurnaround:fe,onUpdateCptTurnaround:ls}),vs("sct-events")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"SCT Events"}),st?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Qr,className:"px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-xs font-semibold",children:"üíæ Save"}),e.jsx("button",{onClick:Fi,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"})]}):e.jsx("button",{onClick:Mi,disabled:!ce,className:`px-3 py-1 rounded-md text-xs font-semibold ${ce?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"‚úèÔ∏è Edit"})]}),e.jsx("div",{className:"p-4 space-y-4",children:st?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Manage SCT event types."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:vt.map(Ee=>e.jsxs("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded",children:[e.jsx("span",{className:"text-white",children:Ee}),e.jsx("button",{onClick:()=>mt(Ee),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]},Ee))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:ze,onChange:Ee=>we(Ee.target.value),placeholder:"New SCT event name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"}),e.jsx("button",{onClick:ke,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"+"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Configured SCT event types."}),e.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:V.map(Ee=>e.jsx("li",{className:"p-2 bg-gray-700/50 rounded text-white",children:Ee},Ee))})]})})]}),vs("currencies")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[40rem] h-fit flex flex-col",children:[e.jsx("div",{className:"p-4 flex justify-between items-center shrink-0",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Currencies"})}),e.jsx("div",{className:"flex-1 overflow-y-auto max-h-[400px]",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"font-medium text-gray-400 px-4 pt-0 pb-2 border-b border-gray-700",children:"Currency"}),e.jsx("th",{className:"font-medium text-gray-400 px-4 pt-0 pb-2 border-b border-gray-700",children:"Type"})]})}),e.jsx("tbody",{children:Ti.map((Ee,rn)=>e.jsxs("tr",{className:"border-t border-gray-700",children:[e.jsx("td",{className:"py-2 px-4 text-gray-200",children:Ee.name}),e.jsx("td",{className:"py-2 px-4 text-gray-300 capitalize",children:Ee.type})]},Ee.id))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-700 shrink-0",children:e.jsx("button",{onClick:()=>O("CurrencyBuilder"),className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Currency Builder"})})]}),vs("business-rules")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[40rem] h-fit",children:[e.jsx("div",{className:"p-4 flex justify-between items-center",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Business Rules"})}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Max dispatch / hr"}),e.jsx("select",{value:se,onChange:Ee=>F(parseInt(Ee.target.value)),disabled:!ce,className:`w-full px-3 py-2 rounded-md border focus:ring-sky-500 focus:border-sky-500 ${ce?"bg-gray-700 border-gray-600 text-white":"bg-gray-600 border-gray-500 text-gray-300 cursor-not-allowed"}`,children:[1,2,3,4,5,6,7,8,9,10,12,15,20].map(Ee=>e.jsx("option",{value:Ee,children:Ee},Ee))}),ce&&e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Maximum number of dispatches allowed per hour"})]})})})]}),vs("data-loaders")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[30rem] h-fit",children:[e.jsx("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Data Loaders"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Templates"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Download templates to ensure correct formatting for bulk uploads."}),e.jsx("button",{onClick:ko,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Staff Template (.xlsx)"}),e.jsx("button",{onClick:Bs,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Trainee Template (.xlsx)"}),e.jsx("button",{onClick:Wr,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download LMP Template (.xlsx)"}),e.jsx("button",{onClick:Ea,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Logbook Template (.xlsx)"})]})]}),e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Data Storage"}),e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsx("p",{className:"text-xs text-gray-400",children:"Manage files stored in the local browser repository for bulk updates or other operations."}),e.jsx("div",{className:"max-h-60 overflow-y-auto pr-2",children:e.jsxs("div",{className:"space-y-4",children:[Bt.map(Ee=>{const rn=lt.filter(vn=>vn.folderId===Ee.id),gt=Ee.isSub;return e.jsxs("div",{className:gt?"ml-8":"",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(J1,{}),e.jsx("h4",{className:"text-sm font-semibold text-gray-300",children:Ee.name})]}),e.jsx("div",{className:"pl-4 border-l-2 border-gray-600 ml-2.5",children:rn.length>0?e.jsx("ul",{className:"space-y-1 pt-2",children:rn.sort((vn,Un)=>vn.name.localeCompare(Un.name)).map(vn=>e.jsx(fr,{file:vn},vn.id))}):e.jsx("p",{className:"text-xs text-gray-500 italic pl-3 pt-1",children:"Empty"})})]},Ee.id)}),Js.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(J1,{}),e.jsx("h4",{className:"text-sm font-semibold text-gray-300",children:"Uncategorized"})]}),e.jsx("div",{className:"pl-4 border-l-2 border-gray-600 ml-2.5",children:e.jsx("ul",{className:"space-y-1 pt-2",children:Js.sort((Ee,rn)=>Ee.name.localeCompare(rn.name)).map(Ee=>e.jsx(fr,{file:Ee},Ee.id))})})]},"uncategorized")]})}),e.jsx("button",{onClick:ir,className:"w-full mt-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"Upload File"})]})]})]})]}),vs("event-limits")&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-96 h-fit",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-200",children:"Events Limits"}),Re?e.jsx("button",{onClick:an,className:"px-3 py-1 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-xs font-semibold",children:"üíæ Save"}):e.jsx("button",{onClick:Yt,disabled:!ce,className:`px-3 py-1 rounded-md text-xs font-semibold ${ce?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"‚úèÔ∏è Edit"})]}),e.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Execs"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"}),Re?e.jsx("input",{type:"number",value:Ze.exec.maxFlightFtd,onChange:Ee=>ot({...Ze,exec:{...Ze.exec,maxFlightFtd:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max Duty Sup:"}),Re?e.jsx("input",{type:"number",value:Ze.exec.maxDutySup,onChange:Ee=>ot({...Ze,exec:{...Ze.exec,maxDutySup:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max total all events:"}),Re?e.jsx("input",{type:"number",value:Ze.exec.maxTotal||2,onChange:Ee=>ot({...Ze,exec:{...Ze.exec,maxTotal:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]})]})]}),e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Staff"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"}),Re?e.jsx("input",{type:"number",value:Ze.instructor.maxFlightFtd||2,onChange:Ee=>ot({...Ze,instructor:{...Ze.instructor,maxFlightFtd:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Staff (Flying Supervisor role assigned) - Max Duty Sup:"}),Re?e.jsx("input",{type:"number",value:Ze.instructor.maxDutySup,onChange:Ee=>ot({...Ze,instructor:{...Ze.instructor,maxDutySup:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max total all events:"}),Re?e.jsx("input",{type:"number",value:Ze.instructor.maxTotal||3,onChange:Ee=>ot({...Ze,instructor:{...Ze.instructor,maxTotal:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"3"})]})]})]}),e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Trainees"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"}),Re?e.jsx("input",{type:"number",value:Ze.trainee.maxFlightFtd||1,onChange:Ee=>ot({...Ze,trainee:{...Ze.trainee,maxFlightFtd:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"1"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max total all events:"}),Re?e.jsx("input",{type:"number",value:Ze.trainee.maxTotal||2,onChange:Ee=>ot({...Ze,trainee:{maxTotal:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]})]})]}),e.jsxs("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"SIM IPs"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max FTD:"}),Re?e.jsx("input",{type:"number",value:Ze.simIp.maxFtd||2,onChange:Ee=>ot({...Ze,simIp:{...Ze.simIp,maxFtd:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Max total all events:"}),Re?e.jsx("input",{type:"number",value:Ze.simIp.maxTotal||2,onChange:Ee=>ot({...Ze,simIp:{maxTotal:parseInt(Ee.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"}):e.jsx("span",{className:"text-white font-mono",children:"2"})]})]})]})]})]}),vs("permissions")&&e.jsx(NA,{instructors:u,trainees:f,onUpdateInstructorPermission:(Ee,rn)=>{var _s;const gt=u.find(En=>En.idNumber===Ee),vn=((_s=gt==null?void 0:gt.permissions)==null?void 0:_s[0])||"None",Un=u.map(En=>En.idNumber===Ee?{...En,permissions:[rn]}:En);m(Un),Pn({page:"Settings - Permissions",action:"update",description:`Updated instructor permission: ${gt==null?void 0:gt.name}`,changes:`From: ${vn} To: ${rn}`})},onUpdateTraineePermission:(Ee,rn)=>{var _s;const gt=f.find(En=>En.idNumber===Ee),vn=((_s=gt==null?void 0:gt.permissions)==null?void 0:_s[0])||"None",Un=f.map(En=>En.idNumber===Ee?{...En,permissions:[rn]}:En);x(Un),Pn({page:"Settings - Permissions",action:"update",description:`Updated trainee permission: ${gt==null?void 0:gt.name}`,changes:`From: ${vn} To: ${rn}`})},onShowSuccess:E,currentUserPermission:Ne})]}),Vt&&e.jsx(mA,{onClose:()=>Pt(!1),phraseBank:R,onUpdatePhraseBank:Zs,initialTab:yn}),Kt&&e.jsx(rA,{onClose:()=>Mt(!1),onConfirm:Pi}),Mn&&Ve&&e.jsx(iA,{onClose:()=>jn(!1),onConfirm:Oa,fileName:Ve.name,folders:Bt.filter(Ee=>!Ee.isSub)}),je&&e.jsx(aA,{fileName:je.name,onConfirm:ja,onClose:()=>$e(null)}),Ye&&e.jsx(oA,{fileName:Ye.name,onConfirm:ci,onClose:()=>Dt(null)}),Ce&&St&&e.jsx(lA,{fileName:St.name,onConfirm:Do,onClose:()=>At(!1)}),B&&e.jsx(gA,{courses:sa,onConfirm:di,onClose:()=>Ae(!1),updateType:rt}),ts&&Nn&&e.jsx(cA,{rowData:Nn,onConfirm:gs,onCancel:Os}),ss&&e.jsx(dA,{message:Jn,onClose:()=>Hn(!1)}),Fn&&e.jsx(uA,{summary:Qn,onClose:()=>Rn(!1)})]})},jA=n=>{const[t,s]=C.useState("scoring-matrix"),i=[{id:"validation",label:"AC History",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})},{id:"timezone",label:"Timezone",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})},{id:"scoring-matrix",label:"Scoring Matrix",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})]})},{id:"location",label:"Location",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})},{id:"units",label:"Units",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})},{id:"duty-turnaround",label:"Duty & Turnaround",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})},{id:"sct-events",label:"SCT Events",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})})},{id:"currencies",label:"Currencies",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})},{id:"business-rules",label:"Business Rules",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4.75A.75.75 0 013.75 4h12.5a.75.75 0 010 1.5H3.75A.75.75 0 013 4.75zm0 4.5a.75.75 0 01.75-.75h12.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75zm0 4.5a.75.75 0 01.75-.75h12.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})},{id:"data-loaders",label:"Data Loaders",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})},{id:"event-limits",label:"Event Limits",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})},{id:"permissions",label:"Permissions",icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}];return e.jsxs("div",{className:"flex-1 flex overflow-hidden bg-gray-900",children:[e.jsxs("div",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col flex-shrink-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-700",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Configuration"})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:i.map(o=>e.jsx("button",{onClick:()=>s(o.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all ${t===o.id?"bg-sky-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[o.icon,e.jsx("span",{className:"font-medium",children:o.label})]})},o.id))}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsx(Qa,{pageName:"Settings"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-3",children:[t==="validation"&&"AC History",t==="timezone"&&"Timezone Settings",t==="scoring-matrix"&&"Scoring Matrix",t==="location"&&"Location",t==="units"&&"Units",t==="duty-turnaround"&&"Duty & Turnaround",t==="sct-events"&&"SCT Events",t==="currencies"&&"Currencies",t==="business-rules"&&"Business Rules",t==="data-loaders"&&"Data Loaders",t==="event-limits"&&"Event Limits",t==="permissions"&&"Permissions Manager"]}),!["Super Admin","Admin","Scheduler"].includes(n.currentUserPermission)&&e.jsx("div",{className:"text-sm text-yellow-200 bg-yellow-900/30 border border-yellow-600/50 rounded px-3 py-2 inline-block",children:e.jsx("strong",{children:"Read-Only Mode"})})]}),e.jsx(TA,{...n,hideHeader:!0,activeSection:t})]})})]})},EA=()=>e.jsx("div",{children:"Authorisation View Component"}),AA=({locality:n})=>e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[90] flex items-center justify-center animate-fade-in pointer-events-none",children:e.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-sky-500 p-12 max-w-2xl text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-white",children:["Locality Changed to ",n]}),e.jsxs("p",{className:"mt-2 text-lg text-gray-300",children:["All subsequent scheduling and data modifications will now apply to the ",n," Daily Flying Program."]})]})]})})}),kA=({event:n,onReturn:t,onSave:s,school:i,traineesData:o,instructorsData:l})=>{var Bt,Kt;C.useMemo(()=>{const Mt=n.student||n.pilot;return o.find(Ve=>Ve.fullName===Mt)},[n,o]);const[d,u]=C.useState(""),[f,h]=C.useState("001"),[m,v]=C.useState(i),[x,y]=C.useState(i),[T,E]=C.useState(n.type==="flight"),[A,_]=C.useState(n.type==="ftd"),[R,H]=C.useState(n.flightType==="Solo"),[O,W]=C.useState(n.flightType==="Dual"),[ne,V]=C.useState(""),[U,D]=C.useState(""),[$,M]=C.useState(`${n.origin||i}-${n.destination||i} : ${n.flightNumber}`),[P,ae]=C.useState(""),[Q,Te]=C.useState(""),[Y,fe]=C.useState(""),[ge,Ne]=C.useState(""),[Oe,se]=C.useState(""),[F,X]=C.useState(""),[J,ee]=C.useState(!1),[K,ue]=C.useState(0),[xe,Le]=C.useState(!1),[ye,pe]=C.useState(0),[ce,He]=C.useState(!1),[_e,Z]=C.useState(0),[Fe,Xe]=C.useState(!1),[ft,tt]=C.useState(0),[We,Ke]=C.useState(!1),nt=C.useRef(null),[Ct,xt]=C.useState(!1),[dn,on]=C.useState("Saved"),st=C.useRef(!0),kt=Mt=>{if(!Mt)return"";const Ve=Mt.split(" ‚Äì ")[0],qt=l.find(jn=>jn.name===Ve);if(qt)return`${qt.rank} ${Ve.split(",")[0]}`;const Mn=o.find(jn=>jn.name===Ve||jn.fullName===Mt);return Mn?`${Mn.rank} ${Ve.split(",")[0]}`:Ve.split(",")[0]},Ge=C.useMemo(()=>{const Mt=je=>{const $e=je.replace(":","");if($e.length<4)return null;const Ye=parseInt($e.substring(0,2),10),Dt=parseInt($e.substring(2,4),10);return isNaN(Ye)||isNaN(Dt)?null:Ye*60+Dt},Ve=Mt(ne),qt=Mt(U);if(Ve===null||qt===null)return"0.0";let Mn=qt-Ve;return Mn<0&&(Mn+=1440),(Mn/60).toFixed(1)},[ne,U]);C.useEffect(()=>{const Mt=n.startTime,Ve=String(Math.floor(Mt)).padStart(2,"0"),qt=String(Math.round(Mt%1*60)).padStart(2,"0"),Mn=`${Ve}:${qt}`;V(Mn);const jn=n.landTime||n.startTime+n.duration,je=String(Math.floor(jn)).padStart(2,"0"),$e=String(Math.round(jn%1*60)).padStart(2,"0"),Ye=`${je}:${$e}`;D(Ye),nt.current||(nt.current={result:"",aircraftNumber:"001",from:i,to:i,isFlightLog:n.type==="flight",isFtdLog:n.type==="ftd",isSolo:n.flightType==="Solo",isDual:n.flightType==="Dual",duty:`${n.origin||i}-${n.destination||i} : ${n.flightNumber}`,takeoffTime:Mn,landTime:Ye,captainTime:"",instructorTime:"",nightTime:"",ifActualTime:"",ifSimTime:"",ineffectiveTime:"",ilsChecked:!1,ilsCount:0,rnpChecked:!1,rnpCount:0,tacanChecked:!1,tacanCount:0,vorChecked:!1,vorCount:0})},[n,i]),C.useEffect(()=>{O&&(Te(Ge),ae(Ge))},[O,Ge]);const ht=Mt=>{var kn,ts,un,Nn;const Ve=parseFloat(Ge)||0,qt=parseFloat(ge)||0,Mn=(xe?ye:0)+(ce?_e:0)+(Fe?ft:0),jn=J?K:0;let je=0,$e=0,Ye=0,Dt=0,St=0,hn=0,Ce=0,At="",B="",Ae=0;if(T)if(Mt==="Crew"&&R)Ae=0;else{Ae=Ve;const os=parseFloat(Y)||0,ss=Math.max(0,Ve-os);Mt==="Captain"?(je=ss,Ye=os,At=P||(O?Ge:""),O&&(B=Q||Ge)):Mt==="Crew"&&O&&($e=ss,Dt=os)}else A&&(Mt==="Crew"&&R?Ce=0:(Ce=Ve,Mt==="Captain"?B=Ge:Mt==="Crew"&&(hn=Ve)));const rt=new Date(n.date),yt=rt.getFullYear().toString().slice(-2),et=rt.toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),$t=((ts=(kn=n.instructor||n.pilot)==null?void 0:kn.split(" ‚Äì ")[0])==null?void 0:ts.split(",")[0])||"",pn=((Nn=(un=n.student)==null?void 0:un.split(" ‚Äì ")[0])==null?void 0:Nn.split(",")[0])||(R?"Solo":"");return{year:yt,date:et,type:A?"FTD":"PC-21",tail:A?`FTD-${f}`:`A54-${f}`,captain:$t,crew:pn,duty:$,dayP1:je>0?je.toFixed(1):"",dayP2:"",dayDual:$e>0?$e.toFixed(1):"",nightP1:Ye>0?Ye.toFixed(1):"",nightP2:"",nightDual:Dt>0?Dt.toFixed(1):"",total:Ae>0?Ae.toFixed(1):"",captTime:At,instTime:B,simActual:qt>0?qt.toFixed(1):"",app2D:Mn>0?Mn:"",app3D:jn>0?jn:"",simP1:St>0?St.toFixed(1):"",simP2:"",simDual:hn>0?hn.toFixed(1):"",simTotal:Ce>0?Ce.toFixed(1):""}};C.useEffect(()=>{if(!nt.current)return;const Mt={result:d,aircraftNumber:f,from:m,to:x,isFlightLog:T,isFtdLog:A,isSolo:R,isDual:O,duty:$,takeoffTime:ne,landTime:U,captainTime:P,instructorTime:Q,nightTime:Y,ifActualTime:ge,ifSimTime:Oe,ineffectiveTime:F,ilsChecked:J,ilsCount:J?K:0,rnpChecked:xe,rnpCount:xe?ye:0,tacanChecked:ce,tacanCount:ce?_e:0,vorChecked:Fe,vorCount:Fe?ft:0},Ve={...nt.current,ilsCount:nt.current.ilsChecked?nt.current.ilsCount:0,rnpCount:nt.current.rnpChecked?nt.current.rnpCount:0,tacanCount:nt.current.tacanChecked?nt.current.tacanCount:0,vorCount:nt.current.vorChecked?nt.current.vorCount:0};JSON.stringify(Mt)!==JSON.stringify(Ve)&&(xt(!0),on("Saving..."))},[d,f,m,x,T,A,R,O,$,ne,U,P,Q,Y,ge,Oe,F,J,K,xe,ye,ce,_e,Fe,ft]);const vt=C.useMemo(()=>Array.from({length:49},(Mt,Ve)=>String(Ve+1).padStart(3,"0")),[]),Ht=Mt=>{const Ve=d;u(Mt),Ve&&Mt&&Ve!==Mt&&jo(`postflight-${n.id}-result`,"Edit",`Updated post-flight result for ${n.flightNumber}`)},ze=async(Mt=!1)=>{const Ve={result:d,aircraftNumber:f,from:m,to:x,isFlightLog:T,isFtdLog:A,isSolo:R,isDual:O,duty:$,takeoffTime:ne,landTime:U,totalTime:Ge,captainTime:P,instructorTime:Q,nightTime:Y,ifActualTime:ge,ifSimTime:Oe,ineffectiveTime:F,approaches:{ils:J?K:0,rnp:xe?ye:0,tacan:ce?_e:0,vor:Fe?ft:0}};if(!Mt){og();const jn=[];jn.push(`Result: ${d}`),ne&&jn.push(`Takeoff: ${ne}`),U&&jn.push(`Land: ${U}`),Ge&&jn.push(`Total Time: ${Ge}`),Pn({action:"Edit",description:`Saved post-flight data for ${n.flightNumber}`,changes:jn.join(", "),page:"Post-Flight"})}Mt||s(Ve);let qt="trainee_logbook",Mn=n.student;if((!Mn||Mn==="Multiple")&&(n.pilot?Mn=n.pilot:n.instructor&&(Mn=n.instructor,qt="staff_logbook")),Mn){const jn=Mn.split(" ‚Äì ")[0].replace(/,\s/g,"_"),je=`Entry_${n.date}_${n.flightNumber.replace(/\s/g,"")}_${jn}.json`;try{const $e=JSON.stringify(Ve,null,2),Ye=new File([$e],je,{type:"application/json"});await cd(Ye,qt,je)}catch($e){console.error("Failed to auto-save post-flight data to file:",$e)}}Mt||(xt(!1),on("Saved"))};C.useEffect(()=>{if(st.current){st.current=!1;return}if(Ct){const Mt=setTimeout(()=>{ze(!0),on("Saved"),xt(!1)},1e3);return()=>clearTimeout(Mt)}},[Ct,d,f,m,x,T,A,R,O,$,ne,U,P,Q,Y,ge,Oe,F,J,K,xe,ye,ce,_e,Fe,ft]);const we=()=>{Ct?Ke(!0):t()},Re=()=>{ze(!1)},be=(Mt,Ve)=>{let qt=Mt.target.value.replace(/[^0-9]/g,"");qt.length>4&&(qt=qt.substring(0,4)),qt.length>2&&(qt=qt.slice(0,2)+":"+qt.slice(2)),Ve(qt)},Ze=Mt=>{Mt.target.checked&&(E(!0),_(!1))},ot=Mt=>{Mt.target.checked&&(_(!0),E(!1))},Vt=Mt=>{const Ve=Mt.target.checked;H(Ve),W(!Ve)},Pt=Mt=>{const Ve=Mt.target.checked;W(Ve),H(!Ve)},yn=({value:Mt})=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"result",value:Mt,checked:d===Mt,onChange:Ve=>Ht(Ve.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"}),e.jsx("span",{className:"text-white",children:Mt})]}),Tt=({label:Mt,isChecked:Ve,setIsChecked:qt,count:Mn,setCount:jn})=>e.jsxs("div",{className:"flex-shrink-0 flex items-end space-x-1",children:[e.jsxs("label",{className:"flex items-center space-x-1 pb-2 cursor-pointer h-[38px]",children:[e.jsx("span",{className:"text-sm font-medium text-gray-400 w-10 text-right",children:Mt}),e.jsx("input",{type:"checkbox",checked:Ve,onChange:je=>{const $e=je.target.checked;qt($e),$e&&Mn===0&&jn(1)},className:"h-4 w-4 accent-sky-500 bg-gray-600 rounded border-gray-500"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("label",{className:"text-xs font-medium text-gray-400 mb-1",children:"Number"}),e.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:Mn===0?"":Mn,onChange:je=>jn(parseInt(je.target.value,10)||0),disabled:!Ve,className:"block w-10 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-1 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed"})]})]}),lt=({label:Mt,subLabel:Ve,value:qt,width:Mn,bgColor:jn="bg-gray-800",borderColor:je="border-gray-600",customTextClass:$e="text-xs"})=>e.jsxs("div",{className:`flex flex-col items-center justify-end ${Mn} flex-shrink-0 border-r ${je} last:border-r-0`,children:[(Mt||Ve)&&e.jsxs("div",{className:"w-full text-center border-b border-gray-700 bg-gray-900/30 py-0.5",children:[Mt&&e.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase leading-tight",children:Mt}),Ve&&e.jsx("div",{className:"text-[8px] text-gray-500 leading-tight",children:Ve})]}),e.jsx("div",{className:`w-full ${jn} text-white ${$e} font-mono py-1.5 text-center truncate px-0.5 h-7`,children:qt})]}),Et=({title:Mt,data:Ve})=>e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"text-sm font-bold text-sky-400 mb-1 ml-1",children:Mt}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex flex-nowrap bg-gray-900 border border-gray-600 rounded-md min-w-max",children:[e.jsx(lt,{label:"Year",value:Ve.year,width:"w-10"}),e.jsx(lt,{label:"Date",value:Ve.date,width:"w-14"}),e.jsx(lt,{label:"Type",value:Ve.type,width:"w-12"}),e.jsx(lt,{label:"Tail",subLabel:"(Mark)",value:Ve.tail,width:"w-16"}),e.jsx(lt,{label:"Captain",value:Ve.captain,width:"w-24"}),e.jsx(lt,{label:"Co-Pilot /",subLabel:"Crew",value:Ve.crew,width:"w-24"}),e.jsx(lt,{label:"Duty",value:Ve.duty,width:"w-24",customTextClass:"text-[8px]"}),e.jsxs("div",{className:"flex flex-col border-r border-gray-600",children:[e.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Day Flying"}),e.jsxs("div",{className:"flex",children:[e.jsx(lt,{subLabel:"P1",value:Ve.dayP1,width:"w-10",borderColor:"border-gray-700"}),e.jsx(lt,{subLabel:"P2",value:Ve.dayP2,width:"w-10",borderColor:"border-gray-700"}),e.jsx(lt,{subLabel:"Dual",value:Ve.dayDual,width:"w-10",borderColor:"border-transparent"})]})]}),e.jsxs("div",{className:"flex flex-col border-r border-gray-600",children:[e.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Night Flying"}),e.jsxs("div",{className:"flex",children:[e.jsx(lt,{subLabel:"P1",value:Ve.nightP1,width:"w-10",borderColor:"border-gray-700"}),e.jsx(lt,{subLabel:"P2",value:Ve.nightP2,width:"w-10",borderColor:"border-gray-700"}),e.jsx(lt,{subLabel:"Dual",value:Ve.nightDual,width:"w-10",borderColor:"border-transparent"})]})]}),e.jsx(lt,{label:"TOTAL",value:Ve.total,width:"w-12",bgColor:"bg-gray-700/50"}),e.jsx(lt,{label:"Captain",value:Ve.captTime,width:"w-12"}),e.jsx(lt,{label:"Instructor",value:Ve.instTime,width:"w-12"}),e.jsx(lt,{label:"Sim",value:"",width:"w-10"})," ",e.jsx(lt,{label:"Actual",value:Ve.simActual,width:"w-10"}),e.jsx(lt,{label:"2D App",value:String(Ve.app2D),width:"w-10"}),e.jsx(lt,{label:"3D App",value:String(Ve.app3D),width:"w-10"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Simulator"}),e.jsxs("div",{className:"flex",children:[e.jsx(lt,{subLabel:"P1",value:Ve.simP1,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"}),e.jsx(lt,{subLabel:"P2",value:Ve.simP2,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"}),e.jsx(lt,{subLabel:"Dual",value:Ve.simDual,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"}),e.jsx(lt,{subLabel:"TOTAL",value:Ve.simTotal,width:"w-10",borderColor:"border-transparent",bgColor:"bg-gray-800/50"})]})]})]})})]});return e.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900 h-full",children:[e.jsxs("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 w-1/3",children:[e.jsx("span",{className:"font-bold text-white text-lg",children:n.flightNumber}),e.jsxs("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${dn==="Saved"?"bg-green-500":dn==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`}),e.jsx("span",{className:"text-xs text-gray-300 font-mono uppercase",children:dn==="Saved"?"Saved":dn})]})]}),e.jsx("h2",{className:"text-xl font-bold text-sky-400 text-center w-1/3",children:"POST FLIGHT TIMES"}),e.jsx("span",{className:"font-mono text-gray-300 text-lg w-1/3 text-right",children:n.date})]}),e.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto w-full",children:[e.jsx("div",{className:"flex items-start gap-6",children:e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(yn,{value:"DCO"}),e.jsx(yn,{value:"DPCO"}),e.jsx(yn,{value:"DNCO"})]})]})}),e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-lg font-semibold text-gray-300",children:"Times"}),e.jsxs("div",{className:"mt-2 flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Flight"}),e.jsx("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:T,onChange:Ze,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"})})]}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"FTD"}),e.jsx("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:A,onChange:ot,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"})})]}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Solo"}),e.jsx("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:R,onChange:Vt,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"})})]}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Dual"}),e.jsx("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:e.jsx("input",{type:"checkbox",checked:O,onChange:Pt,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"})})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Date"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center",children:n.date})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Aircraft"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center",children:"PC-21"})]}),e.jsxs("div",{className:"flex-shrink-0",style:{width:"6.75rem"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Number"}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx("span",{className:"p-2 bg-gray-700 rounded-l-md text-white h-[38px] flex items-center",children:"A54-"}),e.jsx("select",{value:f,onChange:Mt=>h(Mt.target.value),className:"block w-full bg-gray-700 border border-gray-600 rounded-r-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm appearance-none text-center",children:vt.map(Mt=>e.jsx("option",{value:Mt,children:Mt},Mt))})]})]}),e.jsxs("div",{className:"flex-shrink-0",style:{width:"12rem"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Duty"}),e.jsx("input",{type:"text",value:$,onChange:Mt=>M(Mt.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white text-xs focus:outline-none focus:ring-sky-500"})]}),e.jsxs("div",{className:"flex-1 min-w-0",style:{flexBasis:"8rem"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Captain/Instructor"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center truncate",children:(Bt=n.instructor||n.pilot)==null?void 0:Bt.split(" ‚Äì ")[0]})]}),e.jsxs("div",{className:"flex-1 min-w-0",style:{flexBasis:"6rem"},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Crew/Trainee"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center truncate",children:R?"Solo":(Kt=n.student)==null?void 0:Kt.split(" ‚Äì ")[0]})]})]}),e.jsxs("div",{className:"mt-4 flex items-end space-x-4 overflow-x-auto pb-2",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400 text-center",children:"Route"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("input",{type:"text",value:m,onChange:Mt=>v(Mt.target.value.toUpperCase()),maxLength:3,placeholder:"From",className:"w-16 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-2 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center"}),e.jsx("input",{type:"text",value:x,onChange:Mt=>y(Mt.target.value.toUpperCase()),maxLength:3,placeholder:"To",className:"w-16 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center"})]})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Takeoff"}),e.jsx("input",{type:"text",value:ne,onChange:Mt=>be(Mt,V),placeholder:"HH:MM",className:"mt-1 block w-24 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Land"}),e.jsx("input",{type:"text",value:U,onChange:Mt=>be(Mt,D),placeholder:"HH:MM",className:"mt-1 block w-24 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Total"}),e.jsx("div",{className:"mt-1 p-2 bg-gray-900/50 border border-gray-500 rounded-md text-white h-[38px] flex items-center justify-center font-mono w-20",children:Ge})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Captain"}),e.jsx("input",{type:"text",value:P,onChange:Mt=>ae(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Instructor"}),e.jsx("input",{type:"text",value:Q,onChange:Mt=>Te(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Night"}),e.jsx("input",{type:"text",value:Y,onChange:Mt=>fe(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"IF Actual"}),e.jsx("input",{type:"text",value:ge,onChange:Mt=>Ne(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"IF Sim"}),e.jsx("input",{type:"text",value:Oe,onChange:Mt=>se(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-400",children:"Ineffective"}),e.jsx("input",{type:"text",value:F,onChange:Mt=>X(Mt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"})]}),e.jsx(Tt,{label:"ILS/GLS",isChecked:J,setIsChecked:ee,count:K,setCount:ue}),e.jsx(Tt,{label:"RNP",isChecked:xe,setIsChecked:Le,count:ye,setCount:pe}),e.jsx(Tt,{label:"TACAN",isChecked:ce,setIsChecked:He,count:_e,setCount:Z}),e.jsx(Tt,{label:"VOR/DME",isChecked:Fe,setIsChecked:Xe,count:ft,setCount:tt})]})]}),e.jsx(Et,{title:`Captain's Log (${kt(n.instructor||n.pilot)})`,data:ht("Captain")}),!R&&e.jsx(Et,{title:`Crew's Log (${kt(n.student)})`,data:ht("Crew")})]})}),e.jsxs("div",{className:"flex-shrink-0 px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:Re,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Save & Return"}),e.jsx("button",{onClick:we,className:"px-4 py-2 bg-transparent border border-gray-600 text-gray-300 rounded-md hover:bg-gray-700 hover:text-white transition-colors text-sm",children:"Return"}),e.jsx(Qa,{pageName:"Post-Flight"})]}),We&&e.jsx(Pv,{onSaveAndExit:()=>{Ke(!1),Re(),t()},onExitWithoutSaving:()=>{Ke(!1),t()},onCancel:()=>Ke(!1)})]})},il=({label:n,value:t,className:s=""})=>e.jsxs("div",{className:`bg-gray-700/50 p-3 rounded-lg ${s}`,children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase tracking-wider",children:n}),e.jsx("p",{className:"mt-1 text-md font-semibold text-white",children:t})]}),Vd=({title:n,items:t})=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-sky-400 mb-2",children:n}),e.jsx("div",{className:"bg-gray-700/50 p-3 rounded-lg text-sm text-gray-300",children:t&&t.length>0?e.jsx("ul",{className:"space-y-1 list-disc list-inside",children:t.map((s,i)=>e.jsx("li",{children:s},i))}):e.jsx("p",{className:"italic text-gray-500",children:"None"})})]}),DA=(n,t)=>{const s={"2-5":{text:"text-green-300",bg:"bg-green-500/20"},1:{text:"text-amber-300",bg:"bg-amber-500/20"},0:{text:"text-red-300",bg:"bg-red-500/20"}},i=n>=2?"2-5":n===1?"1":"0";return s[i][t]},_A=n=>n.type==="Flight"?"Flight":n.type==="FTD"?"FTD":n.type==="Ground School"?n.code.includes("CPT")?"CPT":"Ground":"Flight",IA=({item:n,score:t})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white",children:n.code}),e.jsx("p",{className:"text-lg text-gray-400 mt-1",children:n.eventDescription})]}),e.jsxs("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Core Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[e.jsx(il,{label:"Phase",value:n.phase}),e.jsx(il,{label:"Module",value:n.module}),e.jsx(il,{label:"Type",value:_A(n)}),e.jsx(il,{label:"Day/Night",value:n.dayNight||"Day"}),e.jsx(il,{label:"Dual/Solo",value:n.sortieType||"Dual"}),e.jsx(il,{label:"Total Event Hours",value:e.jsxs(e.Fragment,{children:[n.totalEventHours.toFixed(1)," ",e.jsx("span",{className:"text-sm font-normal",children:"hrs"})]})}),e.jsx(il,{label:"Flight/Sim Hours",value:e.jsxs(e.Fragment,{children:[n.flightOrSimHours.toFixed(1)," ",e.jsx("span",{className:"text-sm font-normal",children:"hrs"})]})})]})]}),t&&e.jsxs("fieldset",{className:"p-4 border border-sky-700 rounded-lg bg-sky-900/10",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-sky-300",children:"Trainee's Score"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[e.jsx(il,{label:"Overall Score",value:n.type==="Ground School"?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"-"}),e.jsx("span",{className:"text-green-300",children:"Complete"})]}):e.jsx("span",{className:`text-xl ${DA(t.score,"text")}`,children:t.score})}),e.jsx(il,{label:"Date",value:t.date}),e.jsx(il,{label:"Instructor",value:t.instructor})]}),e.jsx("div",{className:"mt-4",children:e.jsx(il,{label:"Notes",value:e.jsx("p",{className:"whitespace-pre-wrap",children:t.notes})})})]}),e.jsxs("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Prerequisites"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[e.jsx(Vd,{title:"Ground School",items:n.prerequisitesGround}),e.jsx(Vd,{title:"Sim/Flying",items:n.prerequisitesFlying})]})]}),e.jsxs("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Event Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[e.jsx(Vd,{title:"Methods of Delivery",items:n.methodOfDelivery}),e.jsx(Vd,{title:"Methods of Assessment",items:n.methodOfAssessment})]})]}),e.jsxs("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Resources"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[e.jsx(Vd,{title:"Physical Resources",items:n.resourcesPhysical}),e.jsx(Vd,{title:"Human Resources",items:n.resourcesHuman})]})]})]}),LA=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),MA=({trainee:n,traineeLmp:t,scores:s,onBack:i})=>{const[o,l]=C.useState(null),d=C.useMemo(()=>new Set(s.map(u=>u.event)),[s]);return C.useEffect(()=>{l(null)},[n.fullName]),e.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-hidden",children:[e.jsxs("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Individual LMP"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[n.rank," ",n.name," - ",n.course]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:"‚Üê Back - Trainee Profile"}),e.jsx(Qa,{pageName:"Individual LMP"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-row overflow-hidden",children:[e.jsx("div",{className:"w-1/4 border-r border-gray-700 overflow-y-auto",children:e.jsx("ul",{className:"p-2 space-y-1",children:t.map(u=>{const f=d.has(u.code);return e.jsx("li",{children:e.jsxs("button",{onClick:()=>l(u),className:`w-full text-left p-2 rounded-md transition-colors text-sm flex items-center space-x-2 ${(o==null?void 0:o.code)===u.code?"bg-sky-700 text-white font-semibold":"text-gray-300 hover:bg-gray-700/50"}`,children:[f?e.jsx(LA,{}):e.jsx("div",{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:u.code})]})},u.code)})})}),e.jsx("div",{className:"w-3/4 overflow-y-auto",children:e.jsx("div",{className:"p-6 max-w-5xl mx-auto",children:o?e.jsx(IA,{item:o,score:s.find(u=>u.event===o.code)}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-500 italic",children:"Select an item from the list to view its details."})})})})]})]})},FA=({trainee:n,instructors:t,scores:s,traineeLmp:i,onClose:o,onSave:l})=>{const[d,u]=C.useState(""),[f,h]=C.useState([]),[m,v]=C.useState({quantity:0,duration:1,instructor:""}),[x,y]=C.useState({quantity:0,duration:1.5,instructor:""}),[T,E]=C.useState({quantity:0,duration:1.5,instructor:""}),A=C.useMemo(()=>s.filter(D=>D.score===0||D.score===1).map(D=>i.find($=>$.id===D.event)).filter(D=>!!D).sort((D,$)=>new Date(s.find(M=>M.event===$.id).date).getTime()-new Date(s.find(M=>M.event===D.id).date).getTime()),[s,i]),_=C.useMemo(()=>{const $=i.map(M=>{const P=s.find(ae=>ae.event===M.id);return{item:M,score:P,date:P&&P.score>=0?new Date(P.date).getTime():null}}).filter(M=>M.score&&M.score.score>=0&&M.date!==null).sort((M,P)=>P.date-M.date);return $.length>0?$[0].item:null},[i,s]),R=C.useMemo(()=>{if(!_)return null;const D=i.findIndex($=>$.id===_.id);return D>=0&&D<i.length-1?i[D+1]:null},[i,_]),H=C.useMemo(()=>i.find(D=>D.id===d),[d,i]),O=C.useMemo(()=>H?{...H,code:`${H.code}-RF`,eventDescription:`Re-Fly: ${H.eventDescription}`}:null,[H]),W=()=>{const D=[];if(m.quantity>0&&m.instructor&&m.duration>0)for(let $=0;$<m.quantity;$++)D.push({id:_r(),type:"TUT",duration:m.duration,instructor:m.instructor});if(x.quantity>0&&x.instructor&&x.duration>0)for(let $=0;$<x.quantity;$++)D.push({id:_r(),type:"FTD",duration:x.duration,instructor:x.instructor});if(T.quantity>0&&T.instructor&&T.duration>0)for(let $=0;$<T.quantity;$++)D.push({id:_r(),type:"Flight",duration:T.duration,instructor:T.instructor});D.length>0?(h($=>[...$,...D]),v({quantity:0,duration:1,instructor:""}),y({quantity:0,duration:1.5,instructor:""}),E({quantity:0,duration:1.5,instructor:""})):alert("Please enter a quantity, duration, and instructor for at least one event type.")},ne=D=>{h($=>$.filter(M=>M.id!==D))},V=()=>{if(!H||f.length===0){alert("Please select an event to remediate and add at least one remedial event.");return}l(n,H,f)},U=({label:D,state:$,setState:M})=>e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"w-28 flex-shrink-0",children:e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:D})}),e.jsxs("div",{style:{width:"4.5rem"},children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Qty"}),e.jsx("input",{type:"number",min:"0",value:$.quantity,onChange:P=>M(ae=>({...ae,quantity:parseInt(P.target.value,10)||0})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"})]}),e.jsxs("div",{style:{width:"6rem"},children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Dur (hrs)"}),e.jsx("input",{type:"number",step:"0.1",min:"0",value:$.duration,onChange:P=>M(ae=>({...ae,duration:parseFloat(P.target.value)||0})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"})]}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400",children:"Instructor"}),e.jsxs("select",{value:$.instructor,onChange:P=>M(ae=>({...ae,instructor:P.target.value})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm",children:[e.jsx("option",{value:"",disabled:!0,children:"Select"}),t.map(P=>e.jsx("option",{value:P.name,children:P.name},P.idNumber))]})]})]});return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:o,children:e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl border border-gray-700 flex flex-col h-[90vh]",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-sky-400",children:["Add Remedial Package for ",n.name]}),e.jsx("button",{onClick:o,className:"text-white hover:text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 1: Select Failed Event"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:d,onChange:D=>u(D.target.value),className:"block w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm",size:"8",children:[e.jsx("option",{value:"",disabled:!0,children:"Select an event to remediate..."}),A.map(D=>e.jsx("option",{value:D.id,style:{color:(_==null?void 0:_.id)===D.id?"#ef4444":"#ffffff",fontWeight:(_==null?void 0:_.id)===D.id?"bold":"normal"},children:D.code},D.id))]}),_&&(()=>{const D=A.findIndex($=>$.id===_.id);if(D>=0){const $=document.querySelector('select[size="8"]');if($){const M=Math.max(0,D-3);$.selectedIndex=M,setTimeout(()=>{$.selectedIndex=d||-1},100)}}return null})()]}),e.jsxs("div",{className:"mt-2 text-xs space-y-1",children:[_&&e.jsxs("div",{className:"text-red-400",children:["Last completed: ",_.code]}),R&&e.jsxs("div",{className:"text-green-400",children:["Next event: ",R.code]})]})]})]}),H&&e.jsxs(e.Fragment,{children:[e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 2: Build Remedial Package"}),e.jsxs("div",{className:"mt-2 p-3 bg-gray-700/30 rounded-lg space-y-3",children:[e.jsx(U,{label:"Tutorials",state:m,setState:v}),e.jsx(U,{label:"FTDs",state:x,setState:y}),e.jsx(U,{label:"Flights",state:T,setState:E})]}),e.jsx("button",{onClick:W,className:"w-full mt-3 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add Events to Package"}),e.jsx("div",{className:"mt-4 space-y-2",children:f.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded-md text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"font-bold text-sky-400 w-16",children:D.type}),e.jsxs("span",{className:"text-gray-300",children:[D.duration.toFixed(1)," hrs with ",(D.instructor||"").split(",")[0]]})]}),e.jsx("button",{onClick:()=>ne(D.id),className:"p-1 text-gray-400 hover:text-red-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]},D.id))})]}),O&&e.jsxs("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 3: Review Auto-Generated Re-Fly"}),e.jsxs("div",{className:"mt-2 p-3 bg-gray-700/30 rounded-lg",children:[e.jsxs("p",{className:"text-white font-semibold",children:[O.code," - ",O.eventDescription]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"This is a copy of the original event and will be added as the final step of the package."})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[e.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"}),e.jsx("button",{onClick:V,disabled:!H||f.length===0,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Save Package"})]})]})})},PA=({course:n,allTrainees:t,scores:s,traineeLMPs:i,onUpdateGradDate:o,onUpdateStartDate:l,onShowFullGraph:d})=>{const{name:u,color:f,gradDate:h,startDate:m}=n,v=y=>y.filter(T=>!T.event.includes("MB")&&!T.event.includes("-REM-")&&!T.event.includes("-RF")).length,x=C.useMemo(()=>{var Te;const y=t.filter(Y=>Y.course===u&&!Y.isPaused),E=(i.get((Te=y[0])==null?void 0:Te.fullName)||[]).filter(Y=>!Y.id.includes(" MB")&&!Y.isRemedial),A=E.length,_=y.map(Y=>{const fe=i.get(Y.fullName)||[],ge=s.get(Y.fullName)||[],Ne=new Set(ge.map(X=>X.event));let Oe="Finished";const se=v(ge);if(se<A){Oe="N/A";for(const X of fe)if(!Ne.has(X.id)&&!X.code.includes(" MB")&&X.prerequisites.every(ee=>Ne.has(ee))){Oe=X.code;break}}const F=A>0?se/A*100:0;return{trainee:Y,percentage:F,nextEvent:Oe,completedCount:se}}).sort((Y,fe)=>fe.completedCount-Y.completedCount),R=_.map(Y=>Y.completedCount).sort((Y,fe)=>Y-fe),H=R.length>0?R[R.length-1]:0,O=H-1;let W="N/A";H>0&&O<E.length?W=E[O].code:y.length>0&&(W="Not Started");const ne=R.length>0?R[0]:0,V=ne-1;let U="N/A";ne>0&&V<E.length?U=E[V].code:y.length>0&&(U="Not Started");let D=0;if(R.length>0){const Y=Math.floor(R.length/2);D=R.length%2!==0?R[Y]:(R[Y-1]+R[Y])/2}let $="N/A";const M=Math.floor(D)-1;A>0&&M>=0&&M<E.length?$=E[M].code:D<1&&y.length>0&&($="Not Started");const P=A>0?D/A*100:0;let ae=0;const Q=A-D;if(Q>0&&h){const Y=new Date;Y.setHours(0,0,0,0);const ge=(new Date(h).getTime()-Y.getTime())/(1e3*60*60*24);if(ge>0){const Ne=ge/7;ae=Q/Ne}}return{trainees:_.sort((Y,fe)=>fe.percentage-Y.percentage),medianProgressPercentage:P,medianEvent:$,totalSyllabusEvents:A,frontRunnerEvent:W,backMarkerEvent:U,requiredPace:ae,medianCountValue:D}},[u,t,s,i,h]);return e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 flex flex-col h-fit",children:[e.jsxs("div",{className:`p-4 border-b border-gray-700 rounded-t-lg ${f}`,children:[e.jsx("h2",{className:"text-lg font-bold text-white text-center mb-2",children:u}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("label",{htmlFor:`start-date-${u.replace(/\s+/g,"-")}`,className:"text-white/80 font-semibold cursor-pointer",children:"Start:"}),e.jsx("input",{type:"date",id:`start-date-${u.replace(/\s+/g,"-")}`,value:m,onChange:y=>l(u,y.target.value),className:"bg-transparent text-white/80 font-semibold border-0 rounded p-1 focus:ring-2 focus:ring-sky-500 focus:outline-none w-28 appearance-none",style:{colorScheme:"dark"}})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("label",{htmlFor:`grad-date-${u.replace(/\s+/g,"-")}`,className:"text-white/80 font-semibold cursor-pointer",children:"Grad:"}),e.jsx("input",{type:"date",id:`grad-date-${u.replace(/\s+/g,"-")}`,value:h,onChange:y=>o(u,y.target.value),className:"bg-transparent text-white/80 font-semibold border-0 rounded p-1 focus:ring-2 focus:ring-sky-500 focus:outline-none w-28 appearance-none",style:{colorScheme:"dark"}})]})]}),e.jsx("div",{className:"w-full bg-black/30 rounded-full h-2.5 mt-2",children:e.jsx("div",{className:"bg-white/80 h-2.5 rounded-full",style:{width:`${x.medianProgressPercentage}%`}})}),e.jsxs("div",{className:"mt-1 grid grid-cols-2 gap-x-4 text-xs",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-white/70",children:["Front Runner: ",e.jsx("span",{className:"font-semibold text-white/90",children:x.frontRunnerEvent})]}),e.jsxs("p",{className:"text-white",children:["Median Progress: ",e.jsx("span",{className:"font-bold text-white",children:x.medianEvent})]}),e.jsxs("p",{className:"text-white/70",children:["Back Marker: ",e.jsx("span",{className:"font-semibold text-white/90",children:x.backMarkerEvent})]})]}),e.jsxs("div",{className:"text-right flex flex-col justify-center",children:[e.jsx("p",{className:"text-white/70",children:"Required Pace"}),e.jsxs("p",{className:"font-bold text-lg text-white",children:[x.requiredPace.toFixed(1),e.jsx("span",{className:"text-sm font-normal",children:"/wk"})]})]})]})]}),e.jsx("div",{className:"p-4 space-y-3 max-h-60 overflow-y-auto",children:x.trainees.map(({trainee:y,percentage:T,nextEvent:E})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-300",children:y.name}),e.jsx("span",{className:"text-xs font-mono text-sky-300",children:E})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:e.jsx("div",{className:`${f} h-1.5 rounded-full`,style:{width:`${T}%`}})})]},y.idNumber))}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsx("button",{onClick:d,className:"w-full text-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-500 transition-colors text-sm font-semibold",children:"Show Progress Graph"})})]})};function RA(n,t,s,i){if(console.log("[CourseStatistics] Input data:",{traineesCount:n.length,scoresMapSize:t.size,traineeLMPsMapSize:s.size,coursesCount:i.length}),n.length===0)return console.log("[CourseStatistics] No trainees provided"),{frontRunnerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},backMarkerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},courseAverageStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0}};const o=[];for(const x of n){const y=i.find($=>$.name===x.course);if(!y){console.log(`[CourseStatistics] No course found for trainee ${x.fullName}, course: ${x.course}`);continue}const T=t.get(x.fullName)||[],E=s.get(x.fullName)||[];console.log(`[CourseStatistics] Processing trainee: ${x.fullName}`,{scoresCount:T.length,lmpCount:E.length,courseName:y.name,courseStart:y.startDate,courseGrad:y.gradDate});let A=0;for(const $ of T){if($.event.includes("MB")||$.event.includes("-REM-")||$.event.includes("-RF"))continue;const M=E.find(P=>P.id===$.event);M&&(M.type==="Flight"||M.type==="FTD")&&!M.isRemedial&&A++}const _=E.filter($=>($.type==="Flight"||$.type==="FTD")&&!$.isRemedial).length;if(console.log(`[CourseStatistics] ${x.fullName}: completed=${A}, total=${_}`),_===0){console.log(`[CourseStatistics] Skipping ${x.fullName} - no required events`);continue}const R=A/_,H=new Date(y.startDate+"T00:00:00Z"),O=new Date,W=Math.max(0,(O.getTime()-H.getTime())/(1e3*60*60*24*7)),ne=new Date(y.gradDate+"T00:00:00Z"),V=Math.max(0,(ne.getTime()-O.getTime())/(1e3*60*60*24*7)),U=_-A,D=V>0?U/V:0;console.log(`[CourseStatistics] ${x.fullName}: weeksRemaining=${V.toFixed(1)}, eventsRemaining=${U}, eventsPerWeek=${D.toFixed(1)}`),o.push({name:x.fullName,completedEvents:A,totalRequired:_,completionRate:R,eventsPerWeek:D,weeksElapsed:W,weeksRemaining:V})}if(o.length===0)return console.log("[CourseStatistics] No trainee stats calculated - returning zeros"),{frontRunnerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},backMarkerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},courseAverageStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0}};console.log(`[CourseStatistics] Calculated stats for ${o.length} trainees`),o.sort((x,y)=>y.completionRate-x.completionRate);const l=o[0],d=o[o.length-1],u=o.reduce((x,y)=>x+y.completionRate,0)/o.length,f=o.reduce((x,y)=>x+y.eventsPerWeek,0)/o.length,h=o.reduce((x,y)=>x+y.completedEvents,0)/o.length,m=o.reduce((x,y)=>x+y.weeksRemaining,0)/o.length,v={frontRunnerStats:{eventsPerWeek:l.eventsPerWeek,totalEvents:l.completedEvents,totalWeeks:l.weeksRemaining,completionRate:l.completionRate},backMarkerStats:{eventsPerWeek:d.eventsPerWeek,totalEvents:d.completedEvents,totalWeeks:d.weeksRemaining,completionRate:d.completionRate},courseAverageStats:{eventsPerWeek:f,totalEvents:h,totalWeeks:m,completionRate:u}};return console.log("[CourseStatistics] Final result:",{frontRunner:`${l.name}: ${l.eventsPerWeek.toFixed(1)}/wk`,backMarker:`${d.name}: ${d.eventsPerWeek.toFixed(1)}/wk`,average:`${f.toFixed(1)}/wk`}),v}const UA=({courses:n,allTrainees:t,scores:s,traineeLMPs:i,courseColors:o,initialSelectedCourse:l,onClose:d})=>{const[u,f]=C.useState(l),h=C.useMemo(()=>{var x;const v=[];for(const y of n){if(!o[y.name])continue;const T=t.filter(U=>U.course===y.name&&!U.isPaused);if(T.length===0)continue;const _=(i.get((x=T[0])==null?void 0:x.fullName)||[]).filter(U=>(U.type==="Flight"||U.type==="FTD")&&!U.isRemedial).length;if(_===0)continue;const R=new Date(y.startDate+"T00:00:00Z"),H=new Date(y.gradDate+"T00:00:00Z");let O=null;for(const U of T){const D=s.get(U.fullName)||[],$=i.get(U.fullName)||[];for(const M of D){if(M.event.includes("MB")||M.event.includes("-REM-")||M.event.includes("-RF"))continue;const P=$.find(ae=>ae.id===M.event);if(P&&(P.type==="Flight"||P.type==="FTD")&&!P.isRemedial){const ae=new Date(M.date+"T00:00:00Z");(!O||ae<O)&&(O=ae)}}}if(!O){console.log(`[ProgressGraph] No first event date found for ${y.name}`);continue}const W=[],ne=new Date;ne.setHours(0,0,0,0);let V=new Date(O);for(V.setHours(0,0,0,0);V<=ne;){const U=new Date(V);U.setDate(U.getDate()+7);const D=[];for(const $ of T){const M=s.get($.fullName)||[],P=i.get($.fullName)||[];let ae=0;for(const Q of M)if(new Date(Q.date+"T00:00:00Z")<=U){if(Q.event.includes("MB")||Q.event.includes("-REM-")||Q.event.includes("-RF"))continue;const Y=P.find(fe=>fe.id===Q.event);Y&&(Y.type==="Flight"||Y.type==="FTD")&&!Y.isRemedial&&ae++}D.push({name:$.fullName,count:ae})}if(D.length>0){D.sort((ae,Q)=>Q.count-ae.count);const $=D[0].count,M=D[D.length-1].count,P=D.reduce((ae,Q)=>ae+Q.count,0)/D.length;W.push({weekDate:new Date(V),highest:$,lowest:M,average:P,highestTrainee:D[0].name,lowestTrainee:D[D.length-1].name})}V.setDate(V.getDate()+7)}console.log(`[ProgressGraph] Course: ${y.name}`),console.log(`  - Course Start: ${R.toLocaleDateString()}`),console.log(`  - Course Grad: ${H.toLocaleDateString()}`),console.log(`  - Total Events: ${_}`),console.log(`  - First Event Date: ${O==null?void 0:O.toLocaleDateString()}`),console.log(`  - Weekly Progress Points: ${W.length}`),W.length>0&&(console.log("  - Sample Week 1:",W[0]),console.log("  - Sample Last Week:",W[W.length-1])),v.push({course:y,startDate:R,endDate:H,totalEvents:_,weeklyProgress:W,color:o[y.name]})}return console.log(`[ProgressGraph] Total courses with data: ${v.length}`),v},[n,t,s,i,o]),m=u?h.filter(v=>v.course.name===u):h;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gray-900 flex flex-col",children:[e.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:d,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors font-semibold",children:"‚Üê Minimize"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Course Progress Graphs"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-gray-300 text-sm font-semibold",children:"Filter:"}),e.jsxs("select",{value:u||"",onChange:v=>f(v.target.value||null),className:"bg-gray-700 text-white rounded-md px-3 py-2 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[e.jsx("option",{value:"",children:"All Courses"}),h.map(v=>e.jsx("option",{value:v.course.name,children:v.course.name},v.course.name))]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-8 max-w-7xl mx-auto",children:m.map(v=>e.jsx(BA,{data:v,allTrainees:t,scores:s,traineeLMPs:i,courses:n},v.course.name))})})]})},BA=({data:n,allTrainees:t,scores:s,traineeLMPs:i,courses:o})=>{const{course:l,startDate:d,endDate:u,totalEvents:f,weeklyProgress:h,color:m}=n,{frontRunnerStats:v,backMarkerStats:x,courseAverageStats:y}=C.useMemo(()=>{const D=t.filter($=>$.course===l.name&&!$.isPaused);return D.length===0?{frontRunnerStats:{eventsPerWeek:0},backMarkerStats:{eventsPerWeek:0},courseAverageStats:{eventsPerWeek:0}}:RA(D,s,i,[l])},[l,t,s,i]),T=800,E=450,A={top:50,right:50,bottom:70,left:70},_=T-A.left-A.right,R=E-A.top-A.bottom,H=D=>{const $=u.getTime()-d.getTime(),M=D.getTime()-d.getTime(),P=A.left+M/$*_;return Math.max(A.left,Math.min(A.left+_,P))},O=D=>A.top+R-D/f*R,W=C.useMemo(()=>{const D=[],$=[{rate:3.5,color:"#34d399",label:"3.5/wk",dash:"8 4"},{rate:4,color:"#fbbf24",label:"4.0/wk",dash:"none"},{rate:4.5,color:"#f87171",label:"4.5/wk",dash:"8 4"}];for(const{rate:M,color:P,label:ae,dash:Q}of $){const Y=f/M*7,fe=new Date(u);fe.setDate(fe.getDate()-Math.floor(Y)),D.push({x1:H(fe),y1:O(0),x2:H(u),y2:O(f),color:P,label:ae,dash:Q})}return D},[d,u,f]),ne=C.useMemo(()=>{const D=[];for(let M=0;M<=8;M++){const P=f/8*M;D.push({value:Math.round(P),y:O(P)})}return D},[f]),V=C.useMemo(()=>{const D=[],$=new Date(d);for($.setDate(1);$<=u;)$>=d&&D.push({date:new Date($),x:H($),label:$.toLocaleDateString("en-GB",{month:"short",year:"2-digit"})}),$.setMonth($.getMonth()+1);return D},[d,u]),U=C.useMemo(()=>h.length===0?"":h.map($=>({x:H($.weekDate),y:O($.average)})).map(($,M)=>`${M===0?"M":"L"} ${$.x} ${$.y}`).join(" "),[h]);return m.includes("sky")||m.includes("purple")||m.includes("yellow")||m.includes("pink")||m.includes("teal")||m.includes("indigo")||m.includes("cyan")||m.includes("fuchsia")||m.includes("blue")||m.includes("green")||m.includes("red")||m.includes("lime"),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-4",children:[e.jsxs("div",{className:`mb-4 p-3 rounded-lg ${m}`,children:[e.jsx("h2",{className:"text-lg font-bold text-white text-center",children:l.name}),e.jsxs("div",{className:"flex justify-between text-sm text-white/80 mt-2",children:[e.jsxs("span",{children:["Start: ",d.toLocaleDateString("en-GB")]}),e.jsxs("span",{children:["Total Events: ",f]}),e.jsxs("span",{children:["Graduation: ",u.toLocaleDateString("en-GB")]})]})]}),e.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 mb-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Events Per Week Required:"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm text-gray-300",children:["Front Runner: ",e.jsx("span",{className:"font-bold text-green-400",children:v.eventsPerWeek.toFixed(1)}),"/wk"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm text-gray-300",children:["Course Average: ",e.jsx("span",{className:"font-bold text-blue-400",children:y.eventsPerWeek.toFixed(1)}),"/wk"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),e.jsxs("span",{className:"text-sm text-gray-300",children:["Back Marker: ",e.jsx("span",{className:"font-bold text-red-400",children:x.eventsPerWeek.toFixed(1)}),"/wk"]})]})]})]}),e.jsxs("svg",{viewBox:`0 0 ${T} ${E}`,className:"w-full h-auto",children:[e.jsx("defs",{children:e.jsx("pattern",{id:`grid-${l.name}`,width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#374151",strokeWidth:"0.5"})})}),e.jsx("rect",{x:A.left,y:A.top,width:_,height:R,fill:`url(#grid-${l.name})`}),ne.map(D=>e.jsxs("g",{children:[e.jsx("line",{x1:A.left,x2:A.left+_,y1:D.y,y2:D.y,stroke:"#4b5563",strokeWidth:"1"}),e.jsx("text",{x:A.left-10,y:D.y+4,textAnchor:"end",fontSize:"11",fill:"#9ca3af",children:D.value})]},`y-${D.value}`)),V.map(D=>e.jsxs("g",{children:[e.jsx("line",{x1:D.x,x2:D.x,y1:A.top,y2:A.top+R,stroke:"#4b5563",strokeWidth:"1"}),e.jsx("text",{x:D.x,y:A.top+R+20,textAnchor:"middle",fontSize:"10",fill:"#9ca3af",children:D.label})]},`x-${D.x}`)),e.jsx("path",{d:`M ${A.left} ${A.top} V ${A.top+R} H ${A.left+_}`,fill:"none",stroke:"#6b7280",strokeWidth:"2"}),e.jsx("text",{x:A.left/2,y:A.top+R/2,transform:`rotate(-90 ${A.left/2} ${A.top+R/2})`,textAnchor:"middle",fontSize:"12",fill:"#d1d5db",fontWeight:"bold",children:"Events Completed"}),e.jsx("text",{x:A.left+_/2,y:E-15,textAnchor:"middle",fontSize:"12",fill:"#d1d5db",fontWeight:"bold",children:"Date"}),W.map((D,$)=>e.jsx("line",{x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,stroke:D.color,strokeWidth:"2",strokeDasharray:D.dash},`ref-${$}`)),U&&e.jsx("path",{d:U,fill:"none",stroke:"#60a5fa",strokeWidth:"2.5"}),h.length>0&&h.map((D,$)=>{const M=H(D.weekDate),P=O(D.highest),ae=O(D.lowest),Q=O(D.average);return($===0||$===h.length-1)&&console.log(`[Graph] Week ${$+1}: x=${M}, highest=${D.highest} (y=${P}), lowest=${D.lowest} (y=${ae}), avg=${D.average.toFixed(1)} (y=${Q})`),e.jsxs("g",{children:[e.jsx("circle",{cx:M,cy:P,r:"2.5",fill:"#4ade80",stroke:"#1f2937",strokeWidth:"1",children:e.jsx("title",{children:`Week ${$+1}: Highest - ${D.highest} events (${D.highestTrainee})`})}),e.jsx("circle",{cx:M,cy:ae,r:"2.5",fill:"#f87171",stroke:"#1f2937",strokeWidth:"1",children:e.jsx("title",{children:`Week ${$+1}: Lowest - ${D.lowest} events (${D.lowestTrainee})`})}),e.jsx("circle",{cx:M,cy:Q,r:"2",fill:"#60a5fa",stroke:"#1f2937",strokeWidth:"1",children:e.jsx("title",{children:`Week ${$+1}: Average - ${D.average.toFixed(1)} events`})})]},`week-${$}`)}),e.jsxs("g",{transform:`translate(${A.left+15}, ${A.top-30})`,children:[e.jsx("text",{x:"0",y:"0",fontSize:"10",fill:"#d1d5db",fontWeight:"bold",children:"Reference Lines:"}),e.jsx("line",{x1:"100",y1:"-3",x2:"120",y2:"-3",stroke:"#f87171",strokeWidth:"2",strokeDasharray:"8 4"}),e.jsx("text",{x:"125",y:"0",fontSize:"9",fill:"#9ca3af",children:"3.5/wk"}),e.jsx("line",{x1:"170",y1:"-3",x2:"190",y2:"-3",stroke:"#fbbf24",strokeWidth:"2"}),e.jsx("text",{x:"195",y:"0",fontSize:"9",fill:"#9ca3af",children:"4.0/wk"}),e.jsx("line",{x1:"240",y1:"-3",x2:"260",y2:"-3",stroke:"#4ade80",strokeWidth:"2",strokeDasharray:"8 4"}),e.jsx("text",{x:"265",y:"0",fontSize:"9",fill:"#9ca3af",children:"4.5/wk"}),e.jsx("text",{x:"320",y:"0",fontSize:"10",fill:"#d1d5db",fontWeight:"bold",children:"Progress:"}),e.jsx("circle",{cx:"380",cy:"-3",r:"3",fill:"#4ade80",stroke:"#1f2937",strokeWidth:"1.5"}),e.jsx("text",{x:"385",y:"0",fontSize:"9",fill:"#9ca3af",children:"Highest"}),e.jsx("circle",{cx:"430",cy:"-3",r:"3",fill:"#f87171",stroke:"#1f2937",strokeWidth:"1.5"}),e.jsx("text",{x:"435",y:"0",fontSize:"9",fill:"#9ca3af",children:"Lowest"}),e.jsx("line",{x1:"480",y1:"-3",x2:"495",y2:"-3",stroke:"#60a5fa",strokeWidth:"2.5"}),e.jsx("text",{x:"500",y:"0",fontSize:"9",fill:"#9ca3af",children:"Average"})]})]})]})},OA=({traineesData:n,courseColors:t,scores:s,traineeLMPs:i,courses:o,onUpdateGradDate:l,onUpdateStartDate:d})=>{const[u,f]=C.useState(!1),[h,m]=C.useState(null);C.useEffect(()=>{Pn({action:"View",description:"Viewed Course Progress page",changes:`Viewing ${o.filter(x=>t[x.name]).length} active courses`,page:"Course Progress"})},[]);const v=C.useMemo(()=>o.filter(x=>t[x.name]).sort((x,y)=>new Date(x.gradDate).getTime()-new Date(y.gradDate).getTime()),[o,t]);return e.jsx(e.Fragment,{children:u?e.jsx(UA,{courses:v,allTrainees:n,scores:s,traineeLMPs:i,courseColors:t,initialSelectedCourse:h,onClose:()=>{f(!1),m(null)}}):e.jsx("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-6 max-w-full mx-auto w-full",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Course Progress"}),e.jsx("p",{className:"text-lg text-gray-400",children:"High-level overview of trainee progression through the syllabus."}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx(Qa,{pageName:"Course Progress"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:v.map(x=>e.jsx(PA,{course:x,allTrainees:n,scores:s,traineeLMPs:i,onUpdateGradDate:l,onUpdateStartDate:d,onShowFullGraph:()=>{m(x.name),f(!0)}},x.name))})]})})})},$A=({courses:n,courseColors:t,archivedCourses:s,onAddCourse:i,onDeleteCourse:o,onNavigateToCourseRoster:l,onNavigateToArchivedCourses:d})=>{const[u,f]=C.useState(!1),[h,m]=C.useState(""),[v,x]=C.useState(!1),[y,T]=C.useState(null),E=C.useMemo(()=>{const O={ADF:[],FIC:[],WSO:[],IFIC:[],OFI:[],"Pilot Conversion":[],Other:[]};return n.filter(ne=>t.hasOwnProperty(ne.name)).forEach(ne=>{ne.name.startsWith("ADF")?O.ADF.push(ne):ne.name.startsWith("FIC")?O.FIC.push(ne):ne.name.startsWith("WSO")?O.WSO.push(ne):ne.name.startsWith("IFIC")?O.IFIC.push(ne):ne.name.startsWith("OFI")?O.OFI.push(ne):ne.name.toLowerCase().includes("conversion")?O["Pilot Conversion"].push(ne):O.Other.push(ne)}),Object.keys(O).forEach(ne=>{O[ne].length===0&&delete O[ne]}),O},[n,t]),A=async O=>{T(O),x(!0)},_=async()=>{if(h!=="1234"){await nf("Invalid PIN","The PIN you entered is incorrect. Please try again.","error"),m("");return}if(!y)return;const W=await nf("Delete Course",`Do you want to archive or permanently delete "${y}"?

598:                                                    ${xe.isAssessment?"bg-gray-700 text-white border-gray-600 focus:ring-2 focus:ring-sky-500":"bg-gray-600/50 text-gray-500 cursor-not-allowed border-gray-600"} border`,placeholder:"%"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1025,columnNumber:45},void 0),n.jsxDEV("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 text-xs",children:"%"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1045,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1024,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1022,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1008,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1006,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:939,columnNumber:25},void 0),C&&n.jsxDEV("div",{className:"p-3 bg-red-900/50 border border-red-500/50 rounded-lg text-sm text-red-300",children:[n.jsxDEV("strong",{children:"Warning:"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1053,columnNumber:33},void 0)," This is the second consecutive marginal (1) grade. A review may be required."]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1052,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:938,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:790,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-6 mb-6",children:[n.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"QFI"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1063,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1",children:n.jsxDEV("select",{value:te.QFI||"",onChange:ke=>Ze("QFI",ke.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500",children:[n.jsxDEV("option",{value:"",children:"Select instructor..."},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1071,columnNumber:37},void 0),wt.map(ke=>n.jsxDEV("option",{value:ke.name,children:[ke.rank," ",ke.name]},ke.idNumber,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1073,columnNumber:41},void 0))]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1066,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1064,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>dn("QFI","section"),className:`absolute top-10 right-2 p-1 rounded-full transition-colors ${ne==="QFI"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1083,columnNumber:133},void 0),n.jsxDEV("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1083,columnNumber:180},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1083,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1079,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1062,columnNumber:25},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Weather"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1087,columnNumber:29},void 0),n.jsxDEV("textarea",{value:te.Weather,onChange:ke=>Ze("Weather",ke.target.value),rows:1,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"42px"},onInput:ke=>{ke.currentTarget.style.height="auto",ke.currentTarget.style.height=ke.currentTarget.scrollHeight+"px"},ref:ke=>{ke&&(ke.style.height="auto",ke.style.height=ke.scrollHeight+"px")}},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1088,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>dn("Weather","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Weather"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1109,columnNumber:133},void 0),n.jsxDEV("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1109,columnNumber:180},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1109,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1105,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1086,columnNumber:25},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"NEST"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1113,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:te.NEST,onChange:ke=>Ze("NEST",ke.target.value),maxLength:8,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1114,columnNumber:30},void 0),n.jsxDEV("button",{onClick:()=>dn("NEST","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="NEST"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1125,columnNumber:133},void 0),n.jsxDEV("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1125,columnNumber:180},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1125,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1121,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1112,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1061,columnNumber:21},void 0),n.jsxDEV("div",{className:"space-y-6",children:[n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Profile"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1132,columnNumber:29},void 0),n.jsxDEV("textarea",{value:te.Profile,onChange:ke=>Ze("Profile",ke.target.value),rows:4,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"100px"},onInput:ke=>{ke.currentTarget.style.height="auto",ke.currentTarget.style.height=ke.currentTarget.scrollHeight+"px"},ref:ke=>{ke&&(ke.style.height="auto",ke.style.height=ke.scrollHeight+"px")}},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1133,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>dn("Profile","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Profile"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1155,columnNumber:38},void 0),n.jsxDEV("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1156,columnNumber:38},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1154,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1150,columnNumber:30},void 0)]},"Profile",!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1131,columnNumber:25},void 0),n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Overall"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1161,columnNumber:29},void 0),n.jsxDEV("textarea",{value:te.Overall,onChange:ke=>Ze("Overall",ke.target.value),rows:6,className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded p-2 text-sm text-white focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"150px"},onInput:ke=>{ke.currentTarget.style.height="auto",ke.currentTarget.style.height=ke.currentTarget.scrollHeight+"px"},ref:ke=>{ke&&(ke.style.height="auto",ke.style.height=ke.scrollHeight+"px")}},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1162,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>dn("Overall","section"),className:`absolute top-8 right-2 p-1 rounded-full transition-colors ${ne==="Overall"?"bg-red-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-600"}`,children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1184,columnNumber:38},void 0),n.jsxDEV("path",{d:"M5.5 13a.5.5 0 01.5.5v1a4 4 0 004 4h1a4 4 0 004-4v-1a.5.5 0 011 0v1a5 5 0 01-5 5h-1a5 5 0 01-5-5v-1a.5.5 0 01.5-.5z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1185,columnNumber:38},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1183,columnNumber:34},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1179,columnNumber:30},void 0)]},"Overall",!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1160,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1130,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1060,columnNumber:17},void 0),n.jsxDEV("div",{className:"space-y-4",children:TV.map(ke=>{const $e=e.type==="ground";return n.jsxDEV("fieldset",{className:`p-4 border rounded-lg ${$e?"border-gray-800 bg-gray-800/30 opacity-50":"border-gray-700"}`,children:[n.jsxDEV("legend",{className:`px-2 text-sm font-semibold ${$e?"text-gray-500":"text-gray-300"}`,children:ke.category},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1198,columnNumber:29},void 0),n.jsxDEV("table",{className:"w-full mt-2 border-collapse",children:[n.jsxDEV("thead",{className:"sr-only",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{children:"Element"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1202,columnNumber:41},void 0),Gk.map(De=>n.jsxDEV("th",{children:De},String(De),!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1203,columnNumber:58},void 0)),n.jsxDEV("th",{children:"Comments"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1204,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1201,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1200,columnNumber:33},void 0),n.jsxDEV("tbody",{children:ke.elements.map(De=>{const it=be.scores.find(G=>G.element===De);return n.jsxDEV("tr",{className:"border-t border-gray-700",children:[n.jsxDEV("td",{className:"py-3 pr-2 font-semibold text-white w-48",children:De},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1212,columnNumber:49},void 0),Gk.map(G=>{const Ve=et=>et==="DEMO"?"Demo":String(et);return n.jsxDEV("td",{className:`py-3 text-center w-12 ${ot[String(G)]||""}`,children:n.jsxDEV("label",{className:`flex flex-col items-center justify-center ${$e?"cursor-not-allowed":"cursor-pointer"}`,children:[n.jsxDEV("input",{type:"radio",name:De,value:String(G),checked:(it==null?void 0:it.grade)===G,onChange:()=>Q(De,G),disabled:$e,className:`h-4 w-4 ${Ee(G)} bg-gray-700 border-gray-600 focus:ring-sky-500 focus:ring-2 ${$e?"opacity-50 cursor-not-allowed":""}`},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1222,columnNumber:65},void 0),n.jsxDEV("span",{className:"text-xs text-gray-500 mt-1",children:Ve(G)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1231,columnNumber:65},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1221,columnNumber:61},void 0)},String(G),!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1220,columnNumber:57},void 0)}),n.jsxDEV("td",{className:"py-3 pl-2 relative",children:[n.jsxDEV("textarea",{value:(it==null?void 0:it.comment)||"",onChange:G=>je(De,G.target.value),rows:1,placeholder:"Comments...",className:"w-full bg-gray-800 border border-gray-600 rounded p-2 text-sm text-gray-200 focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"42px"},onInput:G=>{G.currentTarget.style.height="auto",G.currentTarget.style.height=G.currentTarget.scrollHeight+"px"},ref:G=>{G&&(G.style.height="auto",G.style.height=G.scrollHeight+"px")}},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1237,columnNumber:53},void 0),n.jsxDEV("button",{onClick:()=>dt(De),className:"absolute top-4 right-2 text-gray-400 hover:text-sky-400 p-1",title:"Insert from Phrase Bank",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1261,columnNumber:57},void 0),n.jsxDEV("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h.01a1 1 0 100-2H10zm3 0a1 1 0 000 2h.01a1 1 0 100-2H13z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1262,columnNumber:57},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1260,columnNumber:55},void 0)},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1255,columnNumber:53},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1236,columnNumber:49},void 0)]},De,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1211,columnNumber:45},void 0)})},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1207,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1199,columnNumber:29},void 0)]},ke.category,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1197,columnNumber:25},void 0)})},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1193,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:788,columnNumber:13},void 0),K&&Fe&&n.jsxDEV(WI,{element:Fe,onClose:()=>X(!1),onInsert:Mt,phraseBank:x},void 0,!1,{fileName:"/workspace/components/PT051View.tsx",lineNumber:1277,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PT051View.tsx",lineNumber:707,columnNumber:9},void 0)},XI=({onConfirm:t,onCancel:e})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm border border-gray-700",onClick:s=>s.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Confirm Authorisation"},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:13,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:12,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6",children:n.jsxDEV("p",{className:"text-gray-300",children:"Are you sure you wish to authorise this flight?"},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:16,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:15,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"NO"},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:19,columnNumber:21},void 0),n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"YES"},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:20,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:18,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:11,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationConfirmation.tsx",lineNumber:10,columnNumber:9},void 0),qk=({onConfirm:t,onCancel:e})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[70] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-sm border border-red-500/50",onClick:s=>s.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-red-400",children:"Clear Authorisation"},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:13,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:12,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-3",children:[n.jsxDEV("p",{className:"text-gray-300",children:"Are you sure you want to clear all signatures for this flight?"},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:16,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-amber-400 text-sm",children:"This action requires PIN verification and cannot be undone."},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:17,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:15,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"No, Cancel"},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:20,columnNumber:21},void 0),n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Yes, Clear"},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:21,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:19,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:11,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/ClearAuthConfirmation.tsx",lineNumber:10,columnNumber:9},void 0),zk=({staff:t,selectedStaff:e,onSelect:s,placeholder:r="Search staff...",disabled:a=!1})=>{const[u,m]=S.useState(!1),[d,f]=S.useState(""),p=S.useRef(null);S.useEffect(()=>{const k=C=>{p.current&&!p.current.contains(C.target)&&(m(!1),f(""))};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[]);const h=S.useMemo(()=>{const k=t.reduce((F,U)=>{const q=U.unit||"Unassigned";return F[q]||(F[q]=[]),F[q].push(U),F},{}),C=["1FTS","CFS","2FTS"],V=Object.keys(k).sort((F,U)=>{const q=C.indexOf(F),B=C.indexOf(U);return q!==-1&&B!==-1?q-B:q!==-1?-1:B!==-1?1:F.localeCompare(U)});return Object.keys(k).forEach(F=>{k[F].sort((U,q)=>U.rank!==q.rank?U.rank.localeCompare(q.rank):U.name.localeCompare(q.name))}),V.reduce((F,U)=>(F[U]=k[U],F),{})},[t]),v=S.useMemo(()=>{if(!d)return h;const k={};return Object.entries(h).forEach(([C,V])=>{const F=V.filter(U=>U.name.toLowerCase().includes(d.toLowerCase())||U.rank.toLowerCase().includes(d.toLowerCase())||U.unit&&U.unit.toLowerCase().includes(d.toLowerCase()));F.length>0&&(k[C]=F)}),k},[h,d]),b=e||"",x=k=>{s(k),m(!1),f("")};return n.jsxDEV("div",{className:"relative",ref:p,children:[n.jsxDEV("button",{type:"button",onClick:()=>!a&&m(!u),disabled:a,className:`w-full text-left px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm disabled:bg-gray-700/50 disabled:cursor-not-allowed ${!e&&!defaultName?"text-gray-400":""}`,children:[b||r,n.jsxDEV("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:n.jsxDEV("svg",{className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:116,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:115,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:114,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:107,columnNumber:7},void 0),u&&!a&&n.jsxDEV("div",{className:"absolute z-50 mt-1 w-full bg-gray-800 border border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:[n.jsxDEV("div",{className:"p-2 border-b border-gray-600",children:n.jsxDEV("input",{type:"text",value:d,onChange:k=>f(k.target.value),placeholder:"Search...",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-sky-500 focus:border-sky-500",autoFocus:!0},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:124,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:123,columnNumber:11},void 0),n.jsxDEV("div",{className:"max-h-48 overflow-y-auto",children:[Object.entries(v).map(([k,C])=>n.jsxDEV("div",{children:[n.jsxDEV("div",{className:"px-3 py-1 bg-gray-900 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:k},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:136,columnNumber:17},void 0),C.map(V=>n.jsxDEV("button",{type:"button",onClick:()=>x(V.name),className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 focus:bg-gray-700 focus:outline-none",children:[n.jsxDEV("span",{className:"font-medium",children:V.rank},void 0,!1,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:146,columnNumber:21},void 0)," ",V.name]},V.name,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:140,columnNumber:19},void 0))]},k,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:135,columnNumber:15},void 0)),Object.keys(v).length===0&&n.jsxDEV("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:['No staff found matching "',d,'"']},void 0,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:152,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:122,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/StaffSearchDropdown.tsx",lineNumber:106,columnNumber:5},void 0)},lp=({label:t,value:e})=>n.jsxDEV("div",{className:"flex justify-between text-sm py-1 border-b border-gray-700/50",children:[n.jsxDEV("span",{className:"text-gray-400 font-medium",children:[t,":"]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:21,columnNumber:9},void 0),n.jsxDEV("span",{className:"text-gray-200",children:e||"N/A"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:20,columnNumber:5},void 0),QI=({event:t,onClose:e,onAuthorise:s,onClearAuth:r,instructorsList:a,currentUserName:u,currentUserRank:m,currentUserUnit:d})=>{const[f,p]=S.useState(t.authNotes??""),[h,v]=S.useState(!1),[b,x]=S.useState(!1),[k,C]=S.useState(null),[V,F]=S.useState(t.isVerbalAuth??!1),[U,q]=S.useState(!1),[B,Y]=S.useState(!1),ne=S.useMemo(()=>t.instructor||t.pilot,[t]),J=S.useMemo(()=>`${m} ${u}`,[m,u]),O=S.useMemo(()=>J,[J]),A=S.useMemo(()=>{if(t.instructor){const ve=a.find(Be=>Be.name===t.instructor);return ve?`${ve.rank} ${ve.name}`:t.instructor}if(t.pilot){const ve=a.find(Be=>Be.name===t.pilot);return ve?`${ve.rank} ${ve.name}`:t.pilot}return""},[t.instructor,t.pilot,a]),[L,I]=S.useState(()=>t.authoSignedBy||O),[_,K]=S.useState(()=>t.captainSignedBy||A);jl.useEffect(()=>{V&&!t.authoSignedBy&&!t.captainSignedBy&&I(_)},[V,_,t.authoSignedBy,t.captainSignedBy]);const X=ve=>{ve==="autho"&&!L||ve==="captain"&&!_||V&&L!==_||(C(ve),ve==="autho"?v(!0):x(!0))},Fe=()=>{v(!1),x(!0)},ie=()=>{v(!1),C(null)},Ee=()=>{if(k){const ve=k==="autho"?L:_;ve.split(" ").slice(1).join(" "),s(t.id,f,k,V,ve)}x(!1),C(null)},ge=()=>{q(!1),Y(!0),x(!0)},we=()=>{r(t.id),x(!1),Y(!1)},Ye=()=>{x(!1),C(null),Y(!1)},be=ve=>{if(!ve)return"";const Be=new Date(ve),xe=String(Be.getDate()).padStart(2,"0"),ue=Be.toLocaleString("en-GB",{month:"short"}).toUpperCase(),fe=String(Be.getFullYear()).slice(-2),Ge=String(Be.getHours()).padStart(2,"0"),Re=String(Be.getMinutes()).padStart(2,"0");return`${xe} ${ue} ${fe} ${Ge}:${Re}`},H=!!(t.authoSignedBy??t.captainSignedBy),ae=!!(t.authoSignedBy&&t.captainSignedBy),te="1111",re=ve=>{F(ve),ve&&!t.authoSignedBy&&!t.captainSignedBy&&I(_)},se=ve=>{if(!ve)return"";const Be=ve.lastIndexOf(" ");if(Be>0){const xe=ve.substring(Be+1);if(!isNaN(Number(xe)))return ve.substring(0,Be)}return ve},he=ve=>ve?ve.split(" â€“ ")[0]||ve:"";return ae?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:ve=>ve.stopPropagation(),children:[n.jsxDEV("div",{className:"p-3 border-b border-gray-700 flex justify-between items-center bg-gray-900",children:[n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("svg",{className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:199,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:198,columnNumber:25},void 0),n.jsxDEV("h2",{className:"text-lg font-bold text-green-400",children:"Flight Authorisation Complete"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:201,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:197,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"text-gray-400 hover:text-white","aria-label":"Close",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:204,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:204,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:203,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:196,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:[n.jsxDEV("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center border border-gray-600",children:[n.jsxDEV("div",{className:"flex items-center justify-center mb-1",children:[n.jsxDEV("svg",{className:"h-5 w-5 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:213,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:212,columnNumber:29},void 0),n.jsxDEV("p",{className:"text-green-400 font-semibold",children:"Authorisation Approved"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:215,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:211,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-gray-400 text-xs",children:"This flight has been fully authorised and is cleared to proceed"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:217,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:210,columnNumber:21},void 0),n.jsxDEV("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[n.jsxDEV("h3",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Flight Summary"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:222,columnNumber:25},void 0),n.jsxDEV("div",{className:"space-y-1 text-sm",children:[n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Syllabus:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:225,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:t.flightNumber},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:226,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:224,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Start Time:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:229,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:[Math.floor(t.startTime),":",String(Math.round(t.startTime%1*60)).padStart(2,"0")]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:230,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:228,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Instructor:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:233,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:t.instructor},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:234,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:232,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Student:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:237,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:he(t.student)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:238,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:236,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Aircraft:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:241,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:se(t.resourceId)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:242,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:240,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-between",children:[n.jsxDEV("span",{className:"text-gray-400",children:"Route:"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:245,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:[t.origin,"-",t.destination]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:246,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:244,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:223,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:221,columnNumber:21},void 0),n.jsxDEV("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[n.jsxDEV("div",{className:"flex items-center mb-2",children:[n.jsxDEV("svg",{className:"h-4 w-4 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:255,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:254,columnNumber:29},void 0),n.jsxDEV("h3",{className:"text-sm font-semibold text-gray-300",children:"Authorising Officer (AUTHO)"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:257,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:253,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-green-400 font-bold text-base ml-6",children:t.authoSignedBy},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:259,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-gray-400 text-xs ml-6",children:["Signed: ",be(t.authoSignedAt)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:260,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:252,columnNumber:21},void 0),n.jsxDEV("div",{className:"bg-gray-700/30 rounded-lg p-3 border border-gray-600",children:[n.jsxDEV("div",{className:"flex items-center mb-2",children:[n.jsxDEV("svg",{className:"h-4 w-4 text-green-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:267,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:266,columnNumber:29},void 0),n.jsxDEV("h3",{className:"text-sm font-semibold text-gray-300",children:"Captain (PIC)"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:269,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:265,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-green-400 font-bold text-base ml-6",children:t.captainSignedBy},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:271,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-gray-400 text-xs ml-6",children:["Signed: ",be(t.captainSignedAt)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:272,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:264,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:208,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-4 py-3 bg-gray-900 border-t border-gray-700 flex justify-between items-center",children:[n.jsxDEV("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-red-600 text-white rounded text-sm font-semibold hover:bg-red-700 transition-colors",children:"Clear Auth"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:278,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded text-sm font-semibold hover:bg-gray-700 transition-colors",children:"Close"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:284,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:277,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:194,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:193,columnNumber:9},void 0),b&&n.jsxDEV(tv,{correctPin:te,onConfirm:we,onCancel:Ye},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:289,columnNumber:13},void 0),U&&n.jsxDEV(qk,{onConfirm:ge,onCancel:()=>q(!1)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:295,columnNumber:35},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:192,columnNumber:7},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[60] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:ve=>ve.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-900/50",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-amber-400",children:"Flight Authorisation"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:306,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"text-white hover:text-gray-300","aria-label":"Close",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:308,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:308,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:307,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:305,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Flight Summary"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:314,columnNumber:25},void 0),n.jsxDEV("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-1",children:[n.jsxDEV(lp,{label:"Syllabus",value:t.flightNumber},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:316,columnNumber:29},void 0),n.jsxDEV(lp,{label:"Start Time",value:`${Math.floor(t.startTime)}:${String(Math.round(t.startTime%1*60)).padStart(2,"0")}`},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:317,columnNumber:29},void 0),n.jsxDEV(lp,{label:"Instructor",value:t.instructor},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:318,columnNumber:29},void 0),n.jsxDEV(lp,{label:"Student",value:he(t.student)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:319,columnNumber:29},void 0),n.jsxDEV(lp,{label:"Aircraft",value:se(t.resourceId)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:320,columnNumber:29},void 0),n.jsxDEV(lp,{label:"Route",value:`${t.origin}-${t.destination}`},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:321,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:315,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:313,columnNumber:21},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{htmlFor:"auth-notes",className:"block text-sm font-medium text-gray-400",children:"Notes"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:328,columnNumber:25},void 0),n.jsxDEV("textarea",{id:"auth-notes",rows:3,value:f,onChange:ve=>p(ve.target.value),disabled:!!(t.authoSignedBy??t.captainSignedBy),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm disabled:bg-gray-700/50 disabled:cursor-not-allowed",placeholder:"Enter any authorisation notes here..."},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:329,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:327,columnNumber:21},void 0),n.jsxDEV("div",{className:"space-y-3",children:[n.jsxDEV("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:n.jsxDEV("div",{className:"mb-3",children:[n.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:"Authorising Officer (AUTHO)"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:343,columnNumber:33},void 0),t.authoSignedBy?n.jsxDEV("div",{className:"text-right",children:[n.jsxDEV("p",{className:"text-sm font-semibold text-green-400",children:t.authoSignedBy},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:363,columnNumber:41},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400",children:be(t.authoSignedAt)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:364,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:362,columnNumber:37},void 0):n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV(zk,{staff:a,selectedStaff:L,onSelect:I,placeholder:"Select Authorising Officer...",disabled:V},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:346,columnNumber:41},void 0),n.jsxDEV("button",{onClick:()=>X("autho"),disabled:!L||V&&L!==_,className:"w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed",children:["Sign as AUTHO ",V&&"(Locked to PIC)"]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:353,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:345,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:342,columnNumber:30},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:341,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-3 bg-gray-900/50 rounded-lg",children:[n.jsxDEV("div",{className:"mb-3",children:[n.jsxDEV("h3",{className:"font-semibold text-gray-300 mb-2",children:["Captain (PIC) - ",ne]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:372,columnNumber:33},void 0),t.captainSignedBy?n.jsxDEV("div",{className:"text-right",children:[n.jsxDEV("p",{className:"text-sm font-semibold text-green-400",children:t.captainSignedBy},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:398,columnNumber:41},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400",children:be(t.captainSignedAt)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:399,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:397,columnNumber:37},void 0):n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV(zk,{staff:a,selectedStaff:_,onSelect:ve=>{K(ve),V&&!t.authoSignedBy&&I(ve)},placeholder:"Select Captain (PIC)...",disabled:!!(t.authoSignedBy&&!t.isVerbalAuth)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:375,columnNumber:41},void 0),n.jsxDEV("button",{onClick:()=>X("captain"),disabled:!_||!(t.authoSignedBy||t.isVerbalAuth)||V&&L!==_,className:"w-full px-3 py-1.5 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Sign as PIC"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:388,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:374,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:371,columnNumber:30},void 0),!t.captainSignedBy&&n.jsxDEV("label",{className:"flex items-center space-x-2 mt-3 pt-3 border-t border-gray-700/50",children:[n.jsxDEV("input",{type:"checkbox",checked:V,onChange:ve=>re(ve.target.checked),disabled:!!t.authoSignedBy,className:"h-4 w-4 bg-gray-700 border-gray-600 rounded focus:ring-amber-500 focus:ring-offset-gray-800 accent-amber-500 disabled:accent-gray-600"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:405,columnNumber:37},void 0),n.jsxDEV("span",{className:`text-sm ${t.authoSignedBy?"text-gray-500":"text-gray-300"}`,children:["Verbal AUTH received. See Notes.",V&&n.jsxDEV("span",{className:"ml-2 text-amber-400 font-medium",children:"(Both AUTHO and PIC must be same person)"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:415,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:412,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:404,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:370,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:340,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:312,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-between items-center",children:[n.jsxDEV("div",{children:H&&n.jsxDEV("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Clear Auth"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:429,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:427,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Close"},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:437,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:426,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:304,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:303,columnNumber:9},void 0),h&&n.jsxDEV(XI,{onConfirm:Fe,onCancel:ie},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:441,columnNumber:34},void 0),b&&n.jsxDEV(tv,{correctPin:te,onConfirm:B?we:Ee,onCancel:Ye},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:443,columnNumber:13},void 0),U&&n.jsxDEV(qk,{onConfirm:ge,onCancel:()=>q(!1)},void 0,!1,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:449,columnNumber:35},void 0)]},void 0,!0,{fileName:"/workspace/components/AuthorisationFlyout.tsx",lineNumber:302,columnNumber:5},void 0)},ZI=({onClose:t,onConfirm:e})=>{const[s,r]=S.useState(null),a=S.useRef(null),u=f=>{f.target.files&&f.target.files.length>0&&r(f.target.files[0])},m=()=>{var f;(f=a.current)==null||f.click()},d=()=>{s&&e(s)};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:t,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:f=>f.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Upload a File"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:32,columnNumber:21},void 0),n.jsxDEV("button",{onClick:t,className:"text-white hover:text-gray-300","aria-label":"Close",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:34,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:34,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:33,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:31,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-4",children:[n.jsxDEV("p",{className:"text-gray-400 text-sm",children:"Select a file from your local machine to upload to the repository."},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:39,columnNumber:21},void 0),n.jsxDEV("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 flex flex-col items-center justify-center text-center cursor-pointer hover:border-sky-500 transition-colors",onClick:m,children:[n.jsxDEV("input",{type:"file",ref:a,onChange:u,className:"hidden"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:44,columnNumber:25},void 0),n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:51,columnNumber:27},void 0)},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:50,columnNumber:25},void 0),s?n.jsxDEV("p",{className:"text-white font-semibold",children:s.name},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:54,columnNumber:29},void 0):n.jsxDEV("p",{className:"text-gray-400",children:"Click to select a file"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:56,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:40,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:38,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:62,columnNumber:21},void 0),n.jsxDEV("button",{onClick:d,disabled:!s,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"OK"},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:63,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:61,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/UploadFileFlyout.tsx",lineNumber:29,columnNumber:9},void 0)},KI=({onClose:t,onConfirm:e,fileName:s,folders:r})=>{var d;const[a,u]=S.useState(((d=r[0])==null?void 0:d.id)||""),m=()=>{a?e(a):alert("Please select a destination folder.")};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:t,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-gray-700",onClick:f=>f.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Select Destination"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:25,columnNumber:21},void 0),n.jsxDEV("button",{onClick:t,className:"text-white hover:text-gray-300","aria-label":"Close",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:27,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:27,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:26,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:24,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-4",children:[n.jsxDEV("p",{className:"text-gray-400 text-sm",children:["Select a destination folder for the file: ",n.jsxDEV("span",{className:"font-semibold text-gray-200",children:s},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:33,columnNumber:67},void 0)]},void 0,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:32,columnNumber:21},void 0),n.jsxDEV("div",{className:"space-y-2",children:r.map(f=>n.jsxDEV("label",{className:"flex items-center space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"destination-folder",value:f.id,checked:a===f.id,onChange:()=>u(f.id),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:38,columnNumber:33},void 0),n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-sky-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:47,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:46,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-white font-medium",children:f.name},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:49,columnNumber:33},void 0)]},f.id,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:37,columnNumber:29},void 0))},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:35,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:31,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:56,columnNumber:21},void 0),n.jsxDEV("button",{onClick:m,disabled:!a,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Confirm & Upload"},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:57,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:55,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:23,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/SelectDestinationFlyout.tsx",lineNumber:22,columnNumber:9},void 0)},e_=({fileName:t,onConfirm:e,onClose:s})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:s,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:r=>r.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Download File"},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:14,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:13,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6",children:n.jsxDEV("p",{className:"text-gray-300",children:["Do you want to download ",n.jsxDEV("strong",{className:"text-sky-400",children:t},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:18,columnNumber:49},void 0)," to your computer?"]},void 0,!0,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:17,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:16,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:22,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:25,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:21,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:12,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/DownloadConfirmationFlyout.tsx",lineNumber:11,columnNumber:9},void 0),t_=({fileName:t,onConfirm:e,onClose:s})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center animate-fade-in",onClick:s,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-amber-500/50",onClick:r=>r.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-amber-900/20 flex items-center space-x-3",children:[n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:15,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:14,columnNumber:21},void 0),n.jsxDEV("h2",{className:"text-xl font-bold text-amber-400",children:"Confirm Deletion"},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:17,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:13,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6",children:[n.jsxDEV("p",{className:"text-gray-300",children:["Are you sure you want to permanently delete ",n.jsxDEV("strong",{className:"text-white",children:t},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:21,columnNumber:69},void 0),"?"]},void 0,!0,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:20,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-gray-400 mt-2 text-sm",children:"This action cannot be undone."},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:23,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:19,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:28,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm font-semibold",children:"Yes, Delete"},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:31,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:27,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:12,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/DeleteFileConfirmationFlyout.tsx",lineNumber:11,columnNumber:9},void 0),n_=({fileName:t,onConfirm:e,onClose:s})=>{const[r,a]=S.useState(""),[u,m]=S.useState("minor"),[d,f]=S.useState(""),p=h=>{if(h.preventDefault(),r.length<4){f("PIN must be 4 digits.");return}e(r,u)};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[80] flex items-center justify-center animate-fade-in",onClick:s,children:n.jsxDEV("form",{onSubmit:p,className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:h=>h.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Confirm Update"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:28,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:27,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-6",children:[n.jsxDEV("p",{className:"text-gray-400",children:["Enter your PIN to apply updates from ",n.jsxDEV("strong",{className:"text-gray-200",children:t},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:32,columnNumber:62},void 0),"."]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:31,columnNumber:21},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{htmlFor:"pin-input",className:"block text-sm font-medium text-gray-400",children:"PIN"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:36,columnNumber:25},void 0),n.jsxDEV("input",{id:"pin-input",type:"password",value:r,onChange:h=>{a(h.target.value.replace(/\D/g,"")),f("")},maxLength:4,autoFocus:!0,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white text-center text-2xl tracking-[.5em] focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:37,columnNumber:25},void 0),d&&n.jsxDEV("p",{className:"text-red-400 text-sm text-center mt-1",children:d},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:49,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:35,columnNumber:21},void 0),n.jsxDEV("fieldset",{children:[n.jsxDEV("legend",{className:"text-sm font-medium text-gray-400 mb-2",children:"Select Update Type"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:53,columnNumber:25},void 0),n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("label",{className:"flex items-start space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"update-type",value:"minor",checked:u==="minor",onChange:()=>m("minor"),className:"h-5 w-5 mt-0.5 accent-sky-500 bg-gray-600 border-gray-500 flex-shrink-0"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:56,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-white font-medium",children:"Minor Update"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:65,columnNumber:37},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400",children:"Update existing records and add new ones. You will be prompted to confirm new entries."},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:66,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:64,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:55,columnNumber:30},void 0),n.jsxDEV("label",{className:"flex items-start space-x-3 p-3 rounded-md bg-gray-700/50 hover:bg-gray-700 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"update-type",value:"bulk",checked:u==="bulk",onChange:()=>m("bulk"),className:"h-5 w-5 mt-0.5 accent-sky-500 bg-gray-600 border-gray-500 flex-shrink-0"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:70,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-white font-medium",children:"Bulk Update"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:79,columnNumber:37},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400",children:"Warning: This will delete all existing data and replace it with the contents of the file."},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:80,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:78,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:69,columnNumber:30},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:54,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:52,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:30,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:88,columnNumber:21},void 0),n.jsxDEV("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Confirm Update"},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:89,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:87,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:26,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateConfirmationFlyout.tsx",lineNumber:25,columnNumber:9},void 0)},o_=({rowData:t,onConfirm:e,onCancel:s})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:s,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-lg border border-sky-500/50",onClick:r=>r.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-sky-900/20 flex items-center space-x-3",children:n.jsxDEV("h2",{className:"text-xl font-bold text-sky-400",children:"New Record Found"},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:14,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:13,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6",children:[n.jsxDEV("p",{className:"text-gray-300",children:"A record from the file could not be matched to any existing data."},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:17,columnNumber:21},void 0),n.jsxDEV("div",{className:"mt-4 bg-gray-900/50 p-3 rounded-md text-xs font-mono text-gray-400 max-h-40 overflow-auto",children:n.jsxDEV("pre",{children:JSON.stringify(t,null,2)},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:21,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:20,columnNumber:22},void 0),n.jsxDEV("p",{className:"text-gray-300 mt-4",children:"Do you want to add this as a new person/event?"},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:23,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:16,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"No, Skip"},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:28,columnNumber:21},void 0),n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"Yes, Add New"},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:31,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:27,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:12,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/NewRecordConfirmationFlyout.tsx",lineNumber:11,columnNumber:9},void 0),i_=({message:t,onClose:e})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-amber-500/50",onClick:s=>s.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-amber-900/20 flex items-center space-x-3",children:[n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:14,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:13,columnNumber:21},void 0),n.jsxDEV("h2",{className:"text-xl font-bold text-amber-400",children:"Update Notice"},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:16,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:12,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6",children:n.jsxDEV("p",{className:"text-gray-300",children:t},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:19,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:18,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end",children:n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:24,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:23,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:11,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateErrorFlyout.tsx",lineNumber:10,columnNumber:9},void 0),s_=({summary:t,onClose:e})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:e,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-sky-500/50",onClick:s=>s.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-sky-900/20 flex items-center space-x-3",children:[n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:21,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:20,columnNumber:22},void 0),n.jsxDEV("h2",{className:"text-xl font-bold text-sky-400",children:"Update Complete"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:23,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:19,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-3",children:[n.jsxDEV("p",{className:"text-gray-300",children:["The ",n.jsxDEV("strong",{className:"text-white",children:[t.type," Update"]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:26,columnNumber:54},void 0)," process has finished."]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:26,columnNumber:21},void 0),n.jsxDEV("div",{className:"bg-gray-700/50 p-3 rounded-md grid grid-cols-2 gap-2 text-sm",children:[t.type==="Bulk"?n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-gray-400",children:"Records Replaced:"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:30,columnNumber:33},void 0),n.jsxDEV("span",{className:"font-bold text-white float-right",children:t.replaced},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:31,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:29,columnNumber:30},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-gray-400",children:"Records Updated:"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:36,columnNumber:37},void 0),n.jsxDEV("span",{className:"font-bold text-white float-right",children:t.updated},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:37,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:35,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-gray-400",children:"New Records Added:"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:40,columnNumber:37},void 0),n.jsxDEV("span",{className:"font-bold text-green-400 float-right",children:t.added},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:41,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:39,columnNumber:33},void 0),t.unaltered!==void 0&&n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-gray-400",children:"Records Unaltered:"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:45,columnNumber:41},void 0),n.jsxDEV("span",{className:"font-bold text-blue-400 float-right",children:t.unaltered},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:46,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:44,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:34,columnNumber:29},void 0),n.jsxDEV("div",{children:[n.jsxDEV("span",{className:"text-gray-400",children:"Rows Skipped:"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:52,columnNumber:29},void 0),n.jsxDEV("span",{className:"font-bold text-amber-400 float-right",children:t.skipped},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:53,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:51,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:27,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:25,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-900/50 border-t border-gray-700 flex justify-end",children:n.jsxDEV("button",{onClick:e,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"OK"},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:58,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:18,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/UpdateSummaryFlyout.tsx",lineNumber:17,columnNumber:9},void 0),Wk=["Generic Flying Elements","Pre-Post Flight","Walk Around","Strap-in","Ground Checks","Airborne Checks","Stationary","Visual","Effects of Control","Trimming","Straight and Level","Level medium Turn","Level Steep turn","Visual - Initial & Pitch","Landing","Crosswind","Radio Comms","Situational Awareness","Lookout","Knowledge"],r_=({onClose:t,onSave:e})=>{const[s,r]=S.useState(""),a=()=>{s.trim()&&e(s.trim())};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center animate-fade-in",onClick:t,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:u=>u.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Add New Flight Element"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:37,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:36,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-4",children:n.jsxDEV("div",{children:[n.jsxDEV("label",{htmlFor:"element-name",className:"block text-sm font-medium text-gray-400",children:"Element Name"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:41,columnNumber:25},void 0),n.jsxDEV("input",{id:"element-name",type:"text",value:s,onChange:u=>r(u.target.value),autoFocus:!0,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:42,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:40,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:39,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:53,columnNumber:21},void 0),n.jsxDEV("button",{onClick:a,disabled:!s.trim(),className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Save"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:54,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:52,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:35,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:34,columnNumber:9},void 0)},l_=({onClose:t,onDelete:e,flightElements:s})=>{const[r,a]=S.useState(new Set),u=d=>{const f=new Set(r);f.has(d)?f.delete(d):f.add(d),a(f)},m=()=>{if(r.size===0){alert("Please select at least one element to delete.");return}e(r)};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center animate-fade-in",onClick:t,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700 flex flex-col max-h-[80vh]",onClick:d=>d.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Delete Flight Elements"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:93,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:92,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 flex-1 overflow-y-auto",children:s.length>0?n.jsxDEV("ul",{className:"space-y-2",children:s.map(d=>n.jsxDEV("li",{children:n.jsxDEV("label",{className:"flex items-center space-x-3 p-2 rounded hover:bg-gray-700 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:r.has(d),onChange:()=>u(d),className:"h-4 w-4 accent-red-500 bg-gray-600"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:101,columnNumber:41},void 0),n.jsxDEV("span",{className:"text-sm text-gray-300",children:d},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:107,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:100,columnNumber:37},void 0)},d,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:99,columnNumber:33},void 0))},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:97,columnNumber:25},void 0):n.jsxDEV("p",{className:"text-gray-500 text-center italic",children:"No elements to delete."},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:113,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:95,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:117,columnNumber:21},void 0),n.jsxDEV("button",{onClick:m,disabled:r.size===0,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Delete Selected"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:118,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:116,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:91,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:90,columnNumber:9},void 0)},a_=({onClose:t,phraseBank:e,onUpdatePhraseBank:s,initialTab:r="Airmanship"})=>{const[a,u]=S.useState(r),[m,d]=S.useState(!1),[f,p]=S.useState(!1),[h,v]=S.useState(()=>{const J=Object.keys(e).filter(O=>!["Airmanship","Preparation","Technique"].includes(O)&&!Wk.includes(O));return[...Wk,...J]}),[b,x]=S.useState(h[0]),k=a==="Elements"?b:a,C=(J,O,A)=>{const L=e&&e[k]||{},_=[...L[J]||[]];_[O]=A,s({...e,[k]:{...L,[J]:_}})},V=J=>{const O=e&&e[k]||{},A=O[J]||[];s({...e,[k]:{...O,[J]:[...A,""]}})},F=(J,O)=>{const A=e&&e[k]||{},L=A[J]||[];s({...e,[k]:{...A,[J]:L.filter((I,_)=>_!==O)}})},U=()=>{d(!0)},q=J=>{if(h.includes(J)){alert("An element with this name already exists.");return}v(O=>[...O,J]),s({...e,[J]:{0:[],1:[],2:[],3:[],4:[],5:[]}}),x(J),d(!1)},B=J=>{const O=h.filter(L=>!J.has(L));v(O);const A={...e};J.forEach(L=>{delete A[L]}),s(A),J.has(b)&&x(O[0]||"Generic Flying Elements"),p(!1)},Y=J=>J>=4?"border-green-500/30 bg-green-900/10":J>=2?"border-yellow-500/30 bg-yellow-900/10":"border-red-500/30 bg-red-900/10",ne=J=>{switch(J){case 5:return"5 - Excellent";case 4:return"4 - High Satisfactory";case 3:return"3 - Satisfactory";case 2:return"2 - Low Satisfactory";case 1:return"1 - Marginal";case 0:return"0 - Unsatisfactory";default:return String(J)}};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:t,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl border border-gray-700 flex flex-col h-[85vh]",onClick:J=>J.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center shrink-0",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Scoring Matrix Setup"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:258,columnNumber:21},void 0),n.jsxDEV("button",{onClick:t,className:"text-white hover:text-gray-300","aria-label":"Close",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:260,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:260,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:259,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:257,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex border-b border-gray-700 bg-gray-900/30 shrink-0",children:["Airmanship","Preparation","Technique","Elements"].map(J=>n.jsxDEV("button",{onClick:()=>u(J),className:`flex-1 py-3 text-lg font-semibold text-center border-b-4 transition-colors ${a===J?"border-sky-500 text-sky-400 bg-gray-800":"border-transparent text-gray-400 hover:text-gray-200 hover:bg-gray-800/50"}`,children:J},J,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:267,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:265,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex flex-1 overflow-hidden",children:[a==="Elements"&&n.jsxDEV("div",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col shrink-0 overflow-y-auto",children:[n.jsxDEV("div",{className:"p-3 text-xs font-bold text-gray-500 uppercase tracking-wider bg-gray-900/50 flex justify-between items-center",children:[n.jsxDEV("span",{children:"Flight Elements"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:286,columnNumber:33},void 0),n.jsxDEV("div",{className:"flex space-x-1",children:[n.jsxDEV("button",{onClick:()=>p(!0),className:"p-1 rounded-full bg-gray-700 hover:bg-gray-600",title:"Delete flight element(s)",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:294,columnNumber:43},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:293,columnNumber:41},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:288,columnNumber:37},void 0),n.jsxDEV("button",{onClick:U,className:"p-1 rounded-full bg-gray-700 hover:bg-gray-600",title:"Add new flight element",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-sky-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:303,columnNumber:45},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:302,columnNumber:41},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:297,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:287,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:285,columnNumber:29},void 0),h.map(J=>n.jsxDEV("button",{onClick:()=>x(J),className:`text-left px-4 py-3 border-l-4 transition-colors font-medium text-sm ${b===J?"border-sky-500 bg-gray-700 text-white":"border-transparent text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:J},J,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:309,columnNumber:33},void 0))]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:284,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-900",children:[n.jsxDEV("div",{className:"mb-4",children:[n.jsxDEV("h3",{className:"text-2xl font-bold text-sky-400",children:k},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:327,columnNumber:29},void 0),n.jsxDEV("p",{className:"text-gray-400 text-sm",children:"Define standardized phrases for each grade level."},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:328,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:326,columnNumber:25},void 0),[5,4,3,2,1,0].map(J=>n.jsxDEV("div",{className:`border rounded-lg overflow-hidden ${Y(J)}`,children:[n.jsxDEV("div",{className:"px-4 py-2 font-bold text-sm border-b border-gray-700/30 flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-white opacity-90",children:ne(J)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:334,columnNumber:37},void 0),n.jsxDEV("button",{onClick:()=>V(J),className:"text-xs bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded transition-colors border border-gray-600",children:"+ Add Phrase"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:335,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:333,columnNumber:33},void 0),n.jsxDEV("div",{className:"p-4 space-y-2",children:e&&e[k]&&e[k][J]?e[k][J].map((O,A)=>n.jsxDEV("div",{className:"flex items-start space-x-2 group",children:[n.jsxDEV("textarea",{value:O,onChange:L=>C(J,A,L.target.value),rows:1,className:"flex-1 bg-gray-800 border border-gray-600 rounded p-2 text-sm text-gray-200 focus:ring-1 focus:ring-sky-500 focus:border-sky-500 resize-none overflow-hidden",style:{minHeight:"38px",height:"auto"},onInput:L=>{const I=L.currentTarget;I.style.height="auto",I.style.height=`${I.scrollHeight}px`}},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:346,columnNumber:49},void 0),n.jsxDEV("button",{onClick:()=>F(J,A),className:"p-2 text-gray-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete phrase",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:364,columnNumber:57},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:363,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:358,columnNumber:49},void 0)]},A,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:345,columnNumber:45},void 0)):n.jsxDEV("p",{className:"text-xs text-gray-500 italic pl-1",children:"No phrases defined."},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:370,columnNumber:41},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:342,columnNumber:33},void 0)]},J,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:332,columnNumber:29},void 0))]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:325,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:282,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800 border-t border-gray-700 flex justify-end shrink-0",children:n.jsxDEV("button",{onClick:t,className:"px-6 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold shadow-md",children:"Done"},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:379,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:378,columnNumber:17},void 0),m&&n.jsxDEV(r_,{onClose:()=>d(!1),onSave:q},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:384,columnNumber:21},void 0),f&&n.jsxDEV(l_,{onClose:()=>p(!1),onDelete:B,flightElements:h},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:390,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:254,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/ScoringMatrixFlyout.tsx",lineNumber:253,columnNumber:9},void 0)},u_=({courses:t,onConfirm:e,onClose:s,updateType:r})=>{const[a,u]=S.useState(""),[m,d]=S.useState(""),f=p=>{if(p.preventDefault(),!a){d("Please select a course.");return}e(a)};return n.jsxDEV("div",{className:"fixed inset-0 bg-black/70 z-[90] flex items-center justify-center animate-fade-in",onClick:s,children:n.jsxDEV("form",{onSubmit:f,className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-md border border-gray-700",onClick:p=>p.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Select Course"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:32,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:31,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-6 space-y-6",children:[n.jsxDEV("p",{className:"text-gray-400",children:r==="minor"?"Select the course to update. Existing trainees will be updated and new trainees will be added.":"Select the course to update. WARNING: All existing trainees in this course will be replaced with the uploaded data."},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:35,columnNumber:21},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{htmlFor:"course-select",className:"block text-sm font-medium text-gray-400 mb-2",children:"Course"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:42,columnNumber:25},void 0),n.jsxDEV("select",{id:"course-select",value:a,onChange:p=>{u(p.target.value),d("")},autoFocus:!0,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-sky-500 focus:border-sky-500",children:[n.jsxDEV("option",{value:"",children:"-- Select a Course --"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:55,columnNumber:29},void 0),t.map(p=>n.jsxDEV("option",{value:p,children:p},p,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:57,columnNumber:33},void 0))]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:45,columnNumber:25},void 0),m&&n.jsxDEV("p",{className:"text-red-400 text-sm mt-1",children:m},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:62,columnNumber:35},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:41,columnNumber:21},void 0),r==="bulk"&&a&&n.jsxDEV("div",{className:"bg-red-900/20 border border-red-700 rounded-md p-3",children:n.jsxDEV("div",{className:"flex items-start space-x-2",children:[n.jsxDEV("svg",{className:"w-5 h-5 text-red-400 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:69,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:68,columnNumber:33},void 0),n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-red-400 font-medium text-sm",children:"Warning"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:72,columnNumber:37},void 0),n.jsxDEV("p",{className:"text-red-300 text-xs mt-1",children:["This will permanently delete all trainees currently in ",n.jsxDEV("strong",{children:a},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:74,columnNumber:96},void 0)," and replace them with the uploaded data."]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:73,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:71,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:67,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:66,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:34,columnNumber:17},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:82,columnNumber:21},void 0),n.jsxDEV("button",{type:"submit",className:`px-4 py-2 rounded-md transition-colors text-sm font-semibold ${r==="bulk"?"bg-red-600 hover:bg-red-700 text-white":"bg-sky-600 hover:bg-sky-700 text-white"}`,children:r==="bulk"?"Replace Course Data":"Update Course"},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:89,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:81,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/CourseSelectionFlyout.tsx",lineNumber:29,columnNumber:9},void 0)},c_=({codes:t,onAddCode:e,onEditCode:s,onToggleActive:r,onDeleteCode:a,canEdit:u,usedCodes:m})=>{const[d,f]=S.useState(!1),[p,h]=S.useState(null),[v,b]=S.useState(null),[x,k]=S.useState({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0}),C=()=>{k({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0}),f(!0),h(null)},V=J=>{k(J),h(J.code),f(!1)},F=()=>{f(!1),h(null),k({code:"",category:"Aircraft",description:"",appliesTo:"Both",isActive:!0})},U=J=>{b(J)},q=()=>{v&&(a(v),b(null))},B=()=>{b(null)},Y=()=>{if(!x.code||!x.description)return;const J={code:x.code.toUpperCase(),category:x.category,description:x.description,appliesTo:x.appliesTo,isActive:x.isActive??!0,createdAt:x.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};d?e(J):p&&s(p,J),F()},ne=[...t].sort((J,O)=>J.category!==O.category?J.category.localeCompare(O.category):J.code.localeCompare(O.code));return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[n.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Cancellation Codes (Master Table)"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:114,columnNumber:9},void 0),u&&n.jsxDEV("button",{onClick:C,disabled:d||p!==null,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold disabled:bg-gray-600 disabled:cursor-not-allowed",children:"+ Add Code"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:116,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:113,columnNumber:7},void 0),n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("table",{className:"w-full text-sm",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{className:"border-b border-gray-700",children:[n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Code"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:130,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Category"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:131,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Description"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:132,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Applies To"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:133,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Status"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:134,columnNumber:15},void 0),u&&n.jsxDEV("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Actions"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:135,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:129,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:128,columnNumber:11},void 0),n.jsxDEV("tbody",{children:[d&&n.jsxDEV("tr",{className:"border-b border-gray-700 bg-gray-700/30",children:[n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("input",{type:"text",value:x.code,onChange:J=>k({...x,code:J.target.value.toUpperCase()}),maxLength:4,className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",placeholder:"CODE"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:142,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:141,columnNumber:17},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("select",{value:x.category,onChange:J=>k({...x,category:J.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[n.jsxDEV("option",{value:"Aircraft",children:"Aircraft"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:157,columnNumber:21},void 0),n.jsxDEV("option",{value:"Crew",children:"Crew"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:158,columnNumber:21},void 0),n.jsxDEV("option",{value:"Program",children:"Program"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:159,columnNumber:21},void 0),n.jsxDEV("option",{value:"Weather",children:"Weather"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:160,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:152,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:151,columnNumber:17},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("input",{type:"text",value:x.description,onChange:J=>k({...x,description:J.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",placeholder:"Description"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:164,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:163,columnNumber:17},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("select",{value:x.appliesTo,onChange:J=>k({...x,appliesTo:J.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[n.jsxDEV("option",{value:"Flight",children:"Flight"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:178,columnNumber:21},void 0),n.jsxDEV("option",{value:"FTD",children:"FTD"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:179,columnNumber:21},void 0),n.jsxDEV("option",{value:"Both",children:"Both"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:180,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:173,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:172,columnNumber:17},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-center",children:n.jsxDEV("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold bg-green-900/50 text-green-400",children:"Active"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:184,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:183,columnNumber:17},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("div",{className:"flex justify-center space-x-2",children:[n.jsxDEV("button",{onClick:Y,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-semibold hover:bg-green-700",children:"Save"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:190,columnNumber:21},void 0),n.jsxDEV("button",{onClick:F,className:"px-3 py-1 bg-gray-600 text-white rounded text-xs font-semibold hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:196,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:189,columnNumber:19},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:188,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:140,columnNumber:15},void 0),ne.map(J=>{const O=p===J.code,A=m.has(J.code);return O?n.jsxDEV("tr",{className:"border-b border-gray-700 bg-gray-700/30",children:[n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("input",{type:"text",value:x.code,onChange:L=>k({...x,code:L.target.value.toUpperCase()}),maxLength:4,className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:214,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:213,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("select",{value:x.category,onChange:L=>k({...x,category:L.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[n.jsxDEV("option",{value:"Aircraft",children:"Aircraft"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:228,columnNumber:25},void 0),n.jsxDEV("option",{value:"Crew",children:"Crew"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:229,columnNumber:25},void 0),n.jsxDEV("option",{value:"Program",children:"Program"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:230,columnNumber:25},void 0),n.jsxDEV("option",{value:"Weather",children:"Weather"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:231,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:223,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:222,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("input",{type:"text",value:x.description,onChange:L=>k({...x,description:L.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:235,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:234,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("select",{value:x.appliesTo,onChange:L=>k({...x,appliesTo:L.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-white text-sm",children:[n.jsxDEV("option",{value:"Flight",children:"Flight"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:248,columnNumber:25},void 0),n.jsxDEV("option",{value:"FTD",children:"FTD"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:249,columnNumber:25},void 0),n.jsxDEV("option",{value:"Both",children:"Both"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:250,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:243,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:242,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-center",children:n.jsxDEV("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${x.isActive?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:x.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:254,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:253,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("div",{className:"flex justify-center space-x-2",children:[n.jsxDEV("button",{onClick:Y,className:"px-3 py-1 bg-green-600 text-white rounded text-xs font-semibold hover:bg-green-700",children:"Save"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:264,columnNumber:25},void 0),n.jsxDEV("button",{onClick:F,className:"px-3 py-1 bg-gray-600 text-white rounded text-xs font-semibold hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:270,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:263,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:262,columnNumber:21},void 0)]},J.code,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:212,columnNumber:19},void 0):n.jsxDEV("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[n.jsxDEV("td",{className:"py-3 px-4 text-white font-mono font-semibold",children:J.code},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:284,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:J.category},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:285,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:J.description},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:286,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:J.appliesTo},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:287,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-center",children:n.jsxDEV("span",{className:`inline-block px-2 py-1 rounded text-xs font-semibold ${J.isActive?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"}`,children:J.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:289,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:288,columnNumber:19},void 0),u&&n.jsxDEV("td",{className:"py-3 px-4",children:[n.jsxDEV("div",{className:"flex justify-center space-x-2",children:[n.jsxDEV("button",{onClick:()=>V(J),disabled:d||p!==null,className:"px-3 py-1 bg-sky-600 text-white rounded text-xs font-semibold hover:bg-sky-700 disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Edit"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:300,columnNumber:25},void 0),n.jsxDEV("button",{onClick:()=>r(J.code),disabled:d||p!==null,className:`px-3 py-1 rounded text-xs font-semibold disabled:bg-gray-600 disabled:cursor-not-allowed ${J.isActive?"bg-amber-600 text-white hover:bg-amber-700":"bg-green-600 text-white hover:bg-green-700"}`,children:J.isActive?"Deactivate":"Activate"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:307,columnNumber:25},void 0),n.jsxDEV("button",{onClick:()=>U(J.code),disabled:d||p!==null||A,className:"px-3 py-1 bg-red-600 text-white rounded text-xs font-semibold hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed",title:A?"Cannot delete code that has been used":"Delete code",children:"Delete"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:318,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:299,columnNumber:23},void 0),A&&n.jsxDEV("p",{className:"text-xs text-gray-500 text-center mt-1",children:"Used in history"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:328,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:298,columnNumber:21},void 0)]},J.code,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:283,columnNumber:17},void 0)})]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:138,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:127,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:126,columnNumber:7},void 0),n.jsxDEV("div",{className:"mt-4 text-sm text-gray-400",children:[n.jsxDEV("p",{children:"â€¢ Only authorized users (Admin/Config roles) can add, edit, or activate/deactivate codes."},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:340,columnNumber:9},void 0),n.jsxDEV("p",{children:"â€¢ Codes that have been used in cancellations cannot be deleted."},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:341,columnNumber:9},void 0),n.jsxDEV("p",{children:"â€¢ Inactive codes remain visible in historical records."},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:342,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:339,columnNumber:7},void 0),v&&n.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-md",children:[n.jsxDEV("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Delete"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:349,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-gray-300 mb-6",children:["Are you sure you want to delete the cancellation code ",n.jsxDEV("span",{className:"font-mono font-bold text-red-400",children:v},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:351,columnNumber:69},void 0),"? This action cannot be undone."]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:350,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:B,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:355,columnNumber:15},void 0),n.jsxDEV("button",{onClick:q,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:361,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:354,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:348,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:347,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/CancellationCodesTable.tsx",lineNumber:112,columnNumber:5},void 0)},d_=({cancellationRecords:t,cancellationCodes:e})=>{const[s,r]=S.useState("month"),[a,u]=S.useState(!1),[m,d]=S.useState("count"),[f,p]=S.useState("desc"),h=U=>{const q=new Date,B=new Date(q);let Y=new Date(q);switch(U){case"week":Y.setDate(q.getDate()-7);break;case"month":Y.setMonth(q.getMonth()-1);break;case"6months":Y.setMonth(q.getMonth()-6);break;case"year":Y.setFullYear(q.getFullYear()-1);break;case"2years":Y.setFullYear(q.getFullYear()-2);break;case"5years":Y.setFullYear(q.getFullYear()-5);break;case"lastFY":const ne=q.getFullYear();q.getMonth()>=6?(Y=new Date(ne-1,6,1),B.setFullYear(ne),B.setMonth(5,30)):(Y=new Date(ne-2,6,1),B.setFullYear(ne-1),B.setMonth(5,30));break;case"lastCY":Y=new Date(q.getFullYear()-1,0,1),B.setFullYear(q.getFullYear()-1),B.setMonth(11,31);break}return{start:Y,end:B}},v=U=>{const q=h(U),B=q.end.getTime()-q.start.getTime(),Y=new Date(q.start);return{start:new Date(q.start.getTime()-B),end:Y}},b=(U,q,B)=>U.filter(Y=>{const ne=new Date(Y.eventDate);return ne>=q&&ne<=B}),x=S.useMemo(()=>{const U=h(s),q=v(s),B=b(t,U.start,U.end),Y=b(t,q.start,q.end),ne=B.length;let O=[...e.map(A=>{const L=B.filter(X=>X.cancellationCode===A.code||X.cancellationCode==="OTHER"&&X.manualCodeEntry===A.code).length,I=Y.filter(X=>X.cancellationCode===A.code||X.cancellationCode==="OTHER"&&X.manualCodeEntry===A.code).length,_=ne>0?L/ne*100:0;let K=0;return I>0?K=(L-I)/I*100:L>0&&(K=100),{code:A.code,category:A.category,description:A.description,totalCount:L,percentage:_,trend:K,previousCount:I}})];switch(m){case"count":O.sort((A,L)=>f==="desc"?L.totalCount-A.totalCount:A.totalCount-L.totalCount);break;case"percentage":O.sort((A,L)=>f==="desc"?L.percentage-A.percentage:A.percentage-L.percentage);break;case"category":O.sort((A,L)=>{const I=f==="desc"?L.category.localeCompare(A.category):A.category.localeCompare(L.category);return I!==0?I:L.totalCount-A.totalCount});break}return a||(O=O.filter(A=>A.totalCount>0)),O},[t,e,s,m,f,a]),k=U=>{m===U?p(f==="desc"?"asc":"desc"):(d(U),p("desc"))},C=U=>({week:"Past Week",month:"Past Month","6months":"Past 6 Months",year:"Past Year","2years":"Past 2 Years","5years":"Past 5 Years",lastFY:"Last Financial Year",lastCY:"Last Calendar Year"})[U],V=U=>U>5?n.jsxDEV("span",{className:"text-red-400",children:"â†‘"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:179,columnNumber:14},void 0):U<-5?n.jsxDEV("span",{className:"text-green-400",children:"â†“"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:181,columnNumber:14},void 0):n.jsxDEV("span",{className:"text-gray-400",children:"â†’"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:183,columnNumber:14},void 0),F=x.reduce((U,q)=>U+q.totalCount,0);return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 mt-6",children:[n.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"AC History (Cancellation Analytics & Trends)"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:192,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:191,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-6",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Time Period"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:197,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex flex-wrap gap-2",children:["week","month","6months","year","2years","5years","lastFY","lastCY"].map(U=>n.jsxDEV("button",{onClick:()=>r(U),className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors ${s===U?"bg-sky-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:C(U)},U,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:200,columnNumber:13},void 0))},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:198,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:196,columnNumber:7},void 0),n.jsxDEV("div",{className:"mb-4 flex items-center justify-between",children:[n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"checkbox",checked:a,onChange:U=>u(U.target.checked),className:"h-4 w-4 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 accent-sky-500"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:218,columnNumber:11},void 0),n.jsxDEV("span",{className:"text-sm text-gray-300",children:"Show codes with zero occurrences"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:224,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:217,columnNumber:9},void 0),n.jsxDEV("div",{className:"text-sm text-gray-400",children:["Total Cancellations: ",n.jsxDEV("span",{className:"font-semibold text-white",children:F},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:227,columnNumber:32},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:226,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:216,columnNumber:7},void 0),n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("table",{className:"w-full text-sm",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{className:"border-b border-gray-700",children:[n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Code"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:236,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>k("category"),children:["Category ",m==="category"&&(f==="desc"?"â†“":"â†‘")]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:237,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-left py-3 px-4 text-gray-300 font-semibold",children:"Description"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:243,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-right py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>k("count"),children:["Total ",m==="count"&&(f==="desc"?"â†“":"â†‘")]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:244,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-right py-3 px-4 text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>k("percentage"),children:["Percentage ",m==="percentage"&&(f==="desc"?"â†“":"â†‘")]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:250,columnNumber:15},void 0),n.jsxDEV("th",{className:"text-center py-3 px-4 text-gray-300 font-semibold",children:"Trend"},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:256,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:235,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:234,columnNumber:11},void 0),n.jsxDEV("tbody",{children:x.length===0?n.jsxDEV("tr",{children:n.jsxDEV("td",{colSpan:6,className:"py-8 text-center text-gray-400",children:"No cancellation data available for the selected period."},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:262,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:261,columnNumber:15},void 0):x.map(U=>n.jsxDEV("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[n.jsxDEV("td",{className:"py-3 px-4 text-white font-mono font-semibold",children:U.code},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:269,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:U.category},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:270,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:U.description},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:271,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-right text-white font-semibold",children:U.totalCount},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:272,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-right text-white",children:[U.percentage.toFixed(1),"%"]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:273,columnNumber:19},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-center",children:[n.jsxDEV("div",{className:"flex items-center justify-center space-x-2",children:[V(U.trend),n.jsxDEV("span",{className:`text-xs ${U.trend>5?"text-red-400":U.trend<-5?"text-green-400":"text-gray-400"}`,children:[U.trend>0?"+":"",U.trend.toFixed(0),"%"]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:277,columnNumber:23},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:275,columnNumber:21},void 0),n.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:["(prev: ",U.previousCount,")"]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:285,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:274,columnNumber:19},void 0)]},U.code,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:268,columnNumber:17},void 0))},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:259,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:233,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:232,columnNumber:7},void 0),n.jsxDEV("div",{className:"mt-4 text-sm text-gray-400",children:[n.jsxDEV("p",{children:"â€¢ Percentages are calculated relative to all Flight + FTD cancellations in the selected period."},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:297,columnNumber:9},void 0),n.jsxDEV("p",{children:"â€¢ Trend indicators compare the selected period to the immediately preceding equivalent period."},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:298,columnNumber:9},void 0),n.jsxDEV("p",{children:"â€¢ Both active and inactive codes appear in analytics if used historically."},void 0,!1,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:299,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:296,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryAnalytics.tsx",lineNumber:190,columnNumber:5},void 0)},m_=({cancellationRecords:t,cancellationCodes:e})=>{const[s,r]=S.useState("30days"),[a,u]=S.useState("date"),[m,d]=S.useState("desc"),f=S.useMemo(()=>{const k=new Date,C=new Date;switch(s){case"7days":C.setDate(k.getDate()-7);break;case"30days":C.setDate(k.getDate()-30);break;case"90days":C.setDate(k.getDate()-90);break;case"all":return t}return t.filter(V=>new Date(V.cancelledAt)>=C)},[t,s]),p=S.useMemo(()=>{const k=[...f];return k.sort((C,V)=>{let F=0;switch(a){case"date":F=new Date(C.cancelledAt).getTime()-new Date(V.cancelledAt).getTime();break;case"event":F=(C.eventName||"").localeCompare(V.eventName||"");break;case"code":F=C.cancellationCode.localeCompare(V.cancellationCode);break;case"personnel":F=(C.personnelAffected||"").localeCompare(V.personnelAffected||"");break}return m==="asc"?F:-F}),k},[f,a,m]),h=k=>{a===k?d(m==="asc"?"desc":"asc"):(u(k),d("desc"))},v=k=>{const C=e.find(V=>V.code===k);return(C==null?void 0:C.description)||"Unknown"},b=k=>{if(!k)return"No Date";const C=new Date(k);return isNaN(C.getTime())?(console.log("DATE FIX: Invalid date from:",k),"Invalid Date"):C.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},x=({field:k})=>a!==k?n.jsxDEV("span",{className:"text-gray-500",children:"â‡…"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:112,columnNumber:14},void 0):m==="asc"?n.jsxDEV("span",{children:"â†‘"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:114,columnNumber:38},void 0):n.jsxDEV("span",{children:"â†“"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:114,columnNumber:55},void 0);return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[n.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-white",children:"Recent Cancellations"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:120,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("label",{className:"text-gray-400 text-sm",children:"Time Period:"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:124,columnNumber:11},void 0),n.jsxDEV("select",{value:s,onChange:k=>r(k.target.value),className:"bg-gray-700 border border-gray-600 rounded px-3 py-1 text-white text-sm",children:[n.jsxDEV("option",{value:"7days",children:"Last 7 Days"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:130,columnNumber:13},void 0),n.jsxDEV("option",{value:"30days",children:"Last 30 Days"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:131,columnNumber:13},void 0),n.jsxDEV("option",{value:"90days",children:"Last 90 Days"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:132,columnNumber:13},void 0),n.jsxDEV("option",{value:"all",children:"All Time"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:133,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:123,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:119,columnNumber:7},void 0),p.length===0?n.jsxDEV("div",{className:"text-center py-8 text-gray-400",children:"No cancellations found for the selected time period."},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:139,columnNumber:9},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("table",{className:"w-full",children:[n.jsxDEV("thead",{children:n.jsxDEV("tr",{className:"border-b border-gray-700",children:[n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>h("date"),children:["Date/Time ",n.jsxDEV(x,{field:"date"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:152,columnNumber:31},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:148,columnNumber:19},void 0),n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>h("event"),children:["Event ",n.jsxDEV(x,{field:"event"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:158,columnNumber:27},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:154,columnNumber:19},void 0),n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>h("code"),children:["Code ",n.jsxDEV(x,{field:"code"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:164,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:160,columnNumber:19},void 0),n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold",children:"Reason"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:166,columnNumber:19},void 0),n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold cursor-pointer hover:text-white",onClick:()=>h("personnel"),children:["Personnel Affected ",n.jsxDEV(x,{field:"personnel"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:173,columnNumber:40},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:169,columnNumber:19},void 0),n.jsxDEV("th",{className:"py-3 px-4 text-left text-gray-300 font-semibold",children:"Notes"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:175,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:147,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:146,columnNumber:15},void 0),n.jsxDEV("tbody",{children:p.map((k,C)=>n.jsxDEV("tr",{className:"border-b border-gray-700 hover:bg-gray-700/20",children:[n.jsxDEV("td",{className:"py-3 px-4 text-gray-300 text-sm",children:b(k.cancelledAt||k.timestamp)},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:183,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-white font-semibold",children:k.eventName||"N/A"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:186,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("span",{className:"font-mono font-bold text-amber-400",children:k.cancellationCode},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:190,columnNumber:23},void 0)},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:189,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300 text-sm",children:v(k.cancellationCode)},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:194,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300 text-sm",children:k.personnelAffected||"N/A"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:197,columnNumber:21},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-400 text-sm max-w-xs truncate",children:k.notes||"-"},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:200,columnNumber:21},void 0)]},C,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:182,columnNumber:19},void 0))},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:180,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:145,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:144,columnNumber:11},void 0),n.jsxDEV("div",{className:"mt-4 text-sm text-gray-400",children:["Showing ",p.length," cancellation",p.length!==1?"s":""]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:209,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:143,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/RecentCancellationsTable.tsx",lineNumber:118,columnNumber:5},void 0)},lh=[{code:"AD",category:"Aircraft",description:"On deployment",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"AT",category:"Aircraft",description:"Time constraint",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"AU",category:"Aircraft",description:"Unavailable",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CI",category:"Crew",description:"Instructor",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CO",category:"Crew",description:"Other crew",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CP",category:"Crew",description:"Pilot",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"CS",category:"Crew",description:"Student",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"PC",category:"Program",description:"Change",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"PE",category:"Program",description:"Error",appliesTo:"Both",isActive:!0,createdAt:new Date().toISOString()},{code:"WX",category:"Weather",description:"Weather",appliesTo:"Flight",isActive:!0,createdAt:new Date().toISOString()}],f_=({currentUserRole:t,cancellationRecords:e})=>{const[s,r]=S.useState([]),[a,u]=S.useState(new Set),m=t==="Super Admin"||t==="Admin";S.useEffect(()=>{const b=localStorage.getItem("cancellationCodes");if(b)try{r(JSON.parse(b))}catch(x){console.error("Error loading cancellation codes:",x),r(lh)}else r(lh),localStorage.setItem("cancellationCodes",JSON.stringify(lh))},[]),S.useEffect(()=>{const b=new Set;e.forEach(x=>{b.add(x.cancellationCode),x.manualCodeEntry&&b.add(x.manualCodeEntry)}),u(b)},[e]);const d=b=>{r(b),localStorage.setItem("cancellationCodes",JSON.stringify(b))},f=b=>{if(s.some(k=>k.code===b.code)){alert("A code with this identifier already exists.");return}const x=[...s,b];d(x)},p=(b,x)=>{const k=s.map(C=>C.code===b?x:C);d(k)},h=b=>{const x=s.map(k=>k.code===b?{...k,isActive:!k.isActive,updatedAt:new Date().toISOString()}:k);d(x)},v=b=>{const x=s.filter(k=>k.code!==b);d(x)};return n.jsxDEV("div",{className:"p-6 space-y-6",children:[n.jsxDEV("div",{className:"mb-6",children:n.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"AC History"},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:122,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-gray-400",children:"Manage cancellation codes and view cancellation analytics and trends."},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:121,columnNumber:11},void 0),n.jsxDEV("button",{onClick:()=>{const b=localStorage.getItem("cancellationRecords");alert("cancellationRecords: "+b),console.log("cancellationRecords:",b)},className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors",children:"Debug LocalStorage"},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:127,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:120,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:119,columnNumber:7},void 0),n.jsxDEV(c_,{codes:s,onAddCode:f,onEditCode:p,onToggleActive:h,onDeleteCode:v,canEdit:m,usedCodes:a},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:141,columnNumber:7},void 0),n.jsxDEV(m_,{cancellationRecords:e,cancellationCodes:s},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:152,columnNumber:7},void 0),n.jsxDEV(d_,{cancellationRecords:e,cancellationCodes:s},void 0,!1,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:158,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/components/ACHistoryPage.tsx",lineNumber:118,columnNumber:5},void 0)},p_=({callsigns:t,onUpdateCallsigns:e,units:s,locations:r,canEditSettings:a,onAuditLog:u})=>{const[m,d]=S.useState(!1),[f,p]=S.useState([]),[h,v]=S.useState("ALL"),[b,x]=S.useState({name:"",code:"",unit:"",location:"",locationCode:""}),k=()=>{p([...t]),d(!0)},C=()=>{const Y=t.map(J=>`${J.name} (${J.code})`).join(", "),ne=f.map(J=>`${J.name} (${J.code})`).join(", ");e(f),d(!1),u&&u({timestamp:new Date().toISOString(),page:"Settings - Location - Formation Callsigns",action:"Updated Formation Callsigns",changes:`From: [${Y}] To: [${ne}]`})},V=()=>{x({name:"",code:"",unit:"",location:"",locationCode:""}),d(!1)},F=()=>{b.name&&b.code&&b.unit&&b.location&&b.locationCode&&(p([...f,{...b}]),x({name:"",code:"",unit:"",location:"",locationCode:""}))},U=Y=>{p(f.filter((ne,J)=>J!==Y))},q=(Y,ne,J)=>{const O=[...f];O[Y]={...O[Y],[ne]:J},p(O)},B=m?h==="ALL"?f:f.filter(Y=>Y.unit===h):h==="ALL"?t:t.filter(Y=>Y.unit===h);return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[800px] h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Formation Callsigns"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:83,columnNumber:17},void 0),m?n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("button",{onClick:C,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:86,columnNumber:25},void 0),n.jsxDEV("button",{onClick:V,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:87,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:85,columnNumber:21},void 0):n.jsxDEV("button",{onClick:k,disabled:!a,className:`px-3 py-1 rounded-md text-xs font-semibold ${a?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:90,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:82,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:[n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("label",{className:"text-sm text-gray-400",children:"Filter by Unit:"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:107,columnNumber:21},void 0),n.jsxDEV("select",{value:h,onChange:Y=>v(Y.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500",children:[n.jsxDEV("option",{value:"ALL",children:"ALL"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:113,columnNumber:25},void 0),s.map(Y=>n.jsxDEV("option",{value:Y,children:Y},Y,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:115,columnNumber:29},void 0))]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:108,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:106,columnNumber:17},void 0),m?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Manage formation callsigns for units."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:122,columnNumber:25},void 0),n.jsxDEV("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:n.jsxDEV("table",{className:"w-full text-sm",children:[n.jsxDEV("thead",{className:"bg-gray-700 sticky top-0",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Name"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:129,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Code"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:130,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Unit"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:131,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Location"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:132,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Loc Code"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:133,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-center text-gray-300 font-semibold",children:"Action"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:134,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:128,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:127,columnNumber:33},void 0),n.jsxDEV("tbody",{children:B.map((Y,ne)=>{const J=f.findIndex(O=>O.name===Y.name&&O.code===Y.code&&O.unit===Y.unit);return n.jsxDEV("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30",children:[n.jsxDEV("td",{className:"px-3 py-2",children:n.jsxDEV("input",{type:"text",value:Y.name,onChange:O=>q(J,"name",O.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:147,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:146,columnNumber:49},void 0),n.jsxDEV("td",{className:"px-3 py-2",children:n.jsxDEV("input",{type:"text",value:Y.code,onChange:O=>q(J,"code",O.target.value.toUpperCase()),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:155,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:154,columnNumber:49},void 0),n.jsxDEV("td",{className:"px-3 py-2",children:n.jsxDEV("select",{value:Y.unit,onChange:O=>q(J,"unit",O.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[n.jsxDEV("option",{value:"",children:"Select..."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:168,columnNumber:57},void 0),s.map(O=>n.jsxDEV("option",{value:O,children:O},O,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:170,columnNumber:61},void 0))]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:163,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:162,columnNumber:49},void 0),n.jsxDEV("td",{className:"px-3 py-2",children:n.jsxDEV("select",{value:Y.location,onChange:O=>q(J,"location",O.target.value),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[n.jsxDEV("option",{value:"",children:"Select..."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:180,columnNumber:57},void 0),r.map(O=>n.jsxDEV("option",{value:O,children:O},O,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:182,columnNumber:61},void 0))]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:175,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:174,columnNumber:49},void 0),n.jsxDEV("td",{className:"px-3 py-2",children:n.jsxDEV("input",{type:"text",value:Y.locationCode,onChange:O=>q(J,"locationCode",O.target.value.toUpperCase()),className:"w-full bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",maxLength:3},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:187,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:186,columnNumber:49},void 0),n.jsxDEV("td",{className:"px-3 py-2 text-center",children:n.jsxDEV("button",{onClick:()=>U(J),className:"p-1 text-gray-400 hover:text-red-400",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:201,columnNumber:61},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:200,columnNumber:57},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:196,columnNumber:53},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:195,columnNumber:49},void 0)]},ne,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:145,columnNumber:45},void 0)})},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:137,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:126,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:125,columnNumber:25},void 0),n.jsxDEV("div",{className:"border-t border-gray-700 pt-4",children:[n.jsxDEV("p",{className:"text-sm text-gray-400 mb-2",children:"Add New Callsign:"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:214,columnNumber:29},void 0),n.jsxDEV("div",{className:"grid grid-cols-6 gap-2",children:[n.jsxDEV("input",{type:"text",value:b.name,onChange:Y=>x({...b,name:Y.target.value}),placeholder:"Name",className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:216,columnNumber:33},void 0),n.jsxDEV("input",{type:"text",value:b.code,onChange:Y=>x({...b,code:Y.target.value.toUpperCase()}),placeholder:"Code",className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:223,columnNumber:33},void 0),n.jsxDEV("select",{value:b.unit,onChange:Y=>x({...b,unit:Y.target.value}),className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[n.jsxDEV("option",{value:"",children:"Unit..."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:235,columnNumber:37},void 0),s.map(Y=>n.jsxDEV("option",{value:Y,children:Y},Y,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:237,columnNumber:41},void 0))]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:230,columnNumber:33},void 0),n.jsxDEV("select",{value:b.location,onChange:Y=>x({...b,location:Y.target.value}),className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs",children:[n.jsxDEV("option",{value:"",children:"Location..."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:245,columnNumber:37},void 0),r.map(Y=>n.jsxDEV("option",{value:Y,children:Y},Y,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:247,columnNumber:41},void 0))]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:240,columnNumber:33},void 0),n.jsxDEV("input",{type:"text",value:b.locationCode,onChange:Y=>x({...b,locationCode:Y.target.value.toUpperCase()}),placeholder:"Code",maxLength:3,className:"bg-gray-700 border-gray-600 rounded px-2 py-1 text-white text-xs"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:250,columnNumber:33},void 0),n.jsxDEV("button",{onClick:F,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-xs font-semibold",children:"Add"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:258,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:215,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:213,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:121,columnNumber:21},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Configured formation callsigns."},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:269,columnNumber:25},void 0),n.jsxDEV("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:n.jsxDEV("table",{className:"w-full text-sm",children:[n.jsxDEV("thead",{className:"bg-gray-700 sticky top-0",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Name"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:276,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Code"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:277,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Unit"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:278,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Location"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:279,columnNumber:41},void 0),n.jsxDEV("th",{className:"px-3 py-2 text-left text-gray-300 font-semibold",children:"Loc Code"},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:280,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:275,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:274,columnNumber:33},void 0),n.jsxDEV("tbody",{children:B.map((Y,ne)=>n.jsxDEV("tr",{className:"border-b border-gray-700 hover:bg-gray-700/30",children:[n.jsxDEV("td",{className:"px-3 py-2 text-white",children:Y.name},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:286,columnNumber:45},void 0),n.jsxDEV("td",{className:"px-3 py-2 text-white",children:Y.code},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:287,columnNumber:45},void 0),n.jsxDEV("td",{className:"px-3 py-2 text-white",children:Y.unit},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:288,columnNumber:45},void 0),n.jsxDEV("td",{className:"px-3 py-2 text-white",children:Y.location},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:289,columnNumber:45},void 0),n.jsxDEV("td",{className:"px-3 py-2 text-white",children:Y.locationCode},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:290,columnNumber:45},void 0)]},ne,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:285,columnNumber:41},void 0))},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:283,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:273,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:272,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:268,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/FormationCallsignsSection.tsx",lineNumber:81,columnNumber:9},void 0)},h_=({instructors:t,trainees:e,onUpdateInstructorPermission:s,onUpdateTraineePermission:r,onShowSuccess:a,currentUserPermission:u="Super Admin"})=>{const[m,d]=S.useState(!1),[f,p]=S.useState(""),[h,v]=S.useState("All"),[b,x]=S.useState("All"),[k,C]=S.useState(new Map),V=u==="Super Admin",F=S.useMemo(()=>{const I=t.map(K=>{var X;return{id:K.idNumber,name:K.name,type:"Instructor",currentRole:[K.isExecutive&&"Executive",K.isFlyingSupervisor&&"Flying Supervisor",K.isTestingOfficer&&"Testing Officer",K.isIRE&&"IRE"].filter(Boolean).join(", ")||"Instructor",permissionLevel:((X=K.permissions)==null?void 0:X[0])||"Staff"}}),_=e.map(K=>{var X;return{id:K.idNumber,name:K.name,type:"Trainee",currentRole:K.course,permissionLevel:((X=K.permissions)==null?void 0:X[0])||"Trainee"}});return[...I,..._].sort((K,X)=>K.name.localeCompare(X.name))},[t,e]),U=S.useMemo(()=>F.filter(I=>{var Fe;const _=I.name.toLowerCase().includes(f.toLowerCase())||((Fe=I.currentRole)==null?void 0:Fe.toLowerCase().includes(f.toLowerCase())),K=h==="All"||I.permissionLevel===h,X=b==="All"||I.type===b;return _&&K&&X}),[F,f,h,b]),q=()=>{const I=new Map;F.forEach(_=>{I.set(`${_.type}-${_.id}`,_.permissionLevel)}),C(I),d(!0)},B=()=>{k.forEach((I,_)=>{var ie,Ee;const[K,X]=_.split("-"),Fe=parseInt(X);if(K==="Instructor"){const ge=t.find(we=>we.idNumber===Fe);ge&&((ie=ge.permissions)==null?void 0:ie[0])!==I&&s(Fe,I)}else if(K==="Trainee"){const ge=e.find(we=>we.idNumber===Fe);ge&&((Ee=ge.permissions)==null?void 0:Ee[0])!==I&&r(Fe,I)}}),d(!1),a("User permissions updated successfully")},Y=()=>{d(!1),C(new Map)},ne=(I,_)=>{const K=`${I.type}-${I.id}`;C(X=>{const Fe=new Map(X);return Fe.set(K,_),Fe})},J=I=>{const _=`${I.type}-${I.id}`;return k.get(_)||I.permissionLevel},O=I=>({"Super Admin":"bg-purple-600",Admin:"bg-red-600",Staff:"bg-blue-600",Trainee:"bg-green-600",Ops:"bg-yellow-600",Scheduler:"bg-orange-600","Course Supervisor":"bg-pink-600"})[I],A=["Super Admin","Admin","Staff","Trainee","Ops","Scheduler","Course Supervisor"],L=S.useMemo(()=>{const I={"Super Admin":0,Admin:0,Staff:0,Trainee:0,Ops:0,Scheduler:0,"Course Supervisor":0};return F.forEach(_=>{I[_.permissionLevel]++}),I},[F]);return V?n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-full max-w-6xl h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("div",{children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Permissions Manager"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:190,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Assign permission levels to individual users"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:191,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:189,columnNumber:17},void 0),m?n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("button",{onClick:B,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save Changes"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:195,columnNumber:25},void 0),n.jsxDEV("button",{onClick:Y,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:201,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:194,columnNumber:21},void 0):n.jsxDEV("button",{onClick:q,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Edit Permissions"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:209,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:188,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:[n.jsxDEV("div",{className:"flex space-x-4",children:[n.jsxDEV("div",{className:"flex-1",children:n.jsxDEV("input",{type:"text",placeholder:"Search by name or role/course...",value:f,onChange:I=>p(I.target.value),className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:222,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:221,columnNumber:21},void 0),n.jsxDEV("div",{children:n.jsxDEV("select",{value:b,onChange:I=>x(I.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500",children:[n.jsxDEV("option",{value:"All",children:"All Users"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:236,columnNumber:29},void 0),n.jsxDEV("option",{value:"Instructor",children:"Instructors Only"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:237,columnNumber:29},void 0),n.jsxDEV("option",{value:"Trainee",children:"Trainees Only"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:238,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:231,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:230,columnNumber:21},void 0),n.jsxDEV("div",{children:n.jsxDEV("select",{value:h,onChange:I=>v(I.target.value),className:"bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white text-sm focus:outline-none focus:ring-sky-500",children:[n.jsxDEV("option",{value:"All",children:"All Permissions"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:247,columnNumber:29},void 0),A.map(I=>n.jsxDEV("option",{value:I,children:I},I,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:249,columnNumber:33},void 0))]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:242,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:241,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:220,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-700/50 rounded-lg",children:[n.jsxDEV("span",{className:"text-xs text-gray-400 mr-2",children:"Permission Summary:"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:257,columnNumber:21},void 0),A.map(I=>n.jsxDEV("span",{className:"flex items-center space-x-1",children:[n.jsxDEV("span",{className:`w-3 h-3 rounded ${O(I)}`},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:260,columnNumber:29},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300",children:[I,": ",L[I]]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:261,columnNumber:29},void 0)]},I,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:259,columnNumber:25},void 0))]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:256,columnNumber:17},void 0),n.jsxDEV("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:n.jsxDEV("table",{className:"w-full text-left text-sm",children:[n.jsxDEV("thead",{className:"sticky top-0 bg-gray-800 z-10",children:n.jsxDEV("tr",{className:"border-b border-gray-700",children:[n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Name"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:271,columnNumber:33},void 0),n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Type"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:272,columnNumber:33},void 0),n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Role/Course"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:273,columnNumber:33},void 0),n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 py-3",children:"Permission Level"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:274,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:270,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:269,columnNumber:25},void 0),n.jsxDEV("tbody",{children:U.map((I,_)=>{const K=m?J(I):I.permissionLevel;return n.jsxDEV("tr",{className:`border-b border-gray-700 ${_%2===0?"bg-gray-800/50":"bg-gray-800/30"}`,children:[n.jsxDEV("td",{className:"py-3 px-4 text-gray-200 font-medium",children:I.name},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:282,columnNumber:41},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:n.jsxDEV("span",{className:`px-2 py-1 rounded text-xs font-semibold ${I.type==="Instructor"?"bg-blue-600 text-white":"bg-green-600 text-white"}`,children:I.type},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:284,columnNumber:45},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:283,columnNumber:41},void 0),n.jsxDEV("td",{className:"py-3 px-4 text-gray-300",children:I.currentRole},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:290,columnNumber:41},void 0),n.jsxDEV("td",{className:"py-3 px-4",children:m?n.jsxDEV("select",{value:K,onChange:X=>ne(I,X.target.value),className:`${O(K)} text-white rounded-md py-1 px-2 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-sky-500`,children:A.map(X=>n.jsxDEV("option",{value:X,children:X},X,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:299,columnNumber:57},void 0))},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:293,columnNumber:49},void 0):n.jsxDEV("span",{className:`${O(K)} text-white px-3 py-1 rounded text-xs font-semibold inline-block`,children:K},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:303,columnNumber:49},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:291,columnNumber:41},void 0)]},`${I.type}-${I.id}`,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:281,columnNumber:37},void 0)})},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:277,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:268,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:267,columnNumber:17},void 0),U.length===0&&n.jsxDEV("div",{className:"text-center py-8 text-gray-400",children:"No users found matching your filters."},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:316,columnNumber:21},void 0),n.jsxDEV("div",{className:"p-3 bg-gray-700/50 rounded-lg",children:n.jsxDEV("p",{className:"text-xs text-gray-400",children:["Showing ",U.length," of ",F.length," users"]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:323,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:322,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:218,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:187,columnNumber:9},void 0):n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-full max-w-6xl h-fit",children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Permissions Manager"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:172,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Manage user access permissions"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:173,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:171,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-8 text-center",children:[n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-red-500 mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:177,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:176,columnNumber:21},void 0),n.jsxDEV("h3",{className:"text-xl font-semibold text-white mb-2",children:"Access Denied"},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:179,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-gray-400",children:"Only Super Admin users can manage permissions."},void 0,!1,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:180,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:175,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PermissionsManagerWindow.tsx",lineNumber:170,columnNumber:13},void 0)},N_=({preferredDutyPeriod:t,onUpdatePreferredDutyPeriod:e,maxCrewDutyPeriod:s,onUpdateMaxCrewDutyPeriod:r,flightTurnaround:a,onUpdateFlightTurnaround:u,ftdTurnaround:m,onUpdateFtdTurnaround:d,cptTurnaround:f,onUpdateCptTurnaround:p})=>{const h=S.useMemo(()=>Array.from({length:30},(b,x)=>parseFloat(((x+1)*.1).toFixed(1))),[]),v=({label:b,value:x,onChange:k,options:C})=>n.jsxDEV("div",{children:[n.jsxDEV("label",{htmlFor:`turnaround-${b}`,className:"block text-sm font-medium text-gray-400",children:b},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:33,columnNumber:13},void 0),n.jsxDEV("select",{id:`turnaround-${b}`,value:x,onChange:V=>k(parseFloat(V.target.value)),className:"w-full mt-1 bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center",children:C.map(V=>n.jsxDEV("option",{value:V,children:[V.toFixed(1)," hrs"]},V,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:40,columnNumber:37},void 0))},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:34,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:32,columnNumber:9},void 0);return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Duty & Turnaround"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:48,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:47,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 border-t border-gray-700 space-y-4",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Crew Duty Period (hrs)"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:52,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsxDEV("div",{className:"flex flex-col flex-1",children:[n.jsxDEV("label",{className:"block text-xs text-gray-500 mb-1",children:"Soft Limit"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:55,columnNumber:29},void 0),n.jsxDEV("input",{type:"number",value:t,onChange:b=>{Ln("Settings","Edit","Updated soft limit duty period",`${t} â†’ ${parseInt(b.target.value)}`),e(parseInt(b.target.value))},className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:56,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:54,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex flex-col flex-1",children:[n.jsxDEV("label",{className:"block text-xs text-gray-500 mb-1",children:"Hard Limit"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:67,columnNumber:29},void 0),n.jsxDEV("input",{type:"number",value:s,onChange:b=>{Ln("Settings","Edit","Updated hard limit duty period",`${s} â†’ ${parseInt(b.target.value)}`),r(parseInt(b.target.value))},className:"w-full bg-gray-700 border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 text-center"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:68,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:66,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:53,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:51,columnNumber:17},void 0),n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Turnaround Times"},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:81,columnNumber:21},void 0),n.jsxDEV("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[n.jsxDEV(v,{label:"Flight",value:a,onChange:b=>{Ln("Settings","Edit","Updated flight turnaround time",`${a} â†’ ${b}`),u(b)},options:h},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:83,columnNumber:25},void 0),n.jsxDEV(v,{label:"FTD",value:m,onChange:b=>{Ln("Settings","Edit","Updated FTD turnaround time",`${m} â†’ ${b}`),d(b)},options:h},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:92,columnNumber:25},void 0),n.jsxDEV(v,{label:"CPT",value:f,onChange:b=>{Ln("Settings","Edit","Updated CPT turnaround time",`${f} â†’ ${b}`),p(b)},options:h},void 0,!1,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:101,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:82,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/DutyTurnaroundSection.tsx",lineNumber:46,columnNumber:9},void 0)},Yk=()=>n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-sky-400 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:84,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:83,columnNumber:5},void 0),b_=()=>n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:89,columnNumber:5},void 0),g_=()=>n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:96,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:95,columnNumber:5},void 0),x_=({hideHeader:t=!1,locations:e,onUpdateLocations:s,units:r,onUpdateUnits:a,unitLocations:u,onUpdateUnitLocations:m,instructorsData:d,traineesData:f,syllabusDetails:p,onBulkUpdateInstructors:h,onReplaceInstructors:v,onBulkUpdateTrainees:b,onReplaceTrainees:x,onUpdateSyllabus:k,onShowSuccess:C,eventLimits:V,onUpdateEventLimits:F,phraseBank:U,onUpdatePhraseBank:q,onNavigate:B,masterCurrencies:Y,currencyRequirements:ne,sctEvents:J,onUpdateSctEvents:O,preferredDutyPeriod:A,onUpdatePreferredDutyPeriod:L,maxCrewDutyPeriod:I,onUpdateMaxCrewDutyPeriod:_,flightTurnaround:K,onUpdateFlightTurnaround:X,ftdTurnaround:Fe,onUpdateFtdTurnaround:ie,cptTurnaround:Ee,onUpdateCptTurnaround:ge,currentUserPermission:we,activeSection:Ye="scoring-matrix",maxDispatchPerHour:be,onUpdateMaxDispatchPerHour:H,timezoneOffset:ae,onUpdateTimezoneOffset:te,formationCallsigns:re,onUpdateFormationCallsigns:se,courseColors:he,setCourseColors:ve,onUpdateTraineeLMPs:Be,cancellationRecords:xe,cancellationCodes:ue})=>{const fe=["Super Admin","Admin","Scheduler"].includes(we),[Ge,Re]=S.useState(!1),[Q,je]=S.useState([]),[Ze,wt]=S.useState(""),[mt,Pe]=S.useState(!1),[rt,ct]=S.useState([]),[Tt,Ct]=S.useState(""),[dn,cn]=S.useState({}),[dt,Mt]=S.useState(!1),[Xe,Et]=S.useState(!1),[Vt,zt]=S.useState([]),[ot,ke]=S.useState(""),[$e,De]=S.useState(!1),[it,G]=S.useState(V),[Ve,et]=S.useState(!1),[jt,lt]=S.useState("Airmanship"),[tt,ut]=S.useState([]),[Ft]=S.useState([{id:"instructor_loads",name:"Instructor Loads"},{id:"trainee_loads",name:"Trainee Loads"},{id:"lmp_loads",name:"LMP Loads"},{id:"logbook_templates",name:"Logbook Template"},{id:"miscellaneous",name:"Miscellaneous"},{id:"trainee_data",name:"Trainee Data"},{id:"trainee_logbook",name:"Logbook",isSub:!0},{id:"staff_data",name:"Staff Data"},{id:"staff_logbook",name:"Logbook",isSub:!0}]),[_t,Lt]=S.useState(!1),[Qe,Xt]=S.useState(null),[jn,Dn]=S.useState(!1),[Te,He]=S.useState(null),[at,Bt]=S.useState(null),[Pt,hn]=S.useState(null),[Ce,$t]=S.useState(!1),[$,_e]=S.useState({staff:!0,trainees:!0,courses:!0});S.useEffect(()=>{const Ae=localStorage.getItem("dataSourceSettings");if(Ae)try{const un=JSON.parse(Ae);_e({staff:un.staff??!0,trainees:un.trainees??!0,courses:un.courses??!0})}catch(un){console.error("Error loading data source settings:",un)}},[]);const pt=Ae=>{const un={...$,[Ae]:!$[Ae]};_e(un),localStorage.setItem("dataSourceSettings",JSON.stringify(un)),console.log("ðŸ“Š Data source settings updated:",un)},[St,Nt]=S.useState(!1),[Yt,xn]=S.useState("minor"),[yn,uo]=S.useState(""),[Nn,Tn]=S.useState([]),[yo,po]=S.useState(!1),[Rn,qn]=S.useState(null),[to,Un]=S.useState(!1),[Mn,io]=S.useState(""),[co,lo]=S.useState(!1),[bo,ii]=S.useState({added:0,updated:0,replaced:0,skipped:0,type:""}),[Oo,Qn]=S.useState(!1),[pi,Po]=S.useState([]),[To,Pi]=S.useState([]),[Ko,Ro]=S.useState([]),[is,vs]=S.useState(0),Or=S.useMemo(()=>new Set(Ft.map(Ae=>Ae.id)),[Ft]),ws=S.useMemo(()=>tt.filter(Ae=>!Or.has(Ae.folderId)),[tt,Or]),hi=S.useMemo(()=>Object.keys(he).sort((Ae,un)=>Ae.localeCompare(un)),[he]),Pl=(Ae,un)=>{const It=Ae.name||"",Cn=un.name||"";return It.localeCompare(Cn)},ea=S.useMemo(()=>[...Y,...ne].filter(Ae=>Ae.isVisible).sort(Pl),[Y,ne]);S.useEffect(()=>{(async()=>{try{await jv(),gr()}catch(un){console.error("Failed to initialize DB:",un)}})()},[]),S.useEffect(()=>{Oo&&pi.length>0?Ho():Oo&&pi.length===0&&ki()},[Oo,pi]);const Ni=Ae=>Ye?Ye===Ae:!0,gr=async()=>{const Ae=await Fv();ut(Ae)},Ea=()=>{je([...e]),Re(!0)},Du=()=>{const Ae=e.join(", "),un=Q.join(", ");s(Q),Re(!1),Ln({page:"Settings - Location",action:"update",description:"Updated operating locations",changes:`From: [${Ae}] To: [${un}]`})},Xa=()=>{wt(""),Re(!1)},Rl=()=>{Ze&&!Q.includes(Ze)&&(je([...Q,Ze]),wt(""))},Br=Ae=>{je(Q.filter(un=>un!==Ae))},Ri=()=>{ct([...r]),cn({...u}),Pe(!0)},ul=()=>{const Ae=r.join(", "),un=rt.join(", ");a(rt);const It={};for(const Cn of rt)It[Cn]=dn[Cn];m(It),Pe(!1),Ln({page:"Settings - Units",action:"update",description:"Updated organizational units and locations",changes:`From: [${Ae}] To: [${un}]`})},Rr=()=>{Ct(""),Pe(!1)},Vs=()=>{Tt&&!rt.includes(Tt)&&(ct([...rt,Tt]),cn(Ae=>({...Ae,[Tt]:e[0]||""})),Ct(""))},Mr=Ae=>{ct(rt.filter(It=>It!==Ae));const un={...dn};delete un[Ae],cn(un)},Le=()=>{zt([...J]),Mt(!0)},Dt=()=>{const Ae=J.join(", "),un=Vt.join(", ");O(Vt),Mt(!1),Ln({page:"Settings - SCT Events",action:"update",description:"Updated SCT event types",changes:`From: [${Ae}] To: [${un}]`})},ln=()=>{ke(""),Mt(!1)},en=()=>{ot&&!Vt.includes(ot)&&(zt([...Vt,ot]),ke(""))},sn=Ae=>{zt(Vt.filter(un=>un!==Ae))},mn=(Ae,un)=>{cn(It=>({...It,[Ae]:un}))},kn=()=>{G(JSON.parse(JSON.stringify(V))),De(!0)},Kn=()=>{F(it),De(!1),C("Events limits updated"),Ln({page:"Settings - Event Limits",action:"update",description:"Updated event scheduling limits",changes:"Updated limits for QFI, Staff, Trainee, and SIM IP categories"})},vn=Ae=>{L(Ae),Ln({page:"Settings - Duty & Turnaround",action:"update",description:"Updated preferred duty period",changes:`Set to: ${Ae} hours`})},No=Ae=>{_(Ae),Ln({page:"Settings - Duty & Turnaround",action:"update",description:"Updated max crew duty period",changes:`Set to: ${Ae} hours`})},Jo=Ae=>{X(Ae),Ln({page:"Settings - Duty & Turnaround",action:"update",description:"Updated flight turnaround time",changes:`Set to: ${Ae} minutes`})},bi=Ae=>{ie(Ae),Ln({page:"Settings - Duty & Turnaround",action:"update",description:"Updated FTD turnaround time",changes:`Set to: ${Ae} minutes`})},Ui=Ae=>{ge(Ae),Ln({page:"Settings - Duty & Turnaround",action:"update",description:"Updated CPT turnaround time",changes:`Set to: ${Ae} minutes`})},or=Ae=>{lt(Ae),et(!0)},ta=Ae=>{q(Ae),Ln({page:"Settings - Scoring Matrix",action:"update",description:"Updated scoring matrix phrase bank",changes:"Modified scoring criteria and phrases"})},cl=()=>{Lt(!0)},ku=Ae=>{Xt(Ae),Lt(!1),Dn(!0)},$r=async Ae=>{if(Qe){const un=new Date,It=un.getFullYear().toString().slice(-2),Cn=(un.getMonth()+1).toString().padStart(2,"0"),no=un.getDate().toString().padStart(2,"0"),Go=`${It}${Cn}${no}`,Fn=Ft.find(gi=>gi.id===Ae),Jn=Fn?Fn.name.replace(/\s+/g,"_"):"Uncategorized",Co=Qe.name,En=`${Go}_${Jn}_${Co}`;await Jm(Qe,Ae,En),gr(),Ln({page:"Settings - Data Loaders",action:"create",description:`Uploaded file to ${Jn}`,changes:`File: ${En}`})}Dn(!1),Xt(null)},xr=Ae=>{He(Ae)},Da=async()=>{if(Te){const Ae=await ub(Te.id);if(Ae){const un=URL.createObjectURL(Ae.content),It=document.createElement("a");It.href=un,It.download=Ae.name,document.body.appendChild(It),It.click(),document.body.removeChild(It),URL.revokeObjectURL(un)}He(null)}},ei=Ae=>{Bt(Ae)},Ts=async()=>{at&&(await cb(at.id),gr(),Ln({page:"Settings - Data Loaders",action:"delete",description:"Deleted file from data loaders",changes:`File: ${at.name}`}),Bt(null))},Qa=()=>{const Ae=document.createElement("a");Ae.href="/Staff_Bulk_Update_Template.xlsx",Ae.download="Staff_Bulk_Update_Template.xlsx",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},ss=()=>{const Ae=document.createElement("a");Ae.href="/Trainee_Bulk_Update_Template.xlsx",Ae.download="Trainee_Bulk_Update_Template.xlsx",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},dl=()=>{const Ae=document.createElement("a");Ae.href="/LMP_Syllabus_Template.xlsx",Ae.download="LMP_Syllabus_Template.xlsx",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae)},Cs=()=>{const Ae=["Date","Aircraft","Pilot","Student","Sortie","Duration","Result"],un=XLSX.utils.json_to_sheet([{}],{header:Ae}),It=XLSX.utils.book_new();XLSX.utils.book_append_sheet(It,un,"Logbook"),XLSX.writeFile(It,"Logbook_Template.xlsx")},Es=Ae=>{hn(Ae),$t(!0)},na=async(Ae,un)=>{if(Ae!=="1111"){C("Incorrect PIN.");return}$t(!1),xn(un),(Pt==null?void 0:Pt.folderId)==="trainee_loads"?(await Ml(),Nt(!0)):j(un,"")},Ml=async()=>{if(Pt)try{const Ae=await ub(Pt.id);if(!Ae)return;const un=await Ae.content.arrayBuffer(),It=XLSX.read(un,{type:"buffer"}),Cn=It.SheetNames[0],no=It.Sheets[Cn],Go=XLSX.utils.sheet_to_json(no),Fn=new Set;Go.forEach(Jn=>{const Co=ze(Jn,["Course Prefix","coursePrefix"]),En=ze(Jn,["Course Number","courseNumber"]);if(Co&&En)Fn.add(`${Co}${En}`);else{const gi=ze(Jn,["Course"]);gi&&Fn.add(gi)}}),Tn(Array.from(Fn))}catch(Ae){console.error("Error extracting courses from file:",Ae)}},ml=Ae=>{uo(Ae),Nt(!1),j(Yt,Ae)},j=async(Ae,un)=>{if(Pt)try{const It=await ub(Pt.id);if(!It)throw new Error("File not found");const Cn=await It.content.arrayBuffer(),no=XLSX.read(Cn,{type:"buffer"}),Go=no.SheetNames[0],Fn=no.Sheets[Go],Jn=XLSX.utils.sheet_to_json(Fn);Ae==="bulk"?ao(Jn,un):go(Jn,un)}catch(It){console.error("File processing error:",It),C(`Error processing file: ${It.message}`)}},oe=(Ae,un)=>{for(const Cn of un)if(Ae[Cn]!==void 0)return Ae[Cn];const It=Object.keys(Ae);for(const Cn of un){const no=Cn.toLowerCase().replace(/[\s/]/g,"");for(const Go of It)if(Go.toLowerCase().replace(/[\s/]/g,"")===no)return Ae[Go]}},Me=Ae=>typeof Ae=="boolean"?Ae:typeof Ae=="string"?Ae.trim().toLowerCase()==="true":!!Ae,ze=(Ae,un)=>{const It=oe(Ae,un);return It!==void 0?String(It).trim():void 0},kt=(Ae,un)=>{const It=oe(Ae,un);if(It==null||String(It).trim()==="")return;const Cn=parseFloat(String(It).replace(/[A-Za-z]/g,"").trim());return isNaN(Cn)?void 0:Cn},Jt=(Ae,un)=>{const It=oe(Ae,un);if(It!=null)return String(It).split(";").map(Cn=>Cn.trim()).filter(Boolean)},an=Ae=>{const un=kt(Ae,["PMKeys/ID","idNumber"]);if(un===void 0)return null;const It={idNumber:un},Cn=ze(Ae,["Srname","Surname","Last Name"]),no=ze(Ae,["First name","Firstname","Given Name"]);Cn&&no&&(It.name=`${Cn}, ${no}`);const Go=ze(Ae,["Rank"]);Go&&(It.rank=Go);const Fn=kt(Ae,["callsign number","callsignnumber"]);Fn!==void 0&&(It.callsignNumber=Fn);const Jn=ze(Ae,["Service"]);Jn&&(It.service=Jn);const Co=ze(Ae,["Category"]);Co&&(It.category=Co);const En=ze(Ae,["Seat config","seatConfig"]);En&&(It.seatConfig=En);const gi=ze(Ae,["Roles"]);if(gi){const Xo=gi.toLowerCase();It.isExecutive=Xo.includes("executive"),It.isFlyingSupervisor=Xo.includes("supervisor"),It.isTestingOfficer=Xo.includes("testing"),It.isIRE=Xo.includes("ire")}return It},zn=Ae=>{const un=kt(Ae,["PMKeys/ID","idNumber"]);if(un===void 0)return null;const It={idNumber:un},Cn=ze(Ae,["Name","Name [Surname, Firstname]"]);if(Cn)It.name=Cn;else{const zi=ze(Ae,["Surname","Last Name"]),wr=ze(Ae,["First Name","Firstname","Given Name"]);zi&&wr&&(It.name=`${zi}, ${wr}`)}const no=ze(Ae,["Course Prefix","coursePrefix"]),Go=ze(Ae,["Course Number","courseNumber"]);if(no&&Go)It.course=`${no}${Go}`;else{const zi=ze(Ae,["Course"]);zi&&(It.course=zi)}const Fn=ze(Ae,["LMP","lmpType"]);Fn&&(It.lmpType=Fn);const Jn=ze(Ae,["Rank"]);Jn&&(It.rank=Jn);const Co=ze(Ae,["Callsign","callsign"]);Co&&(It.callsignNumber=parseInt(Co)||void 0);const En=ze(Ae,["Service"]);En&&(It.service=En);const gi=ze(Ae,["Unit"]);gi&&(It.unit=gi);const Xo=ze(Ae,["Flight","flight"]);Xo&&(It.flight=Xo);const fs=ze(Ae,["Location"]);fs&&(It.location=fs);const $s=ze(Ae,["Seat Config","seatConfig"]);$s&&(It.seatConfig=$s);const Oi=ze(Ae,["Phone Number","phoneNumber"]);Oi&&(It.phoneNumber=Oi);const Hr=ze(Ae,["Email"]);Hr&&(It.email=Hr);const ps=ze(Ae,["Primary Instructor","primaryInstructor"]);ps&&(It.primaryInstructor=ps);const yr=ze(Ae,["Secondary Instructor","secondaryInstructor"]);yr&&(It.secondaryInstructor=yr);const vr=ze(Ae,["Permissions","permissions"]);vr&&(It.permissions=vr.split(/\r?\n/).map(zi=>zi.trim()).filter(Boolean));const ir=oe(Ae,["Is Paused","isPaused"]);return ir!==void 0&&(It.isPaused=Me(ir)),It.isPaused||(It.isPaused=!1),It.unit||(It.unit=""),It.rank||(It.rank="FLGOFF"),It.seatConfig||(It.seatConfig="Front"),It.unavailability||(It.unavailability=[]),It.name&&It.course?It.fullName=`${It.name} â€“ ${It.course}`:It.name&&(It.fullName=It.name),It},In=Ae=>{const un=ze(Ae,["Code"]);if(!un)return null;const It={code:un},Cn=ze(Ae,["Phase"]);Cn&&(It.phase=Cn);const no=ze(Ae,["Module"]);no&&(It.module=no);const Go=ze(Ae,["Event description","eventDescription"]);Go&&(It.eventDescription=Go);const Fn=Jt(Ae,["Pre-requisite Events (Ground School)","prerequisitesGround"]);Fn&&(It.prerequisitesGround=Fn);const Jn=Jt(Ae,["Pre-requisite Events (Sim/Flying)","prerequisitesFlying"]);Jn&&(It.prerequisitesFlying=Jn),(Fn||Jn)&&(It.prerequisites=[...Fn||[],...Jn||[]]);const Co=Jt(Ae,["Event Details - Common","eventDetailsCommon"]);Co&&(It.eventDetailsCommon=Co);const En=Jt(Ae,["Event Details - Sortie","eventDetailsSortie"]);En&&(It.eventDetailsSortie=En);const gi=kt(Ae,["Total Event Hours","totalEventHours"]);gi!==void 0&&(It.totalEventHours=gi);const Xo=kt(Ae,["Flight or Sim Hours","flightOrSimHours"]);Xo!==void 0&&(It.flightOrSimHours=Xo,It.duration=Xo);const fs=Jt(Ae,["Method/s of Delivery","methodOfDelivery"]);fs&&(It.methodOfDelivery=fs);const $s=Jt(Ae,["Type/s and Method/s of Assessment","methodOfAssessment"]);$s&&(It.methodOfAssessment=$s);const Oi=Jt(Ae,["Resources Required (physical)","resourcesPhysical"]);Oi&&(It.resourcesPhysical=Oi);const Hr=Jt(Ae,["Resources Required (Human)","resourcesHuman"]);return Hr&&(It.resourcesHuman=Hr),It},ao=(Ae,un)=>{if(!Pt)return;let It=0,Cn=[];switch(Pt.folderId){case"instructor_loads":Cn=Ae.map(an).filter(Fn=>Fn&&Fn.idNumber),v(Cn);break;case"trainee_loads":if(un){const Fn=Ae.map(zn);console.log("ðŸ”µ BULK UPDATE DEBUG - Parsed rows:",Fn.length),console.log("ðŸ”µ First parsed row:",Fn[0]),Cn=Fn.filter(En=>En&&En.idNumber&&En.name),console.log("ðŸ”µ Filtered rows (with ID and name):",Cn.length),Cn.length===0&&(console.error("ðŸ”´ NO ROWS PASSED FILTER! Check if rows have idNumber and name"),console.log("ðŸ”´ Sample parsed row:",Fn[0]));const Jn=f.filter(En=>En.course!==un);console.log("ðŸ”µ Other course trainees:",Jn.length);const Co=Cn.map(En=>({...En,course:un}));console.log("ðŸ”µ New trainees to add:",Co.length),console.log("ðŸ”µ Sample new trainee:",Co[0]),console.log("ðŸ”µ Total trainees after update:",Jn.length+Co.length),x([...Jn,...Co])}else Cn=Ae.map(zn).filter(Fn=>Fn&&Fn.idNumber&&Fn.name),x(Cn);break;case"lmp_loads":Cn=Ae.map(In).filter(Fn=>Fn&&Fn.code),k(Cn);break}It=Cn.length,ii({type:"Bulk",replaced:It,added:0,updated:0,skipped:Ae.length-It}),lo(!0);const no=Pt.folderId==="instructor_loads"?"Instructors":Pt.folderId==="trainee_loads"?"Trainees":"LMP Data",Go=un?` for course: ${un}`:"";Ln({page:"Settings - Data Loaders",action:"update",description:`Bulk update: ${no}${Go}`,changes:`Replaced ${It} records from file: ${Pt.name}`}),hn(null)},go=(Ae,un)=>{Po(Ae),Pi([]),Ro([]),vs(0),uo(un),Qn(!0)},Ho=()=>{if(!Pt){Qn(!1);return}const[Ae,...un]=pi;Po(un);let It,Cn;switch(Pt.folderId){case"instructor_loads":if(It=an(Ae),!(It!=null&&It.idNumber)){vs(no=>no+1);return}Cn=d.find(no=>no.idNumber===It.idNumber);break;case"trainee_loads":if(It=zn(Ae),!(It!=null&&It.idNumber)){vs(no=>no+1);return}yn?(Cn=f.find(no=>no.idNumber===It.idNumber&&no.course===yn),It.course=yn):Cn=f.find(no=>no.idNumber===It.idNumber);break;case"lmp_loads":if(It=In(Ae),!(It!=null&&It.code)){vs(no=>no+1);return}Cn=p.find(no=>no.code.trim().replace(/\s/g,"").toLowerCase()===String(It.code).trim().replace(/\s/g,"").toLowerCase());break;default:vs(no=>no+1);return}if(Cn){const no={...Cn,...It};Pt.folderId==="trainee_loads"&&(!It.primaryInstructor&&Cn.primaryInstructor&&(no.primaryInstructor=Cn.primaryInstructor),!It.secondaryInstructor&&Cn.secondaryInstructor&&(no.secondaryInstructor=Cn.secondaryInstructor)),Pi(Go=>[...Go,no])}else Ro(no=>[...no,It])},ki=()=>{if(Qn(!1),!Pt)return;let Ae=[];switch(Pt.folderId){case"instructor_loads":Ae=[...d],To.forEach(Fn=>{const Jn=Ae.findIndex(Co=>Co.idNumber===Fn.idNumber);Jn!==-1&&(Ae[Jn]=Fn)});const Cn=Ae.filter(Fn=>!Ko.some(Jn=>Jn.idNumber===Fn.idNumber));console.log(`[DEBUG] Filtered out ${Ae.length-Cn.length} duplicate records`),h([...Cn,...Ko]);break;case"trainee_loads":if(Ae=[...f],yn){To.forEach(Jn=>{const Co=Ae.findIndex(En=>En.idNumber===Jn.idNumber&&En.course===yn);Co!==-1&&(Ae[Co]=Jn)});const Fn=Ko.map(Jn=>({...Jn,course:yn}));if(b([...Ae,...Fn]),console.log(`[DEBUG] About to initialize LMP for ${Fn.length} new trainees`),console.log("[DEBUG] onUpdateTraineeLMPs function available:",typeof Be),console.log("[DEBUG] New trainees:",Fn.map(Jn=>({name:Jn.fullName,lmpType:Jn.lmpType,course:Jn.course}))),Be&&Be(Jn=>{console.log(`[DEBUG] LMP initialization started. Previous LMPs count: ${Jn.size}`);const Co=new Map(Jn);return Fn.forEach(En=>{if(console.log(`[DEBUG] Processing trainee: ${En.fullName}, LMP Type: ${En.lmpType}`),En.fullName&&En.lmpType){const gi=p.filter(Xo=>Xo.courses.includes(En.lmpType));console.log(`[DEBUG] Found ${gi.length} master LMP items for ${En.lmpType}`),gi.length>0?(Co.set(En.fullName,[...gi]),console.log(`[Individual LMP] Initialized ${En.fullName}'s Individual LMP with ${En.lmpType} (${gi.length} events)`)):console.warn(`[Individual LMP] No Master LMP found for LMP type: ${En.lmpType}`)}else console.warn(`[DEBUG] Skipping trainee ${En.fullName} - missing fullName or lmpType`)}),console.log(`[DEBUG] LMP initialization complete. New LMPs count: ${Co.size}`),Co}),yn&&!he[yn]){const Jn=["#e74c3c","#3498db","#9b59b6","#1abc9c","#f39c12","#34495e","#16a085","#27ae60","#2980b9"],Co=Object.keys(he).length%Jn.length,En={...he,[yn]:Jn[Co]};ve(En),console.log(`ðŸŽ¨ Added color for course ${yn}: ${Jn[Co]}`)}}else To.forEach(Fn=>{const Jn=Ae.findIndex(Co=>Co.idNumber===Fn.idNumber);Jn!==-1&&(Ae[Jn]=Fn)}),b([...Ae,...Ko]);break;case"lmp_loads":const no=new Map(To.map(Fn=>[Fn.code.trim().replace(/\s/g,"").toLowerCase(),Fn])),Go=p.map(Fn=>{const Jn=Fn.code.trim().replace(/\s/g,"").toLowerCase();return no.get(Jn)||Fn});k([...Go,...Ko]);break}ii({type:"Minor",added:Ko.length,updated:To.length,skipped:is,replaced:0}),lo(!0);const un=Pt.folderId==="instructor_loads"?"Instructors":Pt.folderId==="trainee_loads"?"Trainees":"LMP Data",It=yn?` for course: ${yn}`:"";Ln({page:"Settings - Data Loaders",action:"update",description:`Minor update: ${un}${It}`,changes:`Added ${Ko.length}, Updated ${To.length}, Skipped ${is} from file: ${Pt.name}`}),hn(null),Po([]),Ro([]),Pi([]),vs(0)},mi=()=>{Rn&&Ro(Ae=>[...Ae,Rn]),po(!1),qn(null),Qn(!0)},fi=()=>{vs(Ae=>Ae+1),po(!1),qn(null),Qn(!0)},ui=({file:Ae})=>n.jsxDEV("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded text-sm group",children:[n.jsxDEV("div",{className:"flex items-center truncate",children:[n.jsxDEV(b_,{},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1219,columnNumber:17},void 0),n.jsxDEV("span",{className:"truncate text-white",title:Ae.name,children:Ae.name},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1220,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1218,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex space-x-2 flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsxDEV("button",{onClick:()=>Es(Ae),className:"p-1 text-gray-400 hover:text-green-400","aria-label":"Update from file",children:n.jsxDEV(g_,{},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1224,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1223,columnNumber:17},void 0),n.jsxDEV("button",{onClick:()=>xr(Ae),className:"p-1 text-gray-400 hover:text-sky-400","aria-label":"Download file",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1226,columnNumber:243},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1226,columnNumber:143},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1226,columnNumber:17},void 0),n.jsxDEV("button",{onClick:()=>ei(Ae),className:"p-1 text-gray-400 hover:text-red-400","aria-label":"Delete file",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1227,columnNumber:239},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1227,columnNumber:139},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1227,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1222,columnNumber:13},void 0)]},Ae.id,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1217,columnNumber:10},void 0);return n.jsxDEV(n.Fragment,{children:[n.jsxDEV("div",{className:"space-y-6",children:[Ni("validation")&&n.jsxDEV("div",{className:"space-y-6",children:n.jsxDEV(f_,{currentUserRole:we,cancellationRecords:xe||[]},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1238,columnNumber:20},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1237,columnNumber:17},void 0),Ni("timezone")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6 w-96",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Timezone Settings"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1248,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1247,columnNumber:21},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone Offset (UTC)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1252,columnNumber:29},void 0),n.jsxDEV("select",{value:ae,onChange:Ae=>te(parseFloat(Ae.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"-12",children:"UTC-12:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1260,columnNumber:33},void 0),n.jsxDEV("option",{value:"-11",children:"UTC-11:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1261,columnNumber:33},void 0),n.jsxDEV("option",{value:"-10",children:"UTC-10:00 (Hawaii)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1262,columnNumber:33},void 0),n.jsxDEV("option",{value:"-9",children:"UTC-09:00 (Alaska)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1263,columnNumber:33},void 0),n.jsxDEV("option",{value:"-8",children:"UTC-08:00 (Pacific)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1264,columnNumber:33},void 0),n.jsxDEV("option",{value:"-7",children:"UTC-07:00 (Mountain)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1265,columnNumber:33},void 0),n.jsxDEV("option",{value:"-6",children:"UTC-06:00 (Central)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1266,columnNumber:33},void 0),n.jsxDEV("option",{value:"-5",children:"UTC-05:00 (Eastern)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1267,columnNumber:33},void 0),n.jsxDEV("option",{value:"-4",children:"UTC-04:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1268,columnNumber:33},void 0),n.jsxDEV("option",{value:"-3",children:"UTC-03:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1269,columnNumber:33},void 0),n.jsxDEV("option",{value:"-2",children:"UTC-02:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1270,columnNumber:33},void 0),n.jsxDEV("option",{value:"-1",children:"UTC-01:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1271,columnNumber:33},void 0),n.jsxDEV("option",{value:"0",children:"UTC+00:00 (GMT/UTC)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1272,columnNumber:33},void 0),n.jsxDEV("option",{value:"1",children:"UTC+01:00 (CET)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1273,columnNumber:33},void 0),n.jsxDEV("option",{value:"2",children:"UTC+02:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1274,columnNumber:33},void 0),n.jsxDEV("option",{value:"3",children:"UTC+03:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1275,columnNumber:33},void 0),n.jsxDEV("option",{value:"4",children:"UTC+04:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1276,columnNumber:33},void 0),n.jsxDEV("option",{value:"5",children:"UTC+05:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1277,columnNumber:33},void 0),n.jsxDEV("option",{value:"5.5",children:"UTC+05:30 (India)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1278,columnNumber:33},void 0),n.jsxDEV("option",{value:"6",children:"UTC+06:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1279,columnNumber:33},void 0),n.jsxDEV("option",{value:"7",children:"UTC+07:00"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1280,columnNumber:33},void 0),n.jsxDEV("option",{value:"8",children:"UTC+08:00 (Singapore/Perth)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1281,columnNumber:33},void 0),n.jsxDEV("option",{value:"9",children:"UTC+09:00 (Japan/Korea)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1282,columnNumber:33},void 0),n.jsxDEV("option",{value:"9.5",children:"UTC+09:30 (Adelaide)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1283,columnNumber:33},void 0),n.jsxDEV("option",{value:"10",children:"UTC+10:00 (AEST Sydney/Brisbane)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1284,columnNumber:33},void 0),n.jsxDEV("option",{value:"10.5",children:"UTC+10:30"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1285,columnNumber:33},void 0),n.jsxDEV("option",{value:"11",children:"UTC+11:00 (AEDT Sydney)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1286,columnNumber:33},void 0),n.jsxDEV("option",{value:"12",children:"UTC+12:00 (New Zealand)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1287,columnNumber:33},void 0),n.jsxDEV("option",{value:"13",children:"UTC+13:00 (NZDT)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1288,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1255,columnNumber:29},void 0),n.jsxDEV("p",{className:"mt-2 text-xs text-gray-400",children:["Current server time: ",new Date().toUTCString()]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1290,columnNumber:29},void 0),n.jsxDEV("p",{className:"mt-1 text-xs text-gray-400",children:["Your local time: ",new Date(Date.now()+ae*60*60*1e3).toUTCString()]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1293,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1251,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1250,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1246,columnNumber:17},void 0),Ni("scoring-matrix")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Scoring Matrix"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1305,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1304,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 grid grid-cols-2 gap-3",children:[n.jsxDEV("button",{onClick:()=>or("Airmanship"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Airmanship"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1308,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>or("Preparation"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Preparation"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1311,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>or("Technique"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Technique"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1314,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>or("Elements"),className:"px-3 py-2 bg-gray-700 text-gray-200 rounded-md hover:bg-sky-700 hover:text-white transition-colors text-sm font-medium border border-gray-600",children:"Elements"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1317,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1307,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1303,columnNumber:17},void 0),Ni("location")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Location"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1328,columnNumber:29},void 0),Ge?n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("button",{onClick:Du,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1331,columnNumber:37},void 0),n.jsxDEV("button",{onClick:Xa,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1332,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1330,columnNumber:33},void 0):n.jsxDEV("button",{onClick:Ea,disabled:!fe,className:`px-3 py-1 rounded-md text-xs font-semibold ${fe?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1335,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1327,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:Ge?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Manage available operating locations."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1351,columnNumber:37},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:Q.map(Ae=>n.jsxDEV("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded",children:[n.jsxDEV("span",{className:"text-white",children:Ae},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1355,columnNumber:49},void 0),n.jsxDEV("button",{onClick:()=>Br(Ae),className:"p-1 text-gray-400 hover:text-red-400",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1356,columnNumber:248},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1356,columnNumber:148},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1356,columnNumber:49},void 0)]},Ae,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1354,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1352,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("input",{type:"text",value:Ze,onChange:Ae=>wt(Ae.target.value),placeholder:"New location name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1361,columnNumber:41},void 0),n.jsxDEV("button",{onClick:Rl,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1362,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1360,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1350,columnNumber:33},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Configured operating locations."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1367,columnNumber:37},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.map(Ae=>n.jsxDEV("li",{className:"p-2 bg-gray-700/50 rounded text-white",children:Ae},Ae,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1370,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1368,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1366,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1348,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1326,columnNumber:21},void 0),Ni("location")&&n.jsxDEV(p_,{callsigns:re,onUpdateCallsigns:se,units:r,locations:e,canEditSettings:fe,onAuditLog:Ln},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1384,columnNumber:27},void 0),Ni("units")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Units"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1397,columnNumber:29},void 0),mt?n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("button",{onClick:ul,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1400,columnNumber:37},void 0),n.jsxDEV("button",{onClick:Rr,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1401,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1399,columnNumber:33},void 0):n.jsxDEV("button",{onClick:Ri,disabled:!fe,className:`px-3 py-1 rounded-md text-xs font-semibold ${fe?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1404,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1396,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:mt?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Manage units and their primary locations."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1420,columnNumber:37},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:rt.map(Ae=>n.jsxDEV("li",{className:"p-2 bg-gray-700/50 rounded",children:[n.jsxDEV("div",{className:"flex items-center justify-between",children:[n.jsxDEV("span",{className:"text-white",children:Ae},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1425,columnNumber:53},void 0),n.jsxDEV("button",{onClick:()=>Mr(Ae),className:"p-1 text-gray-400 hover:text-red-400",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1426,columnNumber:249},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1426,columnNumber:149},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1426,columnNumber:53},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1424,columnNumber:49},void 0),n.jsxDEV("select",{value:dn[Ae]||"",onChange:un=>mn(Ae,un.target.value),className:"mt-1 block w-full bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-xs",children:e.map(un=>n.jsxDEV("option",{value:un,children:un},un,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1433,columnNumber:75},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1428,columnNumber:49},void 0)]},Ae,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1423,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1421,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("input",{type:"text",value:Tt,onChange:Ae=>Ct(Ae.target.value),placeholder:"New unit name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1439,columnNumber:41},void 0),n.jsxDEV("button",{onClick:Vs,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1440,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1438,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1419,columnNumber:33},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Configured units and their locations."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1445,columnNumber:37},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:r.map(Ae=>n.jsxDEV("li",{className:"p-2 bg-gray-700/50 rounded text-white flex justify-between",children:[n.jsxDEV("span",{children:Ae},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1449,columnNumber:49},void 0),n.jsxDEV("span",{className:"text-gray-400",children:u[Ae]},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1450,columnNumber:49},void 0)]},Ae,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1448,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1446,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1444,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1417,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1395,columnNumber:21},void 0),Ni("duty-turnaround")&&n.jsxDEV(N_,{preferredDutyPeriod:A,onUpdatePreferredDutyPeriod:vn,maxCrewDutyPeriod:I,onUpdateMaxCrewDutyPeriod:No,flightTurnaround:K,onUpdateFlightTurnaround:Jo,ftdTurnaround:Fe,onUpdateFtdTurnaround:bi,cptTurnaround:Ee,onUpdateCptTurnaround:Ui},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1462,columnNumber:21},void 0),Ni("sct-events")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-80 h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"SCT Events"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1480,columnNumber:32},void 0),dt?n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("button",{onClick:Dt,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1483,columnNumber:40},void 0),n.jsxDEV("button",{onClick:ln,className:"px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 text-xs font-semibold",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1484,columnNumber:40},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1482,columnNumber:36},void 0):n.jsxDEV("button",{onClick:Le,disabled:!fe,className:`px-3 py-1 rounded-md text-xs font-semibold ${fe?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1487,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1479,columnNumber:28},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:dt?n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Manage SCT event types."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1503,columnNumber:40},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:Vt.map(Ae=>n.jsxDEV("li",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded",children:[n.jsxDEV("span",{className:"text-white",children:Ae},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1507,columnNumber:52},void 0),n.jsxDEV("button",{onClick:()=>sn(Ae),className:"p-1 text-gray-400 hover:text-red-400",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1510,columnNumber:60},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1509,columnNumber:56},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1508,columnNumber:52},void 0)]},Ae,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1506,columnNumber:48},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1504,columnNumber:40},void 0),n.jsxDEV("div",{className:"flex space-x-2",children:[n.jsxDEV("input",{type:"text",value:ot,onChange:Ae=>ke(Ae.target.value),placeholder:"New SCT event name",className:"flex-grow bg-gray-700 border-gray-600 rounded-md py-1 px-2 text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1517,columnNumber:44},void 0),n.jsxDEV("button",{onClick:en,className:"px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"+"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1524,columnNumber:44},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1516,columnNumber:40},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1502,columnNumber:36},void 0):n.jsxDEV(n.Fragment,{children:[n.jsxDEV("p",{className:"text-sm text-gray-400",children:"Configured SCT event types."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1529,columnNumber:40},void 0),n.jsxDEV("ul",{className:"space-y-2 max-h-40 overflow-y-auto",children:J.map(Ae=>n.jsxDEV("li",{className:"p-2 bg-gray-700/50 rounded text-white",children:Ae},Ae,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1532,columnNumber:48},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1530,columnNumber:40},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1528,columnNumber:36},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1500,columnNumber:28},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1478,columnNumber:24},void 0),Ni("currencies")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[40rem] h-fit flex flex-col",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center shrink-0",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Currencies"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1547,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1546,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-1 overflow-y-auto max-h-[400px]",children:n.jsxDEV("table",{className:"w-full text-left text-sm",children:[n.jsxDEV("thead",{className:"sticky top-0 bg-gray-800",children:n.jsxDEV("tr",{children:[n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 pt-0 pb-2 border-b border-gray-700",children:"Currency"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1553,columnNumber:41},void 0),n.jsxDEV("th",{className:"font-medium text-gray-400 px-4 pt-0 pb-2 border-b border-gray-700",children:"Type"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1554,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1552,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1551,columnNumber:33},void 0),n.jsxDEV("tbody",{children:ea.map((Ae,un)=>n.jsxDEV("tr",{className:"border-t border-gray-700",children:[n.jsxDEV("td",{className:"py-2 px-4 text-gray-200",children:Ae.name},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1560,columnNumber:45},void 0),n.jsxDEV("td",{className:"py-2 px-4 text-gray-300 capitalize",children:Ae.type},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1561,columnNumber:45},void 0)]},Ae.id,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1559,columnNumber:41},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1557,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1550,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1549,columnNumber:26},void 0),n.jsxDEV("div",{className:"p-4 border-t border-gray-700 shrink-0",children:n.jsxDEV("button",{onClick:()=>B("CurrencyBuilder"),className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Currency Builder"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1568,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1567,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1545,columnNumber:21},void 0),Ni("business-rules")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[40rem] h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Business Rules"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1579,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1578,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 border-t border-gray-700",children:n.jsxDEV("div",{className:"space-y-4",children:n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Max dispatch / hr"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1584,columnNumber:37},void 0),n.jsxDEV("select",{value:be,onChange:Ae=>H(parseInt(Ae.target.value)),disabled:!fe,className:`w-full px-3 py-2 rounded-md border focus:ring-sky-500 focus:border-sky-500 ${fe?"bg-gray-700 border-gray-600 text-white":"bg-gray-600 border-gray-500 text-gray-300 cursor-not-allowed"}`,children:[1,2,3,4,5,6,7,8,9,10,12,15,20].map(Ae=>n.jsxDEV("option",{value:Ae,children:Ae},Ae,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1598,columnNumber:45},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1587,columnNumber:37},void 0),fe&&n.jsxDEV("p",{className:"mt-1 text-xs text-gray-400",children:"Maximum number of dispatches allowed per hour"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1602,columnNumber:41},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1583,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1582,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1581,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1577,columnNumber:21},void 0),Ni("data-loaders")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-[30rem] h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Data Loaders"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1616,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1615,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:[n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Templates"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1620,columnNumber:33},void 0),n.jsxDEV("div",{className:"mt-2 space-y-2",children:[n.jsxDEV("p",{className:"text-xs text-gray-400",children:"Download templates to ensure correct formatting for bulk uploads."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1622,columnNumber:37},void 0),n.jsxDEV("button",{onClick:Qa,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Staff Template (.xlsx)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1623,columnNumber:37},void 0),n.jsxDEV("button",{onClick:ss,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Trainee Template (.xlsx)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1626,columnNumber:37},void 0),n.jsxDEV("button",{onClick:dl,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download LMP Template (.xlsx)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1629,columnNumber:37},void 0),n.jsxDEV("button",{onClick:Cs,className:"w-full px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-sm font-semibold",children:"Download Logbook Template (.xlsx)"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1632,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1621,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1619,columnNumber:29},void 0),n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Data Storage"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1638,columnNumber:33},void 0),n.jsxDEV("div",{className:"mt-2 space-y-3",children:[n.jsxDEV("p",{className:"text-xs text-gray-400",children:"Manage files stored in the local browser repository for bulk updates or other operations."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1640,columnNumber:37},void 0),n.jsxDEV("div",{className:"max-h-60 overflow-y-auto pr-2",children:n.jsxDEV("div",{className:"space-y-4",children:[Ft.map(Ae=>{const un=tt.filter(Cn=>Cn.folderId===Ae.id),It=Ae.isSub;return n.jsxDEV("div",{className:It?"ml-8":"",children:[n.jsxDEV("div",{className:"flex items-center mb-1",children:[n.jsxDEV(Yk,{},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1649,columnNumber:61},void 0),n.jsxDEV("h4",{className:"text-sm font-semibold text-gray-300",children:Ae.name},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1650,columnNumber:61},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1648,columnNumber:57},void 0),n.jsxDEV("div",{className:"pl-4 border-l-2 border-gray-600 ml-2.5",children:un.length>0?n.jsxDEV("ul",{className:"space-y-1 pt-2",children:un.sort((Cn,no)=>Cn.name.localeCompare(no.name)).map(Cn=>n.jsxDEV(ui,{file:Cn},Cn.id,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1656,columnNumber:73},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1654,columnNumber:65},void 0):n.jsxDEV("p",{className:"text-xs text-gray-500 italic pl-3 pt-1",children:"Empty"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1660,columnNumber:65},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1652,columnNumber:57},void 0)]},Ae.id,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1647,columnNumber:53},void 0)}),ws.length>0&&n.jsxDEV("div",{children:[n.jsxDEV("div",{className:"flex items-center mb-1",children:[n.jsxDEV(Yk,{},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1669,columnNumber:57},void 0),n.jsxDEV("h4",{className:"text-sm font-semibold text-gray-300",children:"Uncategorized"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1670,columnNumber:57},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1668,columnNumber:53},void 0),n.jsxDEV("div",{className:"pl-4 border-l-2 border-gray-600 ml-2.5",children:n.jsxDEV("ul",{className:"space-y-1 pt-2",children:ws.sort((Ae,un)=>Ae.name.localeCompare(un.name)).map(Ae=>n.jsxDEV(ui,{file:Ae},Ae.id,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1675,columnNumber:65},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1673,columnNumber:57},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1672,columnNumber:53},void 0)]},"uncategorized",!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1667,columnNumber:49},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1642,columnNumber:41},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1641,columnNumber:37},void 0),n.jsxDEV("button",{onClick:cl,className:"w-full mt-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm font-semibold",children:"Upload File"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1683,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1639,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1637,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1618,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1614,columnNumber:21},void 0),Ni("event-limits")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-96 h-fit",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Events Limits"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1696,columnNumber:29},void 0),$e?n.jsxDEV("button",{onClick:Kn,className:"px-3 py-1 bg-sky-600 text-white rounded-md hover:bg-sky-700 text-xs font-semibold",children:"Save"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1698,columnNumber:33},void 0):n.jsxDEV("button",{onClick:kn,disabled:!fe,className:`px-3 py-1 rounded-md text-xs font-semibold ${fe?"bg-gray-600 text-white hover:bg-gray-700 cursor-pointer":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Edit"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1700,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1695,columnNumber:25},void 0),n.jsxDEV("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Execs"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1716,columnNumber:33},void 0),n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1719,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.exec.maxFlightFtd,onChange:Ae=>G({...it,exec:{...it.exec,maxFlightFtd:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1721,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"1"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1722,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1718,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max Duty Sup:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1725,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.exec.maxDutySup,onChange:Ae=>G({...it,exec:{...it.exec,maxDutySup:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1727,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1728,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1724,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max total all events:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1731,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.exec.maxTotal||2,onChange:Ae=>G({...it,exec:{...it.exec,maxTotal:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1733,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1734,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1730,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1717,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1715,columnNumber:29},void 0),n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Staff"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1740,columnNumber:33},void 0),n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1743,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.instructor.maxFlightFtd||2,onChange:Ae=>G({...it,instructor:{...it.instructor,maxFlightFtd:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1745,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1746,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1742,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-xs text-gray-400",children:"Staff (Flying Supervisor role assigned) - Max Duty Sup:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1749,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.instructor.maxDutySup,onChange:Ae=>G({...it,instructor:{...it.instructor,maxDutySup:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1751,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1752,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1748,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max total all events:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1755,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.instructor.maxTotal||3,onChange:Ae=>G({...it,instructor:{...it.instructor,maxTotal:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1757,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"3"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1758,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1754,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1741,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1739,columnNumber:29},void 0),n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Trainees"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1764,columnNumber:33},void 0),n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max Flight/FTD:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1767,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.trainee.maxFlightFtd||1,onChange:Ae=>G({...it,trainee:{...it.trainee,maxFlightFtd:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1769,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"1"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1770,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1766,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max total all events:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1773,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.trainee.maxTotal||2,onChange:Ae=>G({...it,trainee:{maxTotal:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1775,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1776,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1772,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1765,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1763,columnNumber:29},void 0),n.jsxDEV("fieldset",{className:"p-3 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"SIM IPs"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1782,columnNumber:33},void 0),n.jsxDEV("div",{className:"space-y-2",children:[n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max FTD:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1785,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.simIp.maxFtd||2,onChange:Ae=>G({...it,simIp:{...it.simIp,maxFtd:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1787,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1788,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1784,columnNumber:37},void 0),n.jsxDEV("div",{className:"flex justify-between items-center",children:[n.jsxDEV("span",{className:"text-sm text-gray-400",children:"Max total all events:"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1791,columnNumber:41},void 0),$e?n.jsxDEV("input",{type:"number",value:it.simIp.maxTotal||2,onChange:Ae=>G({...it,simIp:{maxTotal:parseInt(Ae.target.value)||0}}),className:"w-12 bg-gray-700 border border-gray-600 rounded text-center text-white text-sm focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1793,columnNumber:45},void 0):n.jsxDEV("span",{className:"text-white font-mono",children:"2"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1794,columnNumber:45},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1790,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1783,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1781,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1713,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1694,columnNumber:21},void 0),Ni("permissions")&&n.jsxDEV(h_,{instructors:d,trainees:f,onUpdateInstructorPermission:(Ae,un)=>{var Go;const It=d.find(Fn=>Fn.idNumber===Ae),Cn=((Go=It==null?void 0:It.permissions)==null?void 0:Go[0])||"None",no=d.map(Fn=>Fn.idNumber===Ae?{...Fn,permissions:[un]}:Fn);h(no),Ln({page:"Settings - Permissions",action:"update",description:`Updated instructor permission: ${It==null?void 0:It.name}`,changes:`From: ${Cn} To: ${un}`})},onUpdateTraineePermission:(Ae,un)=>{var Go;const It=f.find(Fn=>Fn.idNumber===Ae),Cn=((Go=It==null?void 0:It.permissions)==null?void 0:Go[0])||"None",no=f.map(Fn=>Fn.idNumber===Ae?{...Fn,permissions:[un]}:Fn);b(no),Ln({page:"Settings - Permissions",action:"update",description:`Updated trainee permission: ${It==null?void 0:It.name}`,changes:`From: ${Cn} To: ${un}`})},onShowSuccess:C,currentUserPermission:we},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1804,columnNumber:20},void 0),Ni("data-source")&&n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 w-96",children:[n.jsxDEV("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:n.jsxDEV("h2",{className:"text-lg font-semibold text-gray-200",children:"Data Source"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1848,columnNumber:28},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1847,columnNumber:24},void 0),n.jsxDEV("div",{className:"p-4 space-y-4",children:[n.jsxDEV("p",{className:"text-sm text-gray-400 mb-4",children:"Control which data sources are used by the application. Toggle ON to combine database data with mock data, or OFF to use database only."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1851,columnNumber:28},void 0),n.jsxDEV("div",{className:"flex items-center justify-between py-2 border-b border-gray-700",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"text-sm font-medium text-gray-300",children:"Staff"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1859,columnNumber:36},void 0),n.jsxDEV("p",{className:"text-xs text-gray-500",children:"ON: Database + Mock | OFF: Database Only"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1860,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1858,columnNumber:32},void 0),n.jsxDEV("button",{onClick:()=>pt("staff"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 ${$.staff?"bg-green-600":"bg-gray-600"}`,children:n.jsxDEV("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$.staff?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1868,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1864,columnNumber:32},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1857,columnNumber:28},void 0),n.jsxDEV("div",{className:"flex items-center justify-between py-2 border-b border-gray-700",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"text-sm font-medium text-gray-300",children:"Trainees"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1875,columnNumber:36},void 0),n.jsxDEV("p",{className:"text-xs text-gray-500",children:"ON: Database + Mock | OFF: Database Only"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1876,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1874,columnNumber:32},void 0),n.jsxDEV("button",{onClick:()=>pt("trainees"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 ${$.trainees?"bg-green-600":"bg-gray-600"}`,children:n.jsxDEV("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$.trainees?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1884,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1880,columnNumber:32},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1873,columnNumber:28},void 0),n.jsxDEV("div",{className:"flex items-center justify-between py-2",children:[n.jsxDEV("div",{children:[n.jsxDEV("label",{className:"text-sm font-medium text-gray-300",children:"Courses"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1891,columnNumber:36},void 0),n.jsxDEV("p",{className:"text-xs text-gray-500",children:"ON: localStorage + Mock | OFF: localStorage Only"},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1892,columnNumber:36},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1890,columnNumber:32},void 0),n.jsxDEV("button",{onClick:()=>pt("courses"),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 ${$.courses?"bg-green-600":"bg-gray-600"}`,children:n.jsxDEV("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${$.courses?"translate-x-6":"translate-x-1"}`},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1900,columnNumber:37},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1896,columnNumber:32},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1889,columnNumber:28},void 0),n.jsxDEV("div",{className:"pt-4 border-t border-gray-700",children:n.jsxDEV("p",{className:"text-xs text-gray-500 italic",children:"Note: Changes will take effect immediately. The app will reload data based on your selections."},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1905,columnNumber:32},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1904,columnNumber:28},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1850,columnNumber:24},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1846,columnNumber:20},void 0),"               "]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1234,columnNumber:13},void 0),Ve&&n.jsxDEV(a_,{onClose:()=>et(!1),phraseBank:U,onUpdatePhraseBank:ta,initialTab:jt},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1912,columnNumber:38},void 0),_t&&n.jsxDEV(ZI,{onClose:()=>Lt(!1),onConfirm:ku},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1913,columnNumber:28},void 0),jn&&Qe&&n.jsxDEV(KI,{onClose:()=>Dn(!1),onConfirm:$r,fileName:Qe.name,folders:Ft.filter(Ae=>!Ae.isSub)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1914,columnNumber:55},void 0),Te&&n.jsxDEV(e_,{fileName:Te.name,onConfirm:Da,onClose:()=>He(null)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1915,columnNumber:32},void 0),at&&n.jsxDEV(t_,{fileName:at.name,onConfirm:Ts,onClose:()=>Bt(null)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1916,columnNumber:30},void 0),Ce&&Pt&&n.jsxDEV(n_,{fileName:Pt.name,onConfirm:na,onClose:()=>$t(!1)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1917,columnNumber:57},void 0),St&&n.jsxDEV(u_,{courses:hi,onConfirm:ml,onClose:()=>Nt(!1),updateType:Yt},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1918,columnNumber:37},void 0),yo&&Rn&&n.jsxDEV(o_,{rowData:Rn,onConfirm:mi,onCancel:fi},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1919,columnNumber:58},void 0),to&&n.jsxDEV(i_,{message:Mn,onClose:()=>Un(!1)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1920,columnNumber:33},void 0),co&&n.jsxDEV(s_,{summary:bo,onClose:()=>lo(!1)},void 0,!1,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1921,columnNumber:35},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsView.tsx",lineNumber:1233,columnNumber:9},void 0)},y_=t=>{const[e,s]=S.useState("scoring-matrix");console.log("SettingsViewWithMenu - Menu items count:",r.length),console.log("SettingsViewWithMenu - Menu items:",r.map(a=>a.id));const r=[{id:"validation",label:"AC History",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:69,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:68,columnNumber:13},void 0)},{id:"timezone",label:"Timezone",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:74,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:73,columnNumber:13},void 0)},{id:"scoring-matrix",label:"Scoring Matrix",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:79,columnNumber:17},void 0),n.jsxDEV("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:80,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:78,columnNumber:13},void 0)},{id:"location",label:"Location",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:85,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:84,columnNumber:13},void 0)},{id:"units",label:"Units",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:90,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:89,columnNumber:13},void 0)},{id:"duty-turnaround",label:"Duty & Turnaround",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:95,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:94,columnNumber:13},void 0)},{id:"sct-events",label:"SCT Events",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:100,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:99,columnNumber:13},void 0)},{id:"currencies",label:"Currencies",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:105,columnNumber:17},void 0),n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:104,columnNumber:13},void 0)},{id:"business-rules",label:"Business Rules",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M3 4.75A.75.75 0 013.75 4h12.5a.75.75 0 010 1.5H3.75A.75.75 0 013 4.75zm0 4.5a.75.75 0 01.75-.75h12.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75zm0 4.5a.75.75 0 01.75-.75h12.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:111,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:110,columnNumber:13},void 0)},{id:"data-loaders",label:"Data Loaders",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:116,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:115,columnNumber:13},void 0)},{id:"event-limits",label:"Event Limits",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:121,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:120,columnNumber:13},void 0)},{id:"permissions",label:"Permissions",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:126,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:125,columnNumber:13},void 0)},{id:"data-source",label:"Data Source",icon:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[n.jsxDEV("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:131,columnNumber:17},void 0),n.jsxDEV("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:132,columnNumber:17},void 0),n.jsxDEV("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:133,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:130,columnNumber:13},void 0)}];return n.jsxDEV("div",{className:"flex-1 flex overflow-hidden bg-gray-900",children:[n.jsxDEV("div",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col flex-shrink-0",children:[n.jsxDEV("div",{className:"p-6 border-b border-gray-700",children:[n.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Settings"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:143,columnNumber:21},void 0),n.jsxDEV("p",{className:"text-sm text-gray-400 mt-1",children:"Configuration"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:144,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:142,columnNumber:17},void 0),n.jsxDEV("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:r.map(a=>n.jsxDEV("button",{onClick:()=>s(a.id),className:`w-full text-left px-4 py-3 rounded-lg transition-all ${e===a.id?"bg-sky-600 text-white shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:n.jsxDEV("div",{className:"flex items-center space-x-3",children:[a.icon,n.jsxDEV("span",{className:"font-medium",children:a.label},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:159,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:157,columnNumber:29},void 0)},a.id,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:148,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:146,columnNumber:17},void 0),n.jsxDEV("div",{className:"p-4 border-t border-gray-700",children:n.jsxDEV(Zl,{pageName:"Settings"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:167,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:166,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:141,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex-1 overflow-y-auto bg-gray-900",children:n.jsxDEV("div",{className:"p-6",children:[n.jsxDEV("div",{className:"mb-6",children:[n.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-3",children:[e==="validation"&&"AC History",e==="timezone"&&"Timezone Settings",e==="scoring-matrix"&&"Scoring Matrix",e==="location"&&"Location",e==="units"&&"Units",e==="duty-turnaround"&&"Duty & Turnaround",e==="sct-events"&&"SCT Events",e==="currencies"&&"Currencies",e==="business-rules"&&"Business Rules",e==="data-loaders"&&"Data Loaders",e==="event-limits"&&"Event Limits",e==="permissions"&&"Permissions Manager",e==="data-source"&&"Data Source"]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:175,columnNumber:25},void 0),!["Super Admin","Admin","Scheduler"].includes(t.currentUserPermission)&&n.jsxDEV("div",{className:"text-sm text-yellow-200 bg-yellow-900/30 border border-yellow-600/50 rounded px-3 py-2 inline-block",children:n.jsxDEV("strong",{children:"Read-Only Mode"},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:192,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:191,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:174,columnNumber:21},void 0),n.jsxDEV(x_,{...t,hideHeader:!0,activeSection:e},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:196,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:173,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:172,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/SettingsViewWithMenu.tsx",lineNumber:139,columnNumber:9},void 0)},v_=()=>n.jsxDEV("div",{children:"Authorisation View Component"},void 0,!1,{fileName:"/workspace/components/AuthorisationView.tsx",lineNumber:4,columnNumber:10},void 0),w_=({locality:t})=>n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[90] flex items-center justify-center animate-fade-in pointer-events-none",children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl border border-sky-500 p-12 max-w-2xl text-center",children:n.jsxDEV("div",{className:"flex flex-col items-center space-y-4",children:[n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},void 0,!1,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:13,columnNumber:15},void 0),n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"},void 0,!1,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:14,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:12,columnNumber:12},void 0),n.jsxDEV("div",{children:[n.jsxDEV("h2",{className:"text-3xl font-bold text-white",children:["Locality Changed to ",t]},void 0,!0,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:17,columnNumber:17},void 0),n.jsxDEV("p",{className:"mt-2 text-lg text-gray-300",children:["All subsequent scheduling and data modifications will now apply to the ",t," Daily Flying Program."]},void 0,!0,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:18,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:16,columnNumber:12},void 0)]},void 0,!0,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:11,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:10,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/components/LocalityChangeFlyout.tsx",lineNumber:9,columnNumber:5},void 0),E_=({event:t,onReturn:e,onSave:s,school:r,traineesData:a,instructorsData:u})=>{var Ft,_t;S.useMemo(()=>{const Lt=t.student||t.pilot;return a.find(Qe=>Qe.fullName===Lt)},[t,a]);const[m,d]=S.useState(""),[f,p]=S.useState("001"),[h,v]=S.useState(r),[b,x]=S.useState(r),[k,C]=S.useState(t.type==="flight"),[V,F]=S.useState(t.type==="ftd"),[U,q]=S.useState(t.flightType==="Solo"),[B,Y]=S.useState(t.flightType==="Dual"),[ne,J]=S.useState(""),[O,A]=S.useState(""),[L,I]=S.useState(`${t.origin||r}-${t.destination||r} : ${t.flightNumber}`),[_,K]=S.useState(""),[X,Fe]=S.useState(""),[ie,Ee]=S.useState(""),[ge,we]=S.useState(""),[Ye,be]=S.useState(""),[H,ae]=S.useState(""),[te,re]=S.useState(!1),[se,he]=S.useState(0),[ve,Be]=S.useState(!1),[xe,ue]=S.useState(0),[fe,Ge]=S.useState(!1),[Re,Q]=S.useState(0),[je,Ze]=S.useState(!1),[wt,mt]=S.useState(0),[Pe,rt]=S.useState(!1),ct=S.useRef(null),[Tt,Ct]=S.useState(!1),[dn,cn]=S.useState("Saved"),dt=S.useRef(!0),Mt=Lt=>{if(!Lt)return"";const Qe=Lt.split(" â€“ ")[0],Xt=u.find(Dn=>Dn.name===Qe);if(Xt)return`${Xt.rank} ${Qe.split(",")[0]}`;const jn=a.find(Dn=>Dn.name===Qe||Dn.fullName===Lt);return jn?`${jn.rank} ${Qe.split(",")[0]}`:Qe.split(",")[0]},Xe=S.useMemo(()=>{const Lt=Te=>{const He=Te.replace(":","");if(He.length<4)return null;const at=parseInt(He.substring(0,2),10),Bt=parseInt(He.substring(2,4),10);return isNaN(at)||isNaN(Bt)?null:at*60+Bt},Qe=Lt(ne),Xt=Lt(O);if(Qe===null||Xt===null)return"0.0";let jn=Xt-Qe;return jn<0&&(jn+=1440),(jn/60).toFixed(1)},[ne,O]);S.useEffect(()=>{const Lt=t.startTime,Qe=String(Math.floor(Lt)).padStart(2,"0"),Xt=String(Math.round(Lt%1*60)).padStart(2,"0"),jn=`${Qe}:${Xt}`;J(jn);const Dn=t.landTime||t.startTime+t.duration,Te=String(Math.floor(Dn)).padStart(2,"0"),He=String(Math.round(Dn%1*60)).padStart(2,"0"),at=`${Te}:${He}`;A(at),ct.current||(ct.current={result:"",aircraftNumber:"001",from:r,to:r,isFlightLog:t.type==="flight",isFtdLog:t.type==="ftd",isSolo:t.flightType==="Solo",isDual:t.flightType==="Dual",duty:`${t.origin||r}-${t.destination||r} : ${t.flightNumber}`,takeoffTime:jn,landTime:at,captainTime:"",instructorTime:"",nightTime:"",ifActualTime:"",ifSimTime:"",ineffectiveTime:"",ilsChecked:!1,ilsCount:0,rnpChecked:!1,rnpCount:0,tacanChecked:!1,tacanCount:0,vorChecked:!1,vorCount:0})},[t,r]),S.useEffect(()=>{B&&(Fe(Xe),K(Xe))},[B,Xe]);const Et=Lt=>{var yn,uo,Nn,Tn;const Qe=parseFloat(Xe)||0,Xt=parseFloat(ge)||0,jn=(ve?xe:0)+(fe?Re:0)+(je?wt:0),Dn=te?se:0;let Te=0,He=0,at=0,Bt=0,Pt=0,hn=0,Ce=0,$t="",$="",_e=0;if(k)if(Lt==="Crew"&&U)_e=0;else{_e=Qe;const yo=parseFloat(ie)||0,po=Math.max(0,Qe-yo);Lt==="Captain"?(Te=po,at=yo,$t=_||(B?Xe:""),B&&($=X||Xe)):Lt==="Crew"&&B&&(He=po,Bt=yo)}else V&&(Lt==="Crew"&&U?Ce=0:(Ce=Qe,Lt==="Captain"?$=Xe:Lt==="Crew"&&(hn=Qe)));const pt=new Date(t.date),St=pt.getFullYear().toString().slice(-2),Nt=pt.toLocaleDateString("en-GB",{day:"2-digit",month:"short"}),Yt=((uo=(yn=t.instructor||t.pilot)==null?void 0:yn.split(" â€“ ")[0])==null?void 0:uo.split(",")[0])||"",xn=((Tn=(Nn=t.student)==null?void 0:Nn.split(" â€“ ")[0])==null?void 0:Tn.split(",")[0])||(U?"Solo":"");return{year:St,date:Nt,type:V?"FTD":"PC-21",tail:V?`FTD-${f}`:`A54-${f}`,captain:Yt,crew:xn,duty:L,dayP1:Te>0?Te.toFixed(1):"",dayP2:"",dayDual:He>0?He.toFixed(1):"",nightP1:at>0?at.toFixed(1):"",nightP2:"",nightDual:Bt>0?Bt.toFixed(1):"",total:_e>0?_e.toFixed(1):"",captTime:$t,instTime:$,simActual:Xt>0?Xt.toFixed(1):"",app2D:jn>0?jn:"",app3D:Dn>0?Dn:"",simP1:Pt>0?Pt.toFixed(1):"",simP2:"",simDual:hn>0?hn.toFixed(1):"",simTotal:Ce>0?Ce.toFixed(1):""}};S.useEffect(()=>{if(!ct.current)return;const Lt={result:m,aircraftNumber:f,from:h,to:b,isFlightLog:k,isFtdLog:V,isSolo:U,isDual:B,duty:L,takeoffTime:ne,landTime:O,captainTime:_,instructorTime:X,nightTime:ie,ifActualTime:ge,ifSimTime:Ye,ineffectiveTime:H,ilsChecked:te,ilsCount:te?se:0,rnpChecked:ve,rnpCount:ve?xe:0,tacanChecked:fe,tacanCount:fe?Re:0,vorChecked:je,vorCount:je?wt:0},Qe={...ct.current,ilsCount:ct.current.ilsChecked?ct.current.ilsCount:0,rnpCount:ct.current.rnpChecked?ct.current.rnpCount:0,tacanCount:ct.current.tacanChecked?ct.current.tacanCount:0,vorCount:ct.current.vorChecked?ct.current.vorCount:0};JSON.stringify(Lt)!==JSON.stringify(Qe)&&(Ct(!0),cn("Saving..."))},[m,f,h,b,k,V,U,B,L,ne,O,_,X,ie,ge,Ye,H,te,se,ve,xe,fe,Re,je,wt]);const Vt=S.useMemo(()=>Array.from({length:49},(Lt,Qe)=>String(Qe+1).padStart(3,"0")),[]),zt=Lt=>{const Qe=m;d(Lt),Qe&&Lt&&Qe!==Lt&&va(`postflight-${t.id}-result`,"Edit",`Updated post-flight result for ${t.flightNumber}`)},ot=async(Lt=!1)=>{const Qe={result:m,aircraftNumber:f,from:h,to:b,isFlightLog:k,isFtdLog:V,isSolo:U,isDual:B,duty:L,takeoffTime:ne,landTime:O,totalTime:Xe,captainTime:_,instructorTime:X,nightTime:ie,ifActualTime:ge,ifSimTime:Ye,ineffectiveTime:H,approaches:{ils:te?se:0,rnp:ve?xe:0,tacan:fe?Re:0,vor:je?wt:0}};if(!Lt){Rv();const Dn=[];Dn.push(`Result: ${m}`),ne&&Dn.push(`Takeoff: ${ne}`),O&&Dn.push(`Land: ${O}`),Xe&&Dn.push(`Total Time: ${Xe}`),Ln({action:"Edit",description:`Saved post-flight data for ${t.flightNumber}`,changes:Dn.join(", "),page:"Post-Flight"})}Lt||s(Qe);let Xt="trainee_logbook",jn=t.student;if((!jn||jn==="Multiple")&&(t.pilot?jn=t.pilot:t.instructor&&(jn=t.instructor,Xt="staff_logbook")),jn){const Dn=jn.split(" â€“ ")[0].replace(/,\s/g,"_"),Te=`Entry_${t.date}_${t.flightNumber.replace(/\s/g,"")}_${Dn}.json`;try{const He=JSON.stringify(Qe,null,2),at=new File([He],Te,{type:"application/json"});await Jm(at,Xt,Te)}catch(He){console.error("Failed to auto-save post-flight data to file:",He)}}Lt||(Ct(!1),cn("Saved"))};S.useEffect(()=>{if(dt.current){dt.current=!1;return}if(Tt){const Lt=setTimeout(()=>{ot(!0),cn("Saved"),Ct(!1)},1e3);return()=>clearTimeout(Lt)}},[Tt,m,f,h,b,k,V,U,B,L,ne,O,_,X,ie,ge,Ye,H,te,se,ve,xe,fe,Re,je,wt]);const ke=()=>{Tt?rt(!0):e()},$e=()=>{ot(!1)},De=(Lt,Qe)=>{let Xt=Lt.target.value.replace(/[^0-9]/g,"");Xt.length>4&&(Xt=Xt.substring(0,4)),Xt.length>2&&(Xt=Xt.slice(0,2)+":"+Xt.slice(2)),Qe(Xt)},it=Lt=>{Lt.target.checked&&(C(!0),F(!1))},G=Lt=>{Lt.target.checked&&(F(!0),C(!1))},Ve=Lt=>{const Qe=Lt.target.checked;q(Qe),Y(!Qe)},et=Lt=>{const Qe=Lt.target.checked;Y(Qe),q(!Qe)},jt=({value:Lt})=>n.jsxDEV("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsxDEV("input",{type:"radio",name:"result",value:Lt,checked:m===Lt,onChange:Qe=>zt(Qe.target.value),className:"h-4 w-4 accent-sky-500 bg-gray-600 border-gray-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:461,columnNumber:13},void 0),n.jsxDEV("span",{className:"text-white",children:Lt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:469,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:460,columnNumber:9},void 0),lt=({label:Lt,isChecked:Qe,setIsChecked:Xt,count:jn,setCount:Dn})=>n.jsxDEV("div",{className:"flex-shrink-0 flex items-end space-x-1",children:[n.jsxDEV("label",{className:"flex items-center space-x-1 pb-2 cursor-pointer h-[38px]",children:[n.jsxDEV("span",{className:"text-sm font-medium text-gray-400 w-10 text-right",children:Lt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:482,columnNumber:17},void 0),n.jsxDEV("input",{type:"checkbox",checked:Qe,onChange:Te=>{const He=Te.target.checked;Xt(He),He&&jn===0&&Dn(1)},className:"h-4 w-4 accent-sky-500 bg-gray-600 rounded border-gray-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:483,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:481,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex flex-col items-center",children:[n.jsxDEV("label",{className:"text-xs font-medium text-gray-400 mb-1",children:"Number"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:497,columnNumber:17},void 0),n.jsxDEV("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:jn===0?"":jn,onChange:Te=>Dn(parseInt(Te.target.value,10)||0),disabled:!Qe,className:"block w-10 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-1 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:498,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:496,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:480,columnNumber:9},void 0),tt=({label:Lt,subLabel:Qe,value:Xt,width:jn,bgColor:Dn="bg-gray-800",borderColor:Te="border-gray-600",customTextClass:He="text-xs"})=>n.jsxDEV("div",{className:`flex flex-col items-center justify-end ${jn} flex-shrink-0 border-r ${Te} last:border-r-0`,children:[(Lt||Qe)&&n.jsxDEV("div",{className:"w-full text-center border-b border-gray-700 bg-gray-900/30 py-0.5",children:[Lt&&n.jsxDEV("div",{className:"text-[9px] font-bold text-gray-400 uppercase leading-tight",children:Lt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:516,columnNumber:31},void 0),Qe&&n.jsxDEV("div",{className:"text-[8px] text-gray-500 leading-tight",children:Qe},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:517,columnNumber:34},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:515,columnNumber:18},void 0),n.jsxDEV("div",{className:`w-full ${Dn} text-white ${He} font-mono py-1.5 text-center truncate px-0.5 h-7`,children:Xt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:520,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:513,columnNumber:9},void 0),ut=({title:Lt,data:Qe})=>n.jsxDEV("div",{className:"mt-2",children:[n.jsxDEV("h4",{className:"text-sm font-bold text-sky-400 mb-1 ml-1",children:Lt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:529,columnNumber:13},void 0),n.jsxDEV("div",{className:"overflow-x-auto",children:n.jsxDEV("div",{className:"flex flex-nowrap bg-gray-900 border border-gray-600 rounded-md min-w-max",children:[n.jsxDEV(tt,{label:"Year",value:Qe.year,width:"w-10"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:533,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Date",value:Qe.date,width:"w-14"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:534,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Type",value:Qe.type,width:"w-12"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:535,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Tail",subLabel:"(Mark)",value:Qe.tail,width:"w-16"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:536,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Captain",value:Qe.captain,width:"w-24"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:537,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Co-Pilot /",subLabel:"Crew",value:Qe.crew,width:"w-24"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:538,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Duty",value:Qe.duty,width:"w-24",customTextClass:"text-[8px]"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:539,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex flex-col border-r border-gray-600",children:[n.jsxDEV("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Day Flying"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:543,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex",children:[n.jsxDEV(tt,{subLabel:"P1",value:Qe.dayP1,width:"w-10",borderColor:"border-gray-700"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:545,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"P2",value:Qe.dayP2,width:"w-10",borderColor:"border-gray-700"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:546,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"Dual",value:Qe.dayDual,width:"w-10",borderColor:"border-transparent"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:547,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:544,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:542,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex flex-col border-r border-gray-600",children:[n.jsxDEV("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Night Flying"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:553,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex",children:[n.jsxDEV(tt,{subLabel:"P1",value:Qe.nightP1,width:"w-10",borderColor:"border-gray-700"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:555,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"P2",value:Qe.nightP2,width:"w-10",borderColor:"border-gray-700"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:556,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"Dual",value:Qe.nightDual,width:"w-10",borderColor:"border-transparent"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:557,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:554,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:552,columnNumber:21},void 0),n.jsxDEV(tt,{label:"TOTAL",value:Qe.total,width:"w-12",bgColor:"bg-gray-700/50"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:562,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Captain",value:Qe.captTime,width:"w-12"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:563,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Instructor",value:Qe.instTime,width:"w-12"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:564,columnNumber:21},void 0),n.jsxDEV(tt,{label:"Sim",value:"",width:"w-10"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:567,columnNumber:21},void 0)," ",n.jsxDEV(tt,{label:"Actual",value:Qe.simActual,width:"w-10"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:568,columnNumber:21},void 0),n.jsxDEV(tt,{label:"2D App",value:String(Qe.app2D),width:"w-10"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:569,columnNumber:21},void 0),n.jsxDEV(tt,{label:"3D App",value:String(Qe.app3D),width:"w-10"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:570,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex flex-col",children:[n.jsxDEV("div",{className:"text-[9px] font-bold text-gray-400 uppercase text-center border-b border-gray-700 bg-gray-900/30",children:"Simulator"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:574,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex",children:[n.jsxDEV(tt,{subLabel:"P1",value:Qe.simP1,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:576,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"P2",value:Qe.simP2,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:577,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"Dual",value:Qe.simDual,width:"w-10",borderColor:"border-gray-700",bgColor:"bg-gray-800/50"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:578,columnNumber:29},void 0),n.jsxDEV(tt,{subLabel:"TOTAL",value:Qe.simTotal,width:"w-10",borderColor:"border-transparent",bgColor:"bg-gray-800/50"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:579,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:575,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:573,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:531,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:530,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:528,columnNumber:9},void 0);return n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 h-full",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("div",{className:"flex items-center gap-4 w-1/3",children:[n.jsxDEV("span",{className:"font-bold text-white text-lg",children:t.flightNumber},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:592,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center px-3 py-1 rounded-full bg-gray-900/50 border border-gray-700",children:[n.jsxDEV("div",{className:`w-2 h-2 rounded-full mr-2 ${dn==="Saved"?"bg-green-500":dn==="Saving..."?"bg-amber-500 animate-pulse":"bg-red-500"}`},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:594,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-xs text-gray-300 font-mono uppercase",children:dn==="Saved"?"Saved":dn},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:595,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:593,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:591,columnNumber:17},void 0),n.jsxDEV("h2",{className:"text-xl font-bold text-sky-400 text-center w-1/3",children:"POST FLIGHT TIMES"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:598,columnNumber:17},void 0),n.jsxDEV("span",{className:"font-mono text-gray-300 text-lg w-1/3 text-right",children:t.date},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:599,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:590,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.jsxDEV("div",{className:"p-6 space-y-6 max-w-7xl mx-auto w-full",children:[n.jsxDEV("div",{className:"flex items-start gap-6",children:n.jsxDEV("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Result"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:609,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex flex-col space-y-3",children:[n.jsxDEV(jt,{value:"DCO"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:611,columnNumber:29},void 0),n.jsxDEV(jt,{value:"DPCO"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:612,columnNumber:29},void 0),n.jsxDEV(jt,{value:"DNCO"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:613,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:610,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:608,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:606,columnNumber:17},void 0),n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-lg font-semibold text-gray-300",children:"Times"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:620,columnNumber:21},void 0),n.jsxDEV("div",{className:"mt-2 flex items-end space-x-4",children:[n.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Flight"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:627,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:n.jsxDEV("input",{type:"checkbox",checked:k,onChange:it,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:629,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:628,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:626,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"FTD"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:640,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:n.jsxDEV("input",{type:"checkbox",checked:V,onChange:G,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:642,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:641,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:639,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Solo"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:653,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:n.jsxDEV("input",{type:"checkbox",checked:U,onChange:Ve,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:655,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:654,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:652,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0 flex flex-col items-center",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Dual"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:666,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 h-[38px] flex items-center justify-center",children:n.jsxDEV("input",{type:"checkbox",checked:B,onChange:et,className:"h-5 w-5 bg-gray-700 border-gray-600 rounded focus:ring-sky-500 focus:ring-offset-gray-800 accent-sky-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:668,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:667,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:665,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Date"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:679,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center",children:t.date},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:680,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:678,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Aircraft"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:684,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center",children:"PC-21"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:685,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:683,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",style:{width:"6.75rem"},children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Number"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:689,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsxDEV("span",{className:"p-2 bg-gray-700 rounded-l-md text-white h-[38px] flex items-center",children:"A54-"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:691,columnNumber:33},void 0),n.jsxDEV("select",{value:f,onChange:Lt=>p(Lt.target.value),className:"block w-full bg-gray-700 border border-gray-600 rounded-r-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm appearance-none text-center",children:Vt.map(Lt=>n.jsxDEV("option",{value:Lt,children:Lt},Lt,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:693,columnNumber:71},void 0))},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:692,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:690,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:688,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",style:{width:"12rem"},children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Duty"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:700,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:L,onChange:Lt=>I(Lt.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white text-xs focus:outline-none focus:ring-sky-500"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:701,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:699,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-1 min-w-0",style:{flexBasis:"8rem"},children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Captain/Instructor"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:711,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center truncate",children:(Ft=t.instructor||t.pilot)==null?void 0:Ft.split(" â€“ ")[0]},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:712,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:710,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-1 min-w-0",style:{flexBasis:"6rem"},children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Crew/Trainee"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:716,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 p-2 bg-gray-700 rounded-md text-white h-[38px] flex items-center truncate",children:U?"Solo":(_t=t.student)==null?void 0:_t.split(" â€“ ")[0]},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:717,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:715,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:623,columnNumber:21},void 0),n.jsxDEV("div",{className:"mt-4 flex items-end space-x-4 overflow-x-auto pb-2",children:[n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400 text-center",children:"Route"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:727,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsxDEV("input",{type:"text",value:h,onChange:Lt=>v(Lt.target.value.toUpperCase()),maxLength:3,placeholder:"From",className:"w-16 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-2 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:729,columnNumber:33},void 0),n.jsxDEV("input",{type:"text",value:b,onChange:Lt=>x(Lt.target.value.toUpperCase()),maxLength:3,placeholder:"To",className:"w-16 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:730,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:728,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:726,columnNumber:26},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Takeoff"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:735,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:ne,onChange:Lt=>De(Lt,J),placeholder:"HH:MM",className:"mt-1 block w-24 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:736,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:734,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Land"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:746,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:O,onChange:Lt=>De(Lt,A),placeholder:"HH:MM",className:"mt-1 block w-24 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:747,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:745,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Total"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:757,columnNumber:29},void 0),n.jsxDEV("div",{className:"mt-1 p-2 bg-gray-900/50 border border-gray-500 rounded-md text-white h-[38px] flex items-center justify-center font-mono w-20",children:Xe},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:758,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:756,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Captain"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:762,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:_,onChange:Lt=>K(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:763,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:761,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:773,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:X,onChange:Lt=>Fe(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:774,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:772,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Night"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:784,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:ie,onChange:Lt=>Ee(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:785,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:783,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"IF Actual"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:795,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:ge,onChange:Lt=>we(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:796,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:794,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"IF Sim"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:806,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:Ye,onChange:Lt=>be(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:807,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:805,columnNumber:25},void 0),n.jsxDEV("div",{className:"flex-shrink-0",children:[n.jsxDEV("label",{className:"block text-sm font-medium text-gray-400",children:"Ineffective"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:817,columnNumber:29},void 0),n.jsxDEV("input",{type:"text",value:H,onChange:Lt=>ae(Lt.target.value),placeholder:"0.0",className:"mt-1 block w-20 bg-gray-700 border border-gray-600 rounded-md h-[38px] py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm text-center font-mono"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:818,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:816,columnNumber:25},void 0),n.jsxDEV(lt,{label:"ILS/GLS",isChecked:te,setIsChecked:re,count:se,setCount:he},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:828,columnNumber:25},void 0),n.jsxDEV(lt,{label:"RNP",isChecked:ve,setIsChecked:Be,count:xe,setCount:ue},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:829,columnNumber:25},void 0),n.jsxDEV(lt,{label:"TACAN",isChecked:fe,setIsChecked:Ge,count:Re,setCount:Q},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:830,columnNumber:25},void 0),n.jsxDEV(lt,{label:"VOR/DME",isChecked:je,setIsChecked:Ze,count:wt,setCount:mt},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:831,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:724,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:619,columnNumber:17},void 0),n.jsxDEV(ut,{title:`Captain's Log (${Mt(t.instructor||t.pilot)})`,data:Et("Captain")},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:836,columnNumber:17},void 0),!U&&n.jsxDEV(ut,{title:`Crew's Log (${Mt(t.student)})`,data:Et("Crew")},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:837,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:604,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:603,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex-shrink-0 px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:$e,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 transition-colors text-sm font-semibold",children:"Save & Return"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:844,columnNumber:17},void 0),n.jsxDEV("button",{onClick:ke,className:"px-4 py-2 bg-transparent border border-gray-600 text-gray-300 rounded-md hover:bg-gray-700 hover:text-white transition-colors text-sm",children:"Return"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:845,columnNumber:17},void 0),n.jsxDEV(Zl,{pageName:"Post-Flight"},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:846,columnNumber:20},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:843,columnNumber:13},void 0),Pe&&n.jsxDEV(M3,{onSaveAndExit:()=>{rt(!1),$e(),e()},onExitWithoutSaving:()=>{rt(!1),e()},onCancel:()=>rt(!1)},void 0,!1,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:849,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/PostFlightView.tsx",lineNumber:588,columnNumber:9},void 0)},Nu=({label:t,value:e,className:s=""})=>n.jsxDEV("div",{className:`bg-gray-700/50 p-3 rounded-lg ${s}`,children:[n.jsxDEV("label",{className:"block text-xs font-medium text-gray-400 uppercase tracking-wider",children:t},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:14,columnNumber:9},void 0),n.jsxDEV("p",{className:"mt-1 text-md font-semibold text-white",children:e},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:15,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:13,columnNumber:5},void 0),ap=({title:t,items:e})=>n.jsxDEV("div",{children:[n.jsxDEV("h3",{className:"text-md font-semibold text-sky-400 mb-2",children:t},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:21,columnNumber:9},void 0),n.jsxDEV("div",{className:"bg-gray-700/50 p-3 rounded-lg text-sm text-gray-300",children:e&&e.length>0?n.jsxDEV("ul",{className:"space-y-1 list-disc list-inside",children:e.map((s,r)=>n.jsxDEV("li",{children:s},r,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:25,columnNumber:49},void 0))},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:24,columnNumber:17},void 0):n.jsxDEV("p",{className:"italic text-gray-500",children:"None"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:28,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:20,columnNumber:5},void 0),D_=(t,e)=>{const s={"2-5":{text:"text-green-300",bg:"bg-green-500/20"},1:{text:"text-amber-300",bg:"bg-amber-500/20"},0:{text:"text-red-300",bg:"bg-red-500/20"}},r=t>=2?"2-5":t===1?"1":"0";return s[r][e]},k_=t=>t.type==="Flight"?"Flight":t.type==="FTD"?"FTD":t.type==="Ground School"?t.code.includes("CPT")?"CPT":"Ground":"Flight",S_=({item:t,score:e})=>n.jsxDEV("div",{className:"space-y-6",children:[n.jsxDEV("div",{children:[n.jsxDEV("h2",{className:"text-3xl font-bold text-white",children:t.code},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:57,columnNumber:13},void 0),n.jsxDEV("p",{className:"text-lg text-gray-400 mt-1",children:t.eventDescription},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:58,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:56,columnNumber:9},void 0),n.jsxDEV("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Core Details"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:62,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2",children:[n.jsxDEV(Nu,{label:"Phase",value:t.phase},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:64,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Module",value:t.module},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:65,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Type",value:k_(t)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:66,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Day/Night",value:t.dayNight||"Day"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:67,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Dual/Solo",value:t.sortieType||"Dual"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:68,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Total Event Hours",value:n.jsxDEV(n.Fragment,{children:[t.totalEventHours.toFixed(1)," ",n.jsxDEV("span",{className:"text-sm font-normal",children:"hrs"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:69,columnNumber:98},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:69,columnNumber:62},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:69,columnNumber:17},void 0),n.jsxDEV(Nu,{label:"Flight/Sim Hours",value:n.jsxDEV(n.Fragment,{children:[t.flightOrSimHours.toFixed(1)," ",n.jsxDEV("span",{className:"text-sm font-normal",children:"hrs"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:70,columnNumber:98},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:70,columnNumber:61},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:70,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:63,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:61,columnNumber:9},void 0),e&&n.jsxDEV("fieldset",{className:"p-4 border border-sky-700 rounded-lg bg-sky-900/10",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-sky-300",children:"Trainee's Score"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:76,columnNumber:17},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[n.jsxDEV(Nu,{label:"Overall Score",value:t.type==="Ground School"?n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"-"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:83,columnNumber:37},void 0),n.jsxDEV("span",{className:"text-green-300",children:"Complete"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:86,columnNumber:37},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:82,columnNumber:33},void 0):n.jsxDEV("span",{className:`text-xl ${D_(e.score,"text")}`,children:e.score},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:89,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:78,columnNumber:21},void 0),n.jsxDEV(Nu,{label:"Date",value:e.date},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:93,columnNumber:22},void 0),n.jsxDEV(Nu,{label:"Instructor",value:e.instructor},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:94,columnNumber:22},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:77,columnNumber:17},void 0),n.jsxDEV("div",{className:"mt-4",children:n.jsxDEV(Nu,{label:"Notes",value:n.jsxDEV("p",{className:"whitespace-pre-wrap",children:e.notes},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:97,columnNumber:55},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:97,columnNumber:22},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:96,columnNumber:18},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:75,columnNumber:13},void 0),n.jsxDEV("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Prerequisites"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:103,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[n.jsxDEV(ap,{title:"Ground School",items:t.prerequisitesGround},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:105,columnNumber:17},void 0),n.jsxDEV(ap,{title:"Sim/Flying",items:t.prerequisitesFlying},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:106,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:102,columnNumber:9},void 0),n.jsxDEV("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Event Breakdown"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:111,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[n.jsxDEV(ap,{title:"Methods of Delivery",items:t.methodOfDelivery},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:113,columnNumber:17},void 0),n.jsxDEV(ap,{title:"Methods of Assessment",items:t.methodOfAssessment},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:110,columnNumber:9},void 0),n.jsxDEV("fieldset",{className:"p-4 border border-gray-700 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Resources"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:119,columnNumber:13},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-2",children:[n.jsxDEV(ap,{title:"Physical Resources",items:t.resourcesPhysical},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:121,columnNumber:17},void 0),n.jsxDEV(ap,{title:"Human Resources",items:t.resourcesHuman},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:122,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:120,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:118,columnNumber:10},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:55,columnNumber:5},void 0),V_=()=>n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:130,columnNumber:9},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:129,columnNumber:5},void 0),T_=({trainee:t,traineeLmp:e,scores:s,onBack:r})=>{const[a,u]=S.useState(null),m=S.useMemo(()=>new Set(s.map(d=>d.event)),[s]);return S.useEffect(()=>{u(null)},[t.fullName]),n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-hidden",children:[n.jsxDEV("div",{className:"flex-shrink-0 bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[n.jsxDEV("div",{children:[n.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Individual LMP"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:149,columnNumber:11},void 0),n.jsxDEV("p",{className:"text-sm text-gray-400",children:[t.rank," ",t.name," - ",t.course]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:148,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex items-center gap-2",children:[n.jsxDEV("button",{onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm font-semibold shadow-md",children:"â† Back - Trainee Profile"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:153,columnNumber:9},void 0),n.jsxDEV(Zl,{pageName:"Individual LMP"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:159,columnNumber:14},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:152,columnNumber:12},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:147,columnNumber:7},void 0),n.jsxDEV("div",{className:"flex-1 flex flex-row overflow-hidden",children:[n.jsxDEV("div",{className:"w-1/4 border-r border-gray-700 overflow-y-auto",children:n.jsxDEV("ul",{className:"p-2 space-y-1",children:e.map(d=>{const f=m.has(d.code);return n.jsxDEV("li",{children:n.jsxDEV("button",{onClick:()=>u(d),className:`w-full text-left p-2 rounded-md transition-colors text-sm flex items-center space-x-2 ${(a==null?void 0:a.code)===d.code?"bg-sky-700 text-white font-semibold":"text-gray-300 hover:bg-gray-700/50"}`,children:[f?n.jsxDEV(V_,{},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:176,columnNumber:36},void 0):n.jsxDEV("div",{className:"w-4 h-4 flex-shrink-0"},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:176,columnNumber:52},void 0),n.jsxDEV("span",{children:d.code},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:177,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:172,columnNumber:19},void 0)},d.code,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:171,columnNumber:17},void 0)})},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:167,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:166,columnNumber:9},void 0),n.jsxDEV("div",{className:"w-3/4 overflow-y-auto",children:n.jsxDEV("div",{className:"p-6 max-w-5xl mx-auto",children:a?n.jsxDEV(S_,{item:a,score:s.find(d=>d.event===a.code)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:189,columnNumber:15},void 0):n.jsxDEV("div",{className:"flex items-center justify-center h-full",children:n.jsxDEV("p",{className:"text-gray-500 italic",children:"Select an item from the list to view its details."},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:195,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:194,columnNumber:15},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:187,columnNumber:11},void 0)},void 0,!1,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:186,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:164,columnNumber:7},void 0)]},void 0,!0,{fileName:"/workspace/components/TraineeLmpView.tsx",lineNumber:145,columnNumber:5},void 0)},C_=({trainee:t,instructors:e,scores:s,traineeLmp:r,onClose:a,onSave:u})=>{const[m,d]=S.useState(""),[f,p]=S.useState([]),[h,v]=S.useState({quantity:0,duration:1,instructor:""}),[b,x]=S.useState({quantity:0,duration:1.5,instructor:""}),[k,C]=S.useState({quantity:0,duration:1.5,instructor:""}),V=S.useMemo(()=>s.filter(A=>A.score===0||A.score===1).map(A=>r.find(L=>L.id===A.event)).filter(A=>!!A).sort((A,L)=>new Date(s.find(I=>I.event===L.id).date).getTime()-new Date(s.find(I=>I.event===A.id).date).getTime()),[s,r]),F=S.useMemo(()=>{const L=r.map(I=>{const _=s.find(K=>K.event===I.id);return{item:I,score:_,date:_&&_.score>=0?new Date(_.date).getTime():null}}).filter(I=>I.score&&I.score.score>=0&&I.date!==null).sort((I,_)=>_.date-I.date);return L.length>0?L[0].item:null},[r,s]),U=S.useMemo(()=>{if(!F)return null;const A=r.findIndex(L=>L.id===F.id);return A>=0&&A<r.length-1?r[A+1]:null},[r,F]),q=S.useMemo(()=>r.find(A=>A.id===m),[m,r]),B=S.useMemo(()=>q?{...q,code:`${q.code}-RF`,eventDescription:`Re-Fly: ${q.eventDescription}`}:null,[q]),Y=()=>{const A=[];if(h.quantity>0&&h.instructor&&h.duration>0)for(let L=0;L<h.quantity;L++)A.push({id:qi(),type:"TUT",duration:h.duration,instructor:h.instructor});if(b.quantity>0&&b.instructor&&b.duration>0)for(let L=0;L<b.quantity;L++)A.push({id:qi(),type:"FTD",duration:b.duration,instructor:b.instructor});if(k.quantity>0&&k.instructor&&k.duration>0)for(let L=0;L<k.quantity;L++)A.push({id:qi(),type:"Flight",duration:k.duration,instructor:k.instructor});A.length>0?(p(L=>[...L,...A]),v({quantity:0,duration:1,instructor:""}),x({quantity:0,duration:1.5,instructor:""}),C({quantity:0,duration:1.5,instructor:""})):alert("Please enter a quantity, duration, and instructor for at least one event type.")},ne=A=>{p(L=>L.filter(I=>I.id!==A))},J=()=>{if(!q||f.length===0){alert("Please select an event to remediate and add at least one remedial event.");return}u(t,q,f)},O=({label:A,state:L,setState:I})=>n.jsxDEV("div",{className:"flex items-end space-x-2",children:[n.jsxDEV("div",{className:"w-28 flex-shrink-0",children:n.jsxDEV("label",{className:"block text-sm font-medium text-gray-300",children:A},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:141,columnNumber:13},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:140,columnNumber:9},void 0),n.jsxDEV("div",{style:{width:"4.5rem"},children:[n.jsxDEV("label",{className:"block text-xs font-medium text-gray-400",children:"Qty"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:144,columnNumber:13},void 0),n.jsxDEV("input",{type:"number",min:"0",value:L.quantity,onChange:_=>I(K=>({...K,quantity:parseInt(_.target.value,10)||0})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:145,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:143,columnNumber:9},void 0),n.jsxDEV("div",{style:{width:"6rem"},children:[n.jsxDEV("label",{className:"block text-xs font-medium text-gray-400",children:"Dur (hrs)"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:148,columnNumber:13},void 0),n.jsxDEV("input",{type:"number",step:"0.1",min:"0",value:L.duration,onChange:_=>I(K=>({...K,duration:parseFloat(_.target.value)||0})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:149,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:147,columnNumber:9},void 0),n.jsxDEV("div",{className:"flex-grow",children:[n.jsxDEV("label",{className:"block text-xs font-medium text-gray-400",children:"Instructor"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:152,columnNumber:13},void 0),n.jsxDEV("select",{value:L.instructor,onChange:_=>I(K=>({...K,instructor:_.target.value})),className:"mt-1 w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white text-sm",children:[n.jsxDEV("option",{value:"",disabled:!0,children:"Select"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:154,columnNumber:17},void 0),e.map(_=>n.jsxDEV("option",{value:_.name,children:_.name},_.idNumber,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:155,columnNumber:39},void 0))]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:153,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:151,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:139,columnNumber:5},void 0);return n.jsxDEV("div",{className:"fixed inset-0 bg-black/60 z-[70] flex items-center justify-center animate-fade-in",onClick:a,children:n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl border border-gray-700 flex flex-col h-[90vh]",onClick:A=>A.stopPropagation(),children:[n.jsxDEV("div",{className:"p-4 border-b border-gray-700 bg-gray-900/50 flex justify-between items-center",children:[n.jsxDEV("h2",{className:"text-xl font-bold text-sky-400",children:["Add Remedial Package for ",t.name]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:165,columnNumber:11},void 0),n.jsxDEV("button",{onClick:a,className:"text-white hover:text-gray-300",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:166,columnNumber:194},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:166,columnNumber:80},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:166,columnNumber:11},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:164,columnNumber:9},void 0),n.jsxDEV("div",{className:"p-6 space-y-6 flex-1 overflow-y-auto",children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 1: Select Failed Event"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:172,columnNumber:13},void 0),n.jsxDEV("div",{className:"mt-2",children:[n.jsxDEV("div",{className:"relative",children:[n.jsxDEV("select",{value:m,onChange:A=>d(A.target.value),className:"block w-full bg-gray-700 border border-gray-600 rounded-md py-2 px-3 text-white focus:outline-none focus:ring-sky-500 sm:text-sm",size:"8",children:[n.jsxDEV("option",{value:"",disabled:!0,children:"Select an event to remediate..."},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:181,columnNumber:19},void 0),V.map(A=>n.jsxDEV("option",{value:A.id,style:{color:(F==null?void 0:F.id)===A.id?"#ef4444":"#ffffff",fontWeight:(F==null?void 0:F.id)===A.id?"bold":"normal"},children:A.code},A.id,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:183,columnNumber:21},void 0))]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:175,columnNumber:17},void 0),F&&(()=>{const A=V.findIndex(L=>L.id===F.id);if(A>=0){const L=document.querySelector('select[size="8"]');if(L){const I=Math.max(0,A-3);L.selectedIndex=I,setTimeout(()=>{L.selectedIndex=m||-1},100)}}return null})()]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:174,columnNumber:15},void 0),n.jsxDEV("div",{className:"mt-2 text-xs space-y-1",children:[F&&n.jsxDEV("div",{className:"text-red-400",children:["Last completed: ",F.code]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:214,columnNumber:19},void 0),U&&n.jsxDEV("div",{className:"text-green-400",children:["Next event: ",U.code]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:219,columnNumber:19},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:212,columnNumber:15},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:173,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:171,columnNumber:11},void 0),q&&n.jsxDEV(n.Fragment,{children:[n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 2: Build Remedial Package"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:231,columnNumber:17},void 0),n.jsxDEV("div",{className:"mt-2 p-3 bg-gray-700/30 rounded-lg space-y-3",children:[n.jsxDEV(O,{label:"Tutorials",state:h,setState:v},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:233,columnNumber:21},void 0),n.jsxDEV(O,{label:"FTDs",state:b,setState:x},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:234,columnNumber:21},void 0),n.jsxDEV(O,{label:"Flights",state:k,setState:C},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:235,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:232,columnNumber:17},void 0),n.jsxDEV("button",{onClick:Y,className:"w-full mt-3 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm font-semibold",children:"Add Events to Package"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:237,columnNumber:17},void 0),n.jsxDEV("div",{className:"mt-4 space-y-2",children:f.map(A=>n.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-gray-700/50 rounded-md text-sm",children:[n.jsxDEV("div",{className:"flex items-center space-x-3",children:[n.jsxDEV("span",{className:"font-bold text-sky-400 w-16",children:A.type},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:243,columnNumber:33},void 0),n.jsxDEV("span",{className:"text-gray-300",children:[A.duration.toFixed(1)," hrs with ",(A.instructor||"").split(",")[0]]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:244,columnNumber:33},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:242,columnNumber:29},void 0),n.jsxDEV("button",{onClick:()=>ne(A.id),className:"p-1 text-gray-400 hover:text-red-400",children:n.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsxDEV("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:246,columnNumber:230},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:246,columnNumber:130},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:246,columnNumber:29},void 0)]},A.id,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:241,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:230,columnNumber:15},void 0),B&&n.jsxDEV("fieldset",{className:"p-4 border border-gray-600 rounded-lg",children:[n.jsxDEV("legend",{className:"px-2 text-sm font-semibold text-gray-300",children:"Step 3: Review Auto-Generated Re-Fly"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:255,columnNumber:21},void 0),n.jsxDEV("div",{className:"mt-2 p-3 bg-gray-700/30 rounded-lg",children:[n.jsxDEV("p",{className:"text-white font-semibold",children:[B.code," - ",B.eventDescription]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:257,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-sm text-gray-400 mt-1",children:"This is a copy of the original event and will be added as the final step of the package."},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:258,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:256,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:254,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:228,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:169,columnNumber:9},void 0),n.jsxDEV("div",{className:"px-6 py-4 bg-gray-800/50 border-t border-gray-700 flex justify-end space-x-3",children:[n.jsxDEV("button",{onClick:a,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Cancel"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:267,columnNumber:13},void 0),n.jsxDEV("button",{onClick:J,disabled:!q||f.length===0,className:"px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"Save Package"},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:268,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:266,columnNumber:9},void 0)]},void 0,!0,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:163,columnNumber:7},void 0)},void 0,!1,{fileName:"/workspace/components/AddRemedialPackageFlyout.tsx",lineNumber:162,columnNumber:5},void 0)},A_=({course:t,allTrainees:e,scores:s,traineeLMPs:r,onUpdateGradDate:a,onUpdateStartDate:u,onShowFullGraph:m})=>{const{name:d,color:f,gradDate:p,startDate:h}=t,v=x=>x.filter(k=>!k.event.includes("MB")&&!k.event.includes("-REM-")&&!k.event.includes("-RF")).length,b=S.useMemo(()=>{var Fe;const x=e.filter(ie=>ie.course===d&&!ie.isPaused),C=(r.get((Fe=x[0])==null?void 0:Fe.fullName)||[]).filter(ie=>!ie.id.includes(" MB")&&!ie.isRemedial),V=C.length,F=x.map(ie=>{const Ee=r.get(ie.fullName)||[],ge=s.get(ie.fullName)||[],we=new Set(ge.map(ae=>ae.event));let Ye="Finished";const be=v(ge);if(be<V){Ye="N/A";for(const ae of Ee)if(!we.has(ae.id)&&!ae.code.includes(" MB")&&ae.prerequisites.every(re=>we.has(re))){Ye=ae.code;break}}const H=V>0?be/V*100:0;return{trainee:ie,percentage:H,nextEvent:Ye,completedCount:be}}).sort((ie,Ee)=>Ee.completedCount-ie.completedCount),U=F.map(ie=>ie.completedCount).sort((ie,Ee)=>ie-Ee),q=U.length>0?U[U.length-1]:0,B=q-1;let Y="N/A";q>0&&B<C.length?Y=C[B].code:x.length>0&&(Y="Not Started");const ne=U.length>0?U[0]:0,J=ne-1;let O="N/A";ne>0&&J<C.length?O=C[J].code:x.length>0&&(O="Not Started");let A=0;if(U.length>0){const ie=Math.floor(U.length/2);A=U.length%2!==0?U[ie]:(U[ie-1]+U[ie])/2}let L="N/A";const I=Math.floor(A)-1;V>0&&I>=0&&I<C.length?L=C[I].code:A<1&&x.length>0&&(L="Not Started");const _=V>0?A/V*100:0;let K=0;const X=V-A;if(X>0&&p){const ie=new Date;ie.setHours(0,0,0,0);const ge=(new Date(p).getTime()-ie.getTime())/(1e3*60*60*24);if(ge>0){const we=ge/7;K=X/we}}return{trainees:F.sort((ie,Ee)=>Ee.percentage-ie.percentage),medianProgressPercentage:_,medianEvent:L,totalSyllabusEvents:V,frontRunnerEvent:Y,backMarkerEvent:O,requiredPace:K,medianCountValue:A}},[d,e,s,r,p]);return n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 flex flex-col h-fit",children:[n.jsxDEV("div",{className:`p-4 border-b border-gray-700 rounded-t-lg ${f}`,children:[n.jsxDEV("h2",{className:"text-lg font-bold text-white text-center mb-2",children:d},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:135,columnNumber:18},void 0),n.jsxDEV("div",{className:"flex justify-between items-center text-xs",children:[n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{htmlFor:`start-date-${d.replace(/\s+/g,"-")}`,className:"text-white/80 font-semibold cursor-pointer",children:"Start:"},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:138,columnNumber:25},void 0),n.jsxDEV("input",{type:"date",id:`start-date-${d.replace(/\s+/g,"-")}`,value:h,onChange:x=>u(d,x.target.value),className:"bg-transparent text-white/80 font-semibold border-0 rounded p-1 focus:ring-2 focus:ring-sky-500 focus:outline-none w-28 appearance-none",style:{colorScheme:"dark"}},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:139,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:137,columnNumber:22},void 0),n.jsxDEV("div",{className:"flex items-center space-x-1",children:[n.jsxDEV("label",{htmlFor:`grad-date-${d.replace(/\s+/g,"-")}`,className:"text-white/80 font-semibold cursor-pointer",children:"Grad:"},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:149,columnNumber:25},void 0),n.jsxDEV("input",{type:"date",id:`grad-date-${d.replace(/\s+/g,"-")}`,value:p,onChange:x=>a(d,x.target.value),className:"bg-transparent text-white/80 font-semibold border-0 rounded p-1 focus:ring-2 focus:ring-sky-500 focus:outline-none w-28 appearance-none",style:{colorScheme:"dark"}},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:150,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:148,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:136,columnNumber:18},void 0),n.jsxDEV("div",{className:"w-full bg-black/30 rounded-full h-2.5 mt-2",children:n.jsxDEV("div",{className:"bg-white/80 h-2.5 rounded-full",style:{width:`${b.medianProgressPercentage}%`}},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:161,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:160,columnNumber:17},void 0),n.jsxDEV("div",{className:"mt-1 grid grid-cols-2 gap-x-4 text-xs",children:[n.jsxDEV("div",{children:[n.jsxDEV("p",{className:"text-white/70",children:["Front Runner: ",n.jsxDEV("span",{className:"font-semibold text-white/90",children:b.frontRunnerEvent},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:168,columnNumber:68},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:168,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-white",children:["Median Progress: ",n.jsxDEV("span",{className:"font-bold text-white",children:b.medianEvent},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:169,columnNumber:68},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:169,columnNumber:25},void 0),n.jsxDEV("p",{className:"text-white/70",children:["Back Marker: ",n.jsxDEV("span",{className:"font-semibold text-white/90",children:b.backMarkerEvent},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:170,columnNumber:67},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:170,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:167,columnNumber:21},void 0),n.jsxDEV("div",{className:"text-right flex flex-col justify-center",children:[n.jsxDEV("p",{className:"text-white/70",children:"Required Pace"},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:173,columnNumber:26},void 0),n.jsxDEV("p",{className:"font-bold text-lg text-white",children:[b.requiredPace.toFixed(1),n.jsxDEV("span",{className:"text-sm font-normal",children:"/wk"},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:174,columnNumber:106},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:174,columnNumber:26},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:172,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:166,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:134,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 space-y-3 max-h-60 overflow-y-auto",children:b.trainees.map(({trainee:x,percentage:k,nextEvent:C})=>n.jsxDEV("div",{children:[n.jsxDEV("div",{className:"flex items-center justify-between mb-1",children:[n.jsxDEV("span",{className:"text-sm font-medium text-gray-300",children:x.name},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:182,columnNumber:29},void 0),n.jsxDEV("span",{className:"text-xs font-mono text-sky-300",children:C},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:183,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:181,columnNumber:25},void 0),n.jsxDEV("div",{className:"w-full bg-gray-700 rounded-full h-1.5",children:n.jsxDEV("div",{className:`${f} h-1.5 rounded-full`,style:{width:`${k}%`}},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:186,columnNumber:29},void 0)},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:185,columnNumber:25},void 0)]},x.idNumber,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:180,columnNumber:21},void 0))},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:178,columnNumber:13},void 0),n.jsxDEV("div",{className:"p-4 border-t border-gray-700",children:n.jsxDEV("button",{onClick:m,className:"w-full text-center px-4 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-500 transition-colors text-sm font-semibold",children:"Show Progress Graph"},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:195,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:194,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseDataWindow.tsx",lineNumber:133,columnNumber:9},void 0)};function j_(t,e,s,r){if(console.log("[CourseStatistics] Input data:",{traineesCount:t.length,scoresMapSize:e.size,traineeLMPsMapSize:s.size,coursesCount:r.length}),t.length===0)return console.log("[CourseStatistics] No trainees provided"),{frontRunnerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},backMarkerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},courseAverageStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0}};const a=[];for(const b of t){const x=r.find(L=>L.name===b.course);if(!x){console.log(`[CourseStatistics] No course found for trainee ${b.fullName}, course: ${b.course}`);continue}const k=e.get(b.fullName)||[],C=s.get(b.fullName)||[];console.log(`[CourseStatistics] Processing trainee: ${b.fullName}`,{scoresCount:k.length,lmpCount:C.length,courseName:x.name,courseStart:x.startDate,courseGrad:x.gradDate});let V=0;for(const L of k){if(L.event.includes("MB")||L.event.includes("-REM-")||L.event.includes("-RF"))continue;const I=C.find(_=>_.id===L.event);I&&(I.type==="Flight"||I.type==="FTD")&&!I.isRemedial&&V++}const F=C.filter(L=>(L.type==="Flight"||L.type==="FTD")&&!L.isRemedial).length;if(console.log(`[CourseStatistics] ${b.fullName}: completed=${V}, total=${F}`),F===0){console.log(`[CourseStatistics] Skipping ${b.fullName} - no required events`);continue}const U=V/F,q=new Date(x.startDate+"T00:00:00Z"),B=new Date,Y=Math.max(0,(B.getTime()-q.getTime())/(1e3*60*60*24*7)),ne=new Date(x.gradDate+"T00:00:00Z"),J=Math.max(0,(ne.getTime()-B.getTime())/(1e3*60*60*24*7)),O=F-V,A=J>0?O/J:0;console.log(`[CourseStatistics] ${b.fullName}: weeksRemaining=${J.toFixed(1)}, eventsRemaining=${O}, eventsPerWeek=${A.toFixed(1)}`),a.push({name:b.fullName,completedEvents:V,totalRequired:F,completionRate:U,eventsPerWeek:A,weeksElapsed:Y,weeksRemaining:J})}if(a.length===0)return console.log("[CourseStatistics] No trainee stats calculated - returning zeros"),{frontRunnerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},backMarkerStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0},courseAverageStats:{eventsPerWeek:0,totalEvents:0,totalWeeks:0,completionRate:0}};console.log(`[CourseStatistics] Calculated stats for ${a.length} trainees`),a.sort((b,x)=>x.completionRate-b.completionRate);const u=a[0],m=a[a.length-1],d=a.reduce((b,x)=>b+x.completionRate,0)/a.length,f=a.reduce((b,x)=>b+x.eventsPerWeek,0)/a.length,p=a.reduce((b,x)=>b+x.completedEvents,0)/a.length,h=a.reduce((b,x)=>b+x.weeksRemaining,0)/a.length,v={frontRunnerStats:{eventsPerWeek:u.eventsPerWeek,totalEvents:u.completedEvents,totalWeeks:u.weeksRemaining,completionRate:u.completionRate},backMarkerStats:{eventsPerWeek:m.eventsPerWeek,totalEvents:m.completedEvents,totalWeeks:m.weeksRemaining,completionRate:m.completionRate},courseAverageStats:{eventsPerWeek:f,totalEvents:p,totalWeeks:h,completionRate:d}};return console.log("[CourseStatistics] Final result:",{frontRunner:`${u.name}: ${u.eventsPerWeek.toFixed(1)}/wk`,backMarker:`${m.name}: ${m.eventsPerWeek.toFixed(1)}/wk`,average:`${f.toFixed(1)}/wk`}),v}const F_=({courses:t,allTrainees:e,scores:s,traineeLMPs:r,courseColors:a,initialSelectedCourse:u,onClose:m})=>{const[d,f]=S.useState(u),p=S.useMemo(()=>{var b;const v=[];for(const x of t){if(!a[x.name])continue;const k=e.filter(O=>O.course===x.name&&!O.isPaused);if(k.length===0)continue;const F=(r.get((b=k[0])==null?void 0:b.fullName)||[]).filter(O=>(O.type==="Flight"||O.type==="FTD")&&!O.isRemedial).length;if(F===0)continue;const U=new Date(x.startDate+"T00:00:00Z"),q=new Date(x.gradDate+"T00:00:00Z");let B=null;for(const O of k){const A=s.get(O.fullName)||[],L=r.get(O.fullName)||[];for(const I of A){if(I.event.includes("MB")||I.event.includes("-REM-")||I.event.includes("-RF"))continue;const _=L.find(K=>K.id===I.event);if(_&&(_.type==="Flight"||_.type==="FTD")&&!_.isRemedial){const K=new Date(I.date+"T00:00:00Z");(!B||K<B)&&(B=K)}}}if(!B){console.log(`[ProgressGraph] No first event date found for ${x.name}`);continue}const Y=[],ne=new Date;ne.setHours(0,0,0,0);let J=new Date(B);for(J.setHours(0,0,0,0);J<=ne;){const O=new Date(J);O.setDate(O.getDate()+7);const A=[];for(const L of k){const I=s.get(L.fullName)||[],_=r.get(L.fullName)||[];let K=0;for(const X of I)if(new Date(X.date+"T00:00:00Z")<=O){if(X.event.includes("MB")||X.event.includes("-REM-")||X.event.includes("-RF"))continue;const ie=_.find(Ee=>Ee.id===X.event);ie&&(ie.type==="Flight"||ie.type==="FTD")&&!ie.isRemedial&&K++}A.push({name:L.fullName,count:K})}if(A.length>0){A.sort((K,X)=>X.count-K.count);const L=A[0].count,I=A[A.length-1].count,_=A.reduce((K,X)=>K+X.count,0)/A.length;Y.push({weekDate:new Date(J),highest:L,lowest:I,average:_,highestTrainee:A[0].name,lowestTrainee:A[A.length-1].name})}J.setDate(J.getDate()+7)}console.log(`[ProgressGraph] Course: ${x.name}`),console.log(`  - Course Start: ${U.toLocaleDateString()}`),console.log(`  - Course Grad: ${q.toLocaleDateString()}`),console.log(`  - Total Events: ${F}`),console.log(`  - First Event Date: ${B==null?void 0:B.toLocaleDateString()}`),console.log(`  - Weekly Progress Points: ${Y.length}`),Y.length>0&&(console.log("  - Sample Week 1:",Y[0]),console.log("  - Sample Last Week:",Y[Y.length-1])),v.push({course:x,startDate:U,endDate:q,totalEvents:F,weeklyProgress:Y,color:a[x.name]})}return console.log(`[ProgressGraph] Total courses with data: ${v.length}`),v},[t,e,s,r,a]),h=d?p.filter(v=>v.course.name===d):p;return n.jsxDEV("div",{className:"fixed inset-0 z-50 bg-gray-900 flex flex-col",children:[n.jsxDEV("div",{className:"bg-gray-800 border-b border-gray-700 p-4 flex items-center justify-between",children:[n.jsxDEV("div",{className:"flex items-center space-x-4",children:[n.jsxDEV("button",{onClick:m,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors font-semibold",children:"â† Minimize"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:184,columnNumber:21},void 0),n.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Course Progress Graphs"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:190,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:183,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex items-center space-x-2",children:[n.jsxDEV("label",{className:"text-gray-300 text-sm font-semibold",children:"Filter:"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:195,columnNumber:21},void 0),n.jsxDEV("select",{value:d||"",onChange:v=>f(v.target.value||null),className:"bg-gray-700 text-white rounded-md px-3 py-2 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-sky-500",children:[n.jsxDEV("option",{value:"",children:"All Courses"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:201,columnNumber:25},void 0),p.map(v=>n.jsxDEV("option",{value:v.course.name,children:v.course.name},v.course.name,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:203,columnNumber:29},void 0))]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:196,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:194,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:182,columnNumber:13},void 0),n.jsxDEV("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxDEV("div",{className:"space-y-8 max-w-7xl mx-auto",children:h.map(v=>n.jsxDEV(P_,{data:v,allTrainees:e,scores:s,traineeLMPs:r,courses:t},v.course.name,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:215,columnNumber:25},void 0))},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:213,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:212,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:180,columnNumber:9},void 0)},P_=({data:t,allTrainees:e,scores:s,traineeLMPs:r,courses:a})=>{const{course:u,startDate:m,endDate:d,totalEvents:f,weeklyProgress:p,color:h}=t,{frontRunnerStats:v,backMarkerStats:b,courseAverageStats:x}=S.useMemo(()=>{const A=e.filter(L=>L.course===u.name&&!L.isPaused);return A.length===0?{frontRunnerStats:{eventsPerWeek:0},backMarkerStats:{eventsPerWeek:0},courseAverageStats:{eventsPerWeek:0}}:j_(A,s,r,[u])},[u,e,s,r]),k=800,C=450,V={top:50,right:50,bottom:70,left:70},F=k-V.left-V.right,U=C-V.top-V.bottom,q=A=>{const L=d.getTime()-m.getTime(),I=A.getTime()-m.getTime(),_=V.left+I/L*F;return Math.max(V.left,Math.min(V.left+F,_))},B=A=>V.top+U-A/f*U,Y=S.useMemo(()=>{const A=[],L=[{rate:3.5,color:"#34d399",label:"3.5/wk",dash:"8 4"},{rate:4,color:"#fbbf24",label:"4.0/wk",dash:"none"},{rate:4.5,color:"#f87171",label:"4.5/wk",dash:"8 4"}];for(const{rate:I,color:_,label:K,dash:X}of L){const ie=f/I*7,Ee=new Date(d);Ee.setDate(Ee.getDate()-Math.floor(ie)),A.push({x1:q(Ee),y1:B(0),x2:q(d),y2:B(f),color:_,label:K,dash:X})}return A},[m,d,f]),ne=S.useMemo(()=>{const A=[];for(let I=0;I<=8;I++){const _=f/8*I;A.push({value:Math.round(_),y:B(_)})}return A},[f]),J=S.useMemo(()=>{const A=[],L=new Date(m);for(L.setDate(1);L<=d;)L>=m&&A.push({date:new Date(L),x:q(L),label:L.toLocaleDateString("en-GB",{month:"short",year:"2-digit"})}),L.setMonth(L.getMonth()+1);return A},[m,d]),O=S.useMemo(()=>p.length===0?"":p.map(L=>({x:q(L.weekDate),y:B(L.average)})).map((L,I)=>`${I===0?"M":"L"} ${L.x} ${L.y}`).join(" "),[p]);return h.includes("sky")||h.includes("purple")||h.includes("yellow")||h.includes("pink")||h.includes("teal")||h.includes("indigo")||h.includes("cyan")||h.includes("fuchsia")||h.includes("blue")||h.includes("green")||h.includes("red")||h.includes("lime"),n.jsxDEV("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-4",children:[n.jsxDEV("div",{className:`mb-4 p-3 rounded-lg ${h}`,children:[n.jsxDEV("h2",{className:"text-lg font-bold text-white text-center",children:u.name},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:365,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex justify-between text-sm text-white/80 mt-2",children:[n.jsxDEV("span",{children:["Start: ",m.toLocaleDateString("en-GB")]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:367,columnNumber:21},void 0),n.jsxDEV("span",{children:["Total Events: ",f]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:368,columnNumber:21},void 0),n.jsxDEV("span",{children:["Graduation: ",d.toLocaleDateString("en-GB")]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:369,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:366,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:364,columnNumber:13},void 0),n.jsxDEV("div",{className:"bg-gray-700 rounded-lg p-3 mb-4",children:[n.jsxDEV("div",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Events Per Week Required:"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:375,columnNumber:17},void 0),n.jsxDEV("div",{className:"flex space-x-6",children:[n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:378,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-sm text-gray-300",children:["Front Runner: ",n.jsxDEV("span",{className:"font-bold text-green-400",children:v.eventsPerWeek.toFixed(1)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:379,columnNumber:79},void 0),"/wk"]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:379,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:377,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:382,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-sm text-gray-300",children:["Course Average: ",n.jsxDEV("span",{className:"font-bold text-blue-400",children:x.eventsPerWeek.toFixed(1)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:383,columnNumber:81},void 0),"/wk"]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:383,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:381,columnNumber:21},void 0),n.jsxDEV("div",{className:"flex items-center",children:[n.jsxDEV("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:386,columnNumber:25},void 0),n.jsxDEV("span",{className:"text-sm text-gray-300",children:["Back Marker: ",n.jsxDEV("span",{className:"font-bold text-red-400",children:b.eventsPerWeek.toFixed(1)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:387,columnNumber:78},void 0),"/wk"]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:387,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:385,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:376,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:374,columnNumber:13},void 0),n.jsxDEV("svg",{viewBox:`0 0 ${k} ${C}`,className:"w-full h-auto",children:[n.jsxDEV("defs",{children:n.jsxDEV("pattern",{id:`grid-${u.name}`,width:"40",height:"40",patternUnits:"userSpaceOnUse",children:n.jsxDEV("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#374151",strokeWidth:"0.5"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:396,columnNumber:25},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:395,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:394,columnNumber:17},void 0),n.jsxDEV("rect",{x:V.left,y:V.top,width:F,height:U,fill:`url(#grid-${u.name})`},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:399,columnNumber:17},void 0),ne.map(A=>n.jsxDEV("g",{children:[n.jsxDEV("line",{x1:V.left,x2:V.left+F,y1:A.y,y2:A.y,stroke:"#4b5563",strokeWidth:"1"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:404,columnNumber:25},void 0),n.jsxDEV("text",{x:V.left-10,y:A.y+4,textAnchor:"end",fontSize:"11",fill:"#9ca3af",children:A.value},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:412,columnNumber:25},void 0)]},`y-${A.value}`,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:403,columnNumber:21},void 0)),J.map(A=>n.jsxDEV("g",{children:[n.jsxDEV("line",{x1:A.x,x2:A.x,y1:V.top,y2:V.top+U,stroke:"#4b5563",strokeWidth:"1"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:427,columnNumber:25},void 0),n.jsxDEV("text",{x:A.x,y:V.top+U+20,textAnchor:"middle",fontSize:"10",fill:"#9ca3af",children:A.label},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:435,columnNumber:25},void 0)]},`x-${A.x}`,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:426,columnNumber:21},void 0)),n.jsxDEV("path",{d:`M ${V.left} ${V.top} V ${V.top+U} H ${V.left+F}`,fill:"none",stroke:"#6b7280",strokeWidth:"2"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:448,columnNumber:17},void 0),n.jsxDEV("text",{x:V.left/2,y:V.top+U/2,transform:`rotate(-90 ${V.left/2} ${V.top+U/2})`,textAnchor:"middle",fontSize:"12",fill:"#d1d5db",fontWeight:"bold",children:"Events Completed"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:456,columnNumber:17},void 0),n.jsxDEV("text",{x:V.left+F/2,y:C-15,textAnchor:"middle",fontSize:"12",fill:"#d1d5db",fontWeight:"bold",children:"Date"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:467,columnNumber:17},void 0),Y.map((A,L)=>n.jsxDEV("line",{x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2,stroke:A.color,strokeWidth:"2",strokeDasharray:A.dash},`ref-${L}`,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:480,columnNumber:21},void 0)),O&&n.jsxDEV("path",{d:O,fill:"none",stroke:"#60a5fa",strokeWidth:"2.5"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:494,columnNumber:21},void 0),p.length>0&&p.map((A,L)=>{const I=q(A.weekDate),_=B(A.highest),K=B(A.lowest),X=B(A.average);return(L===0||L===p.length-1)&&console.log(`[Graph] Week ${L+1}: x=${I}, highest=${A.highest} (y=${_}), lowest=${A.lowest} (y=${K}), avg=${A.average.toFixed(1)} (y=${X})`),n.jsxDEV("g",{children:[n.jsxDEV("circle",{cx:I,cy:_,r:"2.5",fill:"#4ade80",stroke:"#1f2937",strokeWidth:"1",children:n.jsxDEV("title",{children:`Week ${L+1}: Highest - ${A.highest} events (${A.highestTrainee})`},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:525,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:517,columnNumber:29},void 0),n.jsxDEV("circle",{cx:I,cy:K,r:"2.5",fill:"#f87171",stroke:"#1f2937",strokeWidth:"1",children:n.jsxDEV("title",{children:`Week ${L+1}: Lowest - ${A.lowest} events (${A.lowestTrainee})`},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:537,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:529,columnNumber:29},void 0),n.jsxDEV("circle",{cx:I,cy:X,r:"2",fill:"#60a5fa",stroke:"#1f2937",strokeWidth:"1",children:n.jsxDEV("title",{children:`Week ${L+1}: Average - ${A.average.toFixed(1)} events`},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:549,columnNumber:33},void 0)},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:541,columnNumber:29},void 0)]},`week-${L}`,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:515,columnNumber:25},void 0)}),n.jsxDEV("g",{transform:`translate(${V.left+15}, ${V.top-30})`,children:[n.jsxDEV("text",{x:"0",y:"0",fontSize:"10",fill:"#d1d5db",fontWeight:"bold",children:"Reference Lines:"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:557,columnNumber:21},void 0),n.jsxDEV("line",{x1:"100",y1:"-3",x2:"120",y2:"-3",stroke:"#f87171",strokeWidth:"2",strokeDasharray:"8 4"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:559,columnNumber:21},void 0),n.jsxDEV("text",{x:"125",y:"0",fontSize:"9",fill:"#9ca3af",children:"3.5/wk"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:560,columnNumber:21},void 0),n.jsxDEV("line",{x1:"170",y1:"-3",x2:"190",y2:"-3",stroke:"#fbbf24",strokeWidth:"2"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:562,columnNumber:21},void 0),n.jsxDEV("text",{x:"195",y:"0",fontSize:"9",fill:"#9ca3af",children:"4.0/wk"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:563,columnNumber:21},void 0),n.jsxDEV("line",{x1:"240",y1:"-3",x2:"260",y2:"-3",stroke:"#4ade80",strokeWidth:"2",strokeDasharray:"8 4"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:565,columnNumber:21},void 0),n.jsxDEV("text",{x:"265",y:"0",fontSize:"9",fill:"#9ca3af",children:"4.5/wk"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:566,columnNumber:21},void 0),n.jsxDEV("text",{x:"320",y:"0",fontSize:"10",fill:"#d1d5db",fontWeight:"bold",children:"Progress:"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:568,columnNumber:21},void 0),n.jsxDEV("circle",{cx:"380",cy:"-3",r:"3",fill:"#4ade80",stroke:"#1f2937",strokeWidth:"1.5"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:570,columnNumber:21},void 0),n.jsxDEV("text",{x:"385",y:"0",fontSize:"9",fill:"#9ca3af",children:"Highest"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:571,columnNumber:21},void 0),n.jsxDEV("circle",{cx:"430",cy:"-3",r:"3",fill:"#f87171",stroke:"#1f2937",strokeWidth:"1.5"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:573,columnNumber:21},void 0),n.jsxDEV("text",{x:"435",y:"0",fontSize:"9",fill:"#9ca3af",children:"Lowest"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:574,columnNumber:21},void 0),n.jsxDEV("line",{x1:"480",y1:"-3",x2:"495",y2:"-3",stroke:"#60a5fa",strokeWidth:"2.5"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:576,columnNumber:21},void 0),n.jsxDEV("text",{x:"500",y:"0",fontSize:"9",fill:"#9ca3af",children:"Average"},void 0,!1,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:577,columnNumber:21},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:556,columnNumber:17},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:392,columnNumber:13},void 0)]},void 0,!0,{fileName:"/workspace/components/FullPageProgressGraph.tsx",lineNumber:363,columnNumber:9},void 0)},R_=({traineesData:t,courseColors:e,scores:s,traineeLMPs:r,courses:a,onUpdateGradDate:u,onUpdateStartDate:m})=>{const[d,f]=S.useState(!1),[p,h]=S.useState(null);S.useEffect(()=>{Ln({action:"View",description:"Viewed Course Progress page",changes:`Viewing ${a.filter(b=>e[b.name]).length} active courses`,page:"Course Progress"})},[]);const v=S.useMemo(()=>a.filter(b=>e[b.name]).sort((b,x)=>new Date(b.gradDate).getTime()-new Date(x.gradDate).getTime()),[a,e]);return n.jsxDEV(n.Fragment,{children:d?n.jsxDEV(F_,{courses:v,allTrainees:t,scores:s,traineeLMPs:r,courseColors:e,initialSelectedCourse:p,onClose:()=>{f(!1),h(null)}},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:53,columnNumber:17},void 0):n.jsxDEV("div",{className:"flex-1 flex flex-col bg-gray-900 overflow-y-auto",children:n.jsxDEV("div",{className:"p-6 space-y-6 max-w-full mx-auto w-full",children:[n.jsxDEV("header",{children:[n.jsxDEV("h1",{className:"text-3xl font-bold text-white",children:"Course Progress"},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:69,columnNumber:29},void 0),n.jsxDEV("p",{className:"text-lg text-gray-400",children:"High-level overview of trainee progression through the syllabus."},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:70,columnNumber:29},void 0),n.jsxDEV("div",{className:"flex justify-end mt-2",children:n.jsxDEV(Zl,{pageName:"Course Progress"},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:71,columnNumber:68},void 0)},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:71,columnNumber:29},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:68,columnNumber:25},void 0),n.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:v.map(b=>n.jsxDEV(A_,{course:b,allTrainees:t,scores:s,traineeLMPs:r,onUpdateGradDate:u,onUpdateStartDate:m,onShowFullGraph:()=>{h(b.name),f(!0)}},b.name,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:76,columnNumber:33},void 0))},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:74,columnNumber:25},void 0)]},void 0,!0,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:67,columnNumber:21},void 0)},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:66,columnNumber:17},void 0)},void 0,!1,{fileName:"/workspace/components/CourseProgressView.tsx",lineNumber:51,columnNumber:9},void 0)},M_=({courses:t,courseColors:e,archivedCourses:s,onAddCourse:r,onDeleteCourse:a,onNavigateToCourseRoster:u,onNavigateToArchivedCourses:m})=>{const[d,f]=S.useState(!1),[p,h]=S.useState(""),[v,b]=S.useState(!1),[x,k]=S.useState(null),C=S.useMemo(()=>{const B={ADF:[],FIC:[],WSO:[],IFIC:[],OFI:[],"Pilot Conversion":[],Other:[]};return t.filter(ne=>e.hasOwnProperty(ne.name)).forEach(ne=>{ne.name.startsWith("ADF")?B.ADF.push(ne):ne.name.startsWith("FIC")?B.FIC.push(ne):ne.name.startsWith("WSO")?B.WSO.push(ne):ne.name.startsWith("IFIC")?B.IFIC.push(ne):ne.name.startsWith("OFI")?B.OFI.push(ne):ne.name.toLowerCase().includes("conversion")?B["Pilot Conversion"].push(ne):B.Other.push(ne)}),Object.keys(B).forEach(ne=>{B[ne].length===0&&delete B[ne]}),B},[t,e]),V=async B=>{k(B),b(!0)},F=async()=>{if(p!=="1234"){await dh("Invalid PIN","The PIN you entered is incorrect. Please try again.","error"),h("");return}if(!x)return;const Y=await dh("Delete Course",`Do you want to archive or permanently delete "${x}"?

        
        setIsBuildingDfp(true);
        setNextDayBuildEvents([]); // Clear previous build
        
        // Use preserved events if provided, otherwise use state
        const eventsToUse = preservedEvents || highestPriorityEvents;
        
        console.log(`ðŸš€ [NEO-Build] DEBUG runBuildAlgorithm called with ${eventsToUse.length} highest priority events`);
        
        const config: DfpConfig = {
            instructors: instructorsData,
            trainees: traineesData,
            syllabus: syllabusDetails,

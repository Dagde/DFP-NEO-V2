        );
    }
    
    // Smart name truncation for flights <= 1.1 hour
    const isShortFlight = effectiveDuration <= 1.1;
    
    const abbreviateName = (fullName: string) => {
      if (!fullName) return fullName;
      const parts = fullName.split(', ');
      if (parts.length !== 2) return fullName;
      
      const surname = parts[0];
      const firstName = parts[1];
      const firstInitial = firstName.charAt(0);
      
      return `${surname}, ${firstInitial}`;
    };

    // Apply name abbreviation for short flights
    const displayPicName = isShortFlight ? abbreviateName(picName || '') : picName;
    const displayStudentName = isShortFlight ? abbreviateName(studentName || '') : studentName;

    return (
        <>
            <div className="flex items-center justify-between h-full w-full px-2" style={textStyle}>
                <div className="flex-1 overflow-hidden pr-1" style={{ paddingLeft: '10%', minWidth: 0 }}>

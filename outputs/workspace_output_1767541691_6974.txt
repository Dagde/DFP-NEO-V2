lib/audit.ts(21,9): error TS2322: Type 'Record<string, any> | null' is not assignable to type 'NullableJsonNullValueInput | InputJsonValue | undefined'.
  Type 'null' is not assignable to type 'NullableJsonNullValueInput | InputJsonValue | undefined'.
lib/auth.ts(31,5): error TS2687: All declarations of 'email' must have identical modifiers.
lib/auth.ts(81,3): error TS2322: Type 'import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/adapters").Adapter' is not assignable to type 'import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").Adapter'.
  Types of property 'createUser' are incompatible.
    Type '((user: import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/adapters").AdapterUser) => import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_m...' is not assignable to type '((user: import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").AdapterUser) => import("/workspace/dfp-neo-platform/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").AdapterUser>) | undefined'.
      Type '(user: import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/adapters").AdapterUser) => import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_mo...' is not assignable to type '(user: import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").AdapterUser) => import("/workspace/dfp-neo-platform/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").AdapterUser>'.
        Type 'import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/prisma-adapter/node_modules/@auth/core/adapters").AdapterUser>' is not assignable to type 'import("/workspace/dfp-neo-platform/node_modules/@auth/core/types").Awaitable<import("/workspace/dfp-neo-platform/node_modules/@auth/core/adapters").AdapterUser>'.
          Type 'AdapterUser' is not assignable to type 'Awaitable<AdapterUser>'.
            Type 'AdapterUser' is missing the following properties from type 'AdapterUser': userId, displayName, status, permissionsRole, and 3 more.
lib/auth.ts(97,13): error TS2322: Type '(credentials: Partial<Record<"userId" | "password", unknown>>, req: Request) => Promise<{ id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { ...; }; mustChangePassword: boolean; } | null>' is not assignable to type '(credentials: Partial<Record<"userId" | "password", unknown>>, request: Request) => Awaitable<User | null>'.
  Type 'Promise<{ id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { id: string; name: string; }; mustChangePassword: boolean; } | null>' is not assignable to type 'Awaitable<User | null>'.
    Type 'Promise<{ id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { id: string; name: string; }; mustChangePassword: boolean; } | null>' is not assignable to type 'PromiseLike<User | null>'.
      Types of property 'then' are incompatible.
        Type '<TResult1 = { id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { id: string; name: string; }; mustChangePassword: boolean; } | null, TResult2 = never>(onfulfilled?: ((value: { ...; } | null) => TResult1 | PromiseLike<...>) | ... 1 more ... | undefined, ...' is not assignable to type '<TResult1 = User | null, TResult2 = never>(onfulfilled?: ((value: User | null) => TResult1 | PromiseLike<TResult1>) | null | undefined, onrejected?: ((reason: any) => TResult2 | PromiseLike<...>) | null | undefined) => PromiseLike<...>'.
          Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
            Types of parameters 'value' and 'value' are incompatible.
              Type '{ id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { id: string; name: string; }; mustChangePassword: boolean; } | null' is not assignable to type 'User | null'.
                Type '{ id: string; userId: string; displayName: string | null; email: string | null; status: "active"; permissionsRole: { id: string; name: string; }; mustChangePassword: boolean; }' is missing the following properties from type 'User': username, role
lib/auth.ts(106,20): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(106,56): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(122,24): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(151,26): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(168,26): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(184,26): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(201,26): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(224,24): error TS7052: Element implicitly has an 'any' type because type 'Headers' has no index signature. Did you mean to call 'req.headers.get'?
lib/auth.ts(267,9): error TS2322: Type 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.
lib/auth.ts(276,21): error TS2339: Property 'token' does not exist on type '{ session: void | AdapterSession | null | undefined; } | { token: JWT | null; }'.
lib/auth/auth.config.ts(53,13): error TS2322: Type '(credentials: Partial<Record<"username" | "password", unknown>>) => Promise<{ id: string; username: string; email: string; role: string; name: string; } | null>' is not assignable to type '(credentials: Partial<Record<"username" | "password", unknown>>, request: Request) => Awaitable<User | null>'.
  Type 'Promise<{ id: string; username: string; email: string; role: string; name: string; } | null>' is not assignable to type 'Awaitable<User | null>'.
    Type 'Promise<{ id: string; username: string; email: string; role: string; name: string; } | null>' is not assignable to type 'PromiseLike<User | null>'.
      Types of property 'then' are incompatible.
        Type '<TResult1 = { id: string; username: string; email: string; role: string; name: string; } | null, TResult2 = never>(onfulfilled?: ((value: { id: string; username: string; email: string; role: string; name: string; } | null) => TResult1 | PromiseLike<...>) | null | undefined, onrejected?: ((reason: any) => TResult2 | ...' is not assignable to type '<TResult1 = User | null, TResult2 = never>(onfulfilled?: ((value: User | null) => TResult1 | PromiseLike<TResult1>) | null | undefined, onrejected?: ((reason: any) => TResult2 | PromiseLike<...>) | null | undefined) => PromiseLike<...>'.
          Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
            Types of parameters 'value' and 'value' are incompatible.
              Type '{ id: string; username: string; email: string; role: string; name: string; } | null' is not assignable to type 'User | null'.
                Type '{ id: string; username: string; email: string; role: string; name: string; }' is missing the following properties from type 'User': userId, displayName, status, permissionsRole, mustChangePassword
scripts/add-user.ts(34,7): error TS2322: Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.
  Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; }' is not assignable to type 'Without<UserUncheckedCreateInput, UserCreateInput> & UserCreateInput'.
    Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; }' is missing the following properties from type 'UserCreateInput': userId, permissionsRole
scripts/add-users-from-json.ts(57,9): error TS2322: Type '{ username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; password: string; isActive: true; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.
  Type '{ username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; password: string; isActive: true; }' is not assignable to type 'Without<UserUncheckedCreateInput, UserCreateInput> & UserCreateInput'.
    Type '{ username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; password: string; isActive: true; }' is missing the following properties from type 'UserCreateInput': userId, permissionsRole
scripts/add-users-from-template.ts(84,9): error TS2322: Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; notes?: string; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.
  Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; notes?: string; }' is not assignable to type 'Without<UserUncheckedCreateInput, UserCreateInput> & UserCreateInput'.
    Type '{ password: string; isActive: true; username: string; email: string; role: "SUPER_ADMIN" | "ADMIN" | "PILOT" | "INSTRUCTOR" | "USER"; firstName: string; lastName: string; notes?: string | undefined; }' is missing the following properties from type 'UserCreateInput': userId, permissionsRole
scripts/setup-production-users.ts(47,9): error TS2322: Type '{ password: string; isActive: true; username: string; email: string; role: "ADMIN"; firstName: string; lastName: string; } | { password: string; isActive: true; username: string; email: string; role: "PILOT"; firstName: string; lastName: string; } | { ...; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.
  Type '{ password: string; isActive: true; username: string; email: string; role: "ADMIN"; firstName: string; lastName: string; }' is not assignable to type '(Without<UserCreateInput, UserUncheckedCreateInput> & UserUncheckedCreateInput) | (Without<...> & UserCreateInput)'.

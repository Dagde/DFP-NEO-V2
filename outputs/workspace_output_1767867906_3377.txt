    const traineeScores = scores.get(trainee.fullName) || [];
    const completedEventIds = new Set(traineeScores.map(s => s.event));
    
    // DEBUG: Log completion status
    const hasCompletedEvents = completedEventIds.size > 0;
    if (!hasCompletedEvents) {
        console.log(`\ud83d\udcc8 [${trainee.fullName}] No completed events found - trainee at start of syllabus`);
    }
    
    
    // NEW: Check for ELCE - events completed yesterday but not yet in PT-051
    if (publishedSchedules && buildDate) {
        const elce = getEffectiveLastCompletedEvent(trainee.fullName, publishedSchedules, buildDate);
        if (elce) {
            completedEventIds.add(elce);
        }
    }

    let nextEvt: SyllabusItemDetail | null = null;
    let plusOneEvt: SyllabusItemDetail | null = null;
    let nextEventIndex = -1;

    // Find Next Event
    for (let i = 0; i < individualLMP.length; i++) {
        const item = individualLMP[i];
        if (completedEventIds.has(item.id) || item.code.includes(' MB')) {
            continue;
        }

        // If no completed events, skip prerequisite check for first event (trainee at start of syllabus)
        const prereqsMet = hasCompletedEvents
            ? item.prerequisites.every(p => completedEventIds.has(p))
            : item.prerequisites.length === 0 || item.prerequisites.every(p => p.includes(' MB'));
        if (prereqsMet) {
            nextEvt = item;
            nextEventIndex = i;
            
            // Debug logging for remedial events

        };

    } catch (error) {
        console.error('âŒ Failed to load data from API:', error);
        console.log('âš ï¸ Falling back to mock data');

        return {
            instructors: ESL_DATA.instructors,
            trainees: ESL_DATA.trainees,
            aircraft: ESL_DATA.aircraft || [],
            scores: {},
            events: ESL_DATA.events || [],
        };
    }
}

/**
 * Merge database instructors with mock data
 * Prioritizes database data over mock data for duplicates
 * Sorts the merged list by unit, rank, then name
 */
function mergeInstructorData(dbInstructors: any[], mockInstructors: any[]): any[] {
    console.log('ğŸ”— mergeInstructorData() - Starting merge process');
    
    // Create a Map to track unique instructors by idNumber (prefer database)
    const instructorMap = new Map<number, any>();

    // First, add all database instructors
    dbInstructors.forEach(instructor => {
        if (instructor.idNumber) {
            instructorMap.set(instructor.idNumber, instructor);
        }
    });

    // Then, add mock instructors only if they don't exist in database (by idNumber)
    mockInstructors.forEach(instructor => {
        if (instructor.idNumber && !instructorMap.has(instructor.idNumber)) {
            instructorMap.set(instructor.idNumber, instructor);
        }
    });


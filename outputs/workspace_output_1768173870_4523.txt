                return <CourseRosterView 
                            events={events}
                            traineesData={traineesData}
                            courseColors={courseColors}
                            archivedCourses={archivedCourses}
                            personnelData={personnelData}
                            onNavigateToHateSheet={(trainee) => {
                                setSelectedTraineeForHateSheet(trainee);
                                handleNavigation('HateSheet');
                            }}
                            onRestoreCourse={() => {}}
                            onUpdateTrainee={(data) => {
                                const isNewTrainee = !traineesData.find(t => t.idNumber === data.idNumber);
                                
                                if (isNewTrainee) {
                                    // Initialize Individual LMP for new trainee
                                    const lmpType = data.lmpType || 'BPC+IPC';
                                    const masterLMP = syllabusDetails.filter(item => {
                                        if (lmpType === 'BPC+IPC') {
                                            return !item.lmpType || item.lmpType === 'Master LMP';
                                        }
